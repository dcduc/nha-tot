function c1(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var d1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A_={exports:{}},Kl={},M_={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=Symbol.for("react.element"),f1=Symbol.for("react.portal"),h1=Symbol.for("react.fragment"),p1=Symbol.for("react.strict_mode"),m1=Symbol.for("react.profiler"),g1=Symbol.for("react.provider"),v1=Symbol.for("react.context"),_1=Symbol.for("react.forward_ref"),y1=Symbol.for("react.suspense"),w1=Symbol.for("react.memo"),x1=Symbol.for("react.lazy"),ig=Symbol.iterator;function S1(e){return e===null||typeof e!="object"?null:(e=ig&&e[ig]||e["@@iterator"],typeof e=="function"?e:null)}var D_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,j_={};function os(e,t,n){this.props=e,this.context=t,this.refs=j_,this.updater=n||D_}os.prototype.isReactComponent={};os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U_(){}U_.prototype=os.prototype;function qf(e,t,n){this.props=e,this.context=t,this.refs=j_,this.updater=n||D_}var Kf=qf.prototype=new U_;Kf.constructor=qf;z_(Kf,os.prototype);Kf.isPureReactComponent=!0;var rg=Array.isArray,B_=Object.prototype.hasOwnProperty,Xf={current:null},F_={key:!0,ref:!0,__self:!0,__source:!0};function $_(e,t,n){var i,r={},o=null,l=null;if(t!=null)for(i in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)B_.call(t,i)&&!F_.hasOwnProperty(i)&&(r[i]=t[i]);var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){for(var u=Array(d),f=0;f<d;f++)u[f]=arguments[f+2];r.children=u}if(e&&e.defaultProps)for(i in d=e.defaultProps,d)r[i]===void 0&&(r[i]=d[i]);return{$$typeof:Lo,type:e,key:o,ref:l,props:r,_owner:Xf.current}}function b1(e,t){return{$$typeof:Lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lo}function T1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sg=/\/+/g;function bc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T1(""+e.key):t.toString(36)}function Ma(e,t,n,i,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Lo:case f1:l=!0}}if(l)return l=e,r=r(l),e=i===""?"."+bc(l,0):i,rg(r)?(n="",e!=null&&(n=e.replace(sg,"$&/")+"/"),Ma(r,t,n,"",function(f){return f})):r!=null&&(Jf(r)&&(r=b1(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(sg,"$&/")+"/")+e)),t.push(r)),1;if(l=0,i=i===""?".":i+":",rg(e))for(var d=0;d<e.length;d++){o=e[d];var u=i+bc(o,d);l+=Ma(o,t,n,u,r)}else if(u=S1(e),typeof u=="function")for(e=u.call(e),d=0;!(o=e.next()).done;)o=o.value,u=i+bc(o,d++),l+=Ma(o,t,n,u,r);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function da(e,t,n){if(e==null)return e;var i=[],r=0;return Ma(e,i,"","",function(o){return t.call(n,o,r++)}),i}function E1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ut={current:null},Da={transition:null},P1={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Da,ReactCurrentOwner:Xf};function H_(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:da,forEach:function(e,t,n){da(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return da(e,function(){t++}),t},toArray:function(e){return da(e,function(t){return t})||[]},only:function(e){if(!Jf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=os;le.Fragment=h1;le.Profiler=m1;le.PureComponent=qf;le.StrictMode=p1;le.Suspense=y1;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P1;le.act=H_;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=z_({},e.props),r=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Xf.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(u in t)B_.call(t,u)&&!F_.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&d!==void 0?d[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){d=Array(u);for(var f=0;f<u;f++)d[f]=arguments[f+2];i.children=d}return{$$typeof:Lo,type:e.type,key:r,ref:o,props:i,_owner:l}};le.createContext=function(e){return e={$$typeof:v1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:g1,_context:e},e.Consumer=e};le.createElement=$_;le.createFactory=function(e){var t=$_.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:_1,render:e}};le.isValidElement=Jf;le.lazy=function(e){return{$$typeof:x1,_payload:{_status:-1,_result:e},_init:E1}};le.memo=function(e,t){return{$$typeof:w1,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Da.transition;Da.transition={};try{e()}finally{Da.transition=t}};le.unstable_act=H_;le.useCallback=function(e,t){return ut.current.useCallback(e,t)};le.useContext=function(e){return ut.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return ut.current.useDeferredValue(e)};le.useEffect=function(e,t){return ut.current.useEffect(e,t)};le.useId=function(){return ut.current.useId()};le.useImperativeHandle=function(e,t,n){return ut.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return ut.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return ut.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return ut.current.useMemo(e,t)};le.useReducer=function(e,t,n){return ut.current.useReducer(e,t,n)};le.useRef=function(e){return ut.current.useRef(e)};le.useState=function(e){return ut.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return ut.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return ut.current.useTransition()};le.version="18.3.1";M_.exports=le;var k=M_.exports;const he=Zf(k),C1=c1({__proto__:null,default:he},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=k,L1=Symbol.for("react.element"),k1=Symbol.for("react.fragment"),O1=Object.prototype.hasOwnProperty,N1=I1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R1={key:!0,ref:!0,__self:!0,__source:!0};function W_(e,t,n){var i,r={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(i in t)O1.call(t,i)&&!R1.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:L1,type:e,key:o,ref:l,props:r,_owner:N1.current}}Kl.Fragment=k1;Kl.jsx=W_;Kl.jsxs=W_;A_.exports=Kl;var _=A_.exports,Sd={},V_={exports:{}},Et={},G_={exports:{}},Z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,K){var W=U.length;U.push(K);e:for(;0<W;){var J=W-1>>>1,H=U[J];if(0<r(H,K))U[J]=K,U[W]=H,W=J;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var K=U[0],W=U.pop();if(W!==K){U[0]=W;e:for(var J=0,H=U.length,ne=H>>>1;J<ne;){var ie=2*(J+1)-1,se=U[ie],ee=ie+1,Je=U[ee];if(0>r(se,W))ee<H&&0>r(Je,se)?(U[J]=Je,U[ee]=W,J=ee):(U[J]=se,U[ie]=W,J=ie);else if(ee<H&&0>r(Je,W))U[J]=Je,U[ee]=W,J=ee;else break e}}return K}function r(U,K){var W=U.sortIndex-K.sortIndex;return W!==0?W:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var u=[],f=[],p=1,g=null,v=3,w=!1,E=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var K=n(f);K!==null;){if(K.callback===null)i(f);else if(K.startTime<=U)i(f),K.sortIndex=K.expirationTime,t(u,K);else break;K=n(f)}}function P(U){if(b=!1,T(U),!E)if(n(u)!==null)E=!0,ye(N);else{var K=n(f);K!==null&&rt(P,K.startTime-U)}}function N(U,K){E=!1,b&&(b=!1,x(B),B=-1),w=!0;var W=v;try{for(T(K),g=n(u);g!==null&&(!(g.expirationTime>K)||U&&!j());){var J=g.callback;if(typeof J=="function"){g.callback=null,v=g.priorityLevel;var H=J(g.expirationTime<=K);K=e.unstable_now(),typeof H=="function"?g.callback=H:g===n(u)&&i(u),T(K)}else i(u);g=n(u)}if(g!==null)var ne=!0;else{var ie=n(f);ie!==null&&rt(P,ie.startTime-K),ne=!1}return ne}finally{g=null,v=W,w=!1}}var A=!1,M=null,B=-1,z=5,$=-1;function j(){return!(e.unstable_now()-$<z)}function G(){if(M!==null){var U=e.unstable_now();$=U;var K=!0;try{K=M(!0,U)}finally{K?Q():(A=!1,M=null)}}else A=!1}var Q;if(typeof y=="function")Q=function(){y(G)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,pe=ce.port2;ce.port1.onmessage=G,Q=function(){pe.postMessage(null)}}else Q=function(){C(G,0)};function ye(U){M=U,A||(A=!0,Q())}function rt(U,K){B=C(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){E||w||(E=!0,ye(N))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(U){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var W=v;v=K;try{return U()}finally{v=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=v;v=U;try{return K()}finally{v=W}},e.unstable_scheduleCallback=function(U,K,W){var J=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,U){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,U={id:p++,callback:K,priorityLevel:U,startTime:W,expirationTime:H,sortIndex:-1},W>J?(U.sortIndex=W,t(f,U),n(u)===null&&U===n(f)&&(b?(x(B),B=-1):b=!0,rt(P,W-J))):(U.sortIndex=H,t(u,U),E||w||(E=!0,ye(N))),U},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(U){var K=v;return function(){var W=v;v=K;try{return U.apply(this,arguments)}finally{v=W}}}})(Z_);G_.exports=Z_;var A1=G_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1=k,bt=A1;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q_=new Set,io={};function ur(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(io[e]=t,e=0;e<t.length;e++)q_.add(t[e])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bd=Object.prototype.hasOwnProperty,D1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,og={},ag={};function z1(e){return bd.call(ag,e)?!0:bd.call(og,e)?!1:D1.test(e)?ag[e]=!0:(og[e]=!0,!1)}function j1(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U1(e,t,n,i){if(t===null||typeof t>"u"||j1(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,i,r,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yf=/[\-:]([a-z])/g;function Qf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yf,Qf);Xe[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yf,Qf);Xe[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yf,Qf);Xe[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function eh(e,t,n,i){var r=Xe.hasOwnProperty(t)?Xe[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(U1(t,n,r,i)&&(n=null),i||r===null?z1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Fn=M1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fa=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),th=Symbol.for("react.strict_mode"),Td=Symbol.for("react.profiler"),K_=Symbol.for("react.provider"),X_=Symbol.for("react.context"),nh=Symbol.for("react.forward_ref"),Ed=Symbol.for("react.suspense"),Pd=Symbol.for("react.suspense_list"),ih=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),J_=Symbol.for("react.offscreen"),lg=Symbol.iterator;function ks(e){return e===null||typeof e!="object"?null:(e=lg&&e[lg]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Tc;function Us(e){if(Tc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tc=t&&t[1]||""}return`
`+Tc+e}var Ec=!1;function Pc(e,t){if(!e||Ec)return"";Ec=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var i=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){i=f}e.call(t.prototype)}else{try{throw Error()}catch(f){i=f}e()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),l=r.length-1,d=o.length-1;1<=l&&0<=d&&r[l]!==o[d];)d--;for(;1<=l&&0<=d;l--,d--)if(r[l]!==o[d]){if(l!==1||d!==1)do if(l--,d--,0>d||r[l]!==o[d]){var u=`
`+r[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=d);break}}}finally{Ec=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Us(e):""}function B1(e){switch(e.tag){case 5:return Us(e.type);case 16:return Us("Lazy");case 13:return Us("Suspense");case 19:return Us("SuspenseList");case 0:case 2:case 15:return e=Pc(e.type,!1),e;case 11:return e=Pc(e.type.render,!1),e;case 1:return e=Pc(e.type,!0),e;default:return""}}function Cd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Er:return"Portal";case Td:return"Profiler";case th:return"StrictMode";case Ed:return"Suspense";case Pd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X_:return(e.displayName||"Context")+".Consumer";case K_:return(e._context.displayName||"Context")+".Provider";case nh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ih:return t=e.displayName||null,t!==null?t:Cd(e.type)||"Memo";case Xn:t=e._payload,e=e._init;try{return Cd(e(t))}catch{}}return null}function F1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cd(t);case 8:return t===th?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ti(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $1(e){var t=Y_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ha(e){e._valueTracker||(e._valueTracker=$1(e))}function Q_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Y_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Id(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ug(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ti(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ey(e,t){t=t.checked,t!=null&&eh(e,"checked",t,!1)}function Ld(e,t){ey(e,t);var n=Ti(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kd(e,t.type,n):t.hasOwnProperty("defaultValue")&&kd(e,t.type,Ti(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kd(e,t,n){(t!=="number"||il(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bs=Array.isArray;function zr(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ti(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Od(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Bs(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ti(n)}}function ty(e,t){var n=Ti(t.value),i=Ti(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function fg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ny(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ny(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pa,iy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pa=pa||document.createElement("div"),pa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H1=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(e){H1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ws[t]=Ws[e]})});function ry(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ws.hasOwnProperty(e)&&Ws[e]?(""+t).trim():t+"px"}function sy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=ry(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var W1=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rd(e,t){if(t){if(W1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Ad(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=null;function rh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dd=null,jr=null,Ur=null;function hg(e){if(e=No(e)){if(typeof Dd!="function")throw Error(V(280));var t=e.stateNode;t&&(t=eu(t),Dd(e.stateNode,e.type,t))}}function oy(e){jr?Ur?Ur.push(e):Ur=[e]:jr=e}function ay(){if(jr){var e=jr,t=Ur;if(Ur=jr=null,hg(e),t)for(e=0;e<t.length;e++)hg(t[e])}}function ly(e,t){return e(t)}function uy(){}var Cc=!1;function cy(e,t,n){if(Cc)return e(t,n);Cc=!0;try{return ly(e,t,n)}finally{Cc=!1,(jr!==null||Ur!==null)&&(uy(),ay())}}function so(e,t){var n=e.stateNode;if(n===null)return null;var i=eu(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var zd=!1;if(An)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){zd=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{zd=!1}function V1(e,t,n,i,r,o,l,d,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var Vs=!1,rl=null,sl=!1,jd=null,G1={onError:function(e){Vs=!0,rl=e}};function Z1(e,t,n,i,r,o,l,d,u){Vs=!1,rl=null,V1.apply(G1,arguments)}function q1(e,t,n,i,r,o,l,d,u){if(Z1.apply(this,arguments),Vs){if(Vs){var f=rl;Vs=!1,rl=null}else throw Error(V(198));sl||(sl=!0,jd=f)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pg(e){if(cr(e)!==e)throw Error(V(188))}function K1(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return pg(r),e;if(o===i)return pg(r),t;o=o.sibling}throw Error(V(188))}if(n.return!==i.return)n=r,i=o;else{for(var l=!1,d=r.child;d;){if(d===n){l=!0,n=r,i=o;break}if(d===i){l=!0,i=r,n=o;break}d=d.sibling}if(!l){for(d=o.child;d;){if(d===n){l=!0,n=o,i=r;break}if(d===i){l=!0,i=o,n=r;break}d=d.sibling}if(!l)throw Error(V(189))}}if(n.alternate!==i)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function fy(e){return e=K1(e),e!==null?hy(e):null}function hy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hy(e);if(t!==null)return t;e=e.sibling}return null}var py=bt.unstable_scheduleCallback,mg=bt.unstable_cancelCallback,X1=bt.unstable_shouldYield,J1=bt.unstable_requestPaint,Ae=bt.unstable_now,Y1=bt.unstable_getCurrentPriorityLevel,sh=bt.unstable_ImmediatePriority,my=bt.unstable_UserBlockingPriority,ol=bt.unstable_NormalPriority,Q1=bt.unstable_LowPriority,gy=bt.unstable_IdlePriority,Xl=null,ln=null;function eT(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Xl,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:iT,tT=Math.log,nT=Math.LN2;function iT(e){return e>>>=0,e===0?32:31-(tT(e)/nT|0)|0}var ma=64,ga=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function al(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var d=l&~r;d!==0?i=Fs(d):(o&=l,o!==0&&(i=Fs(o)))}else l=n&~r,l!==0?i=Fs(l):o!==0&&(i=Fs(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,o=t&-t,r>=o||r===16&&(o&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-qt(t),r=1<<n,i|=e[n],t&=~r;return i}function rT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sT(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-qt(o),d=1<<l,u=r[l];u===-1?(!(d&n)||d&i)&&(r[l]=rT(d,t)):u<=t&&(e.expiredLanes|=d),o&=~d}}function Ud(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vy(){var e=ma;return ma<<=1,!(ma&4194240)&&(ma=64),e}function Ic(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ko(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=n}function oT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-qt(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}function oh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-qt(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var me=0;function _y(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yy,ah,wy,xy,Sy,Bd=!1,va=[],ui=null,ci=null,di=null,oo=new Map,ao=new Map,Yn=[],aT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gg(e,t){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(t.pointerId)}}function Ns(e,t,n,i,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},t!==null&&(t=No(t),t!==null&&ah(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function lT(e,t,n,i,r){switch(t){case"focusin":return ui=Ns(ui,e,t,n,i,r),!0;case"dragenter":return ci=Ns(ci,e,t,n,i,r),!0;case"mouseover":return di=Ns(di,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return oo.set(o,Ns(oo.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,ao.set(o,Ns(ao.get(o)||null,e,t,n,i,r)),!0}return!1}function by(e){var t=Hi(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=dy(n),t!==null){e.blockedOn=t,Sy(e.priority,function(){wy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Md=i,n.target.dispatchEvent(i),Md=null}else return t=No(n),t!==null&&ah(t),e.blockedOn=n,!1;t.shift()}return!0}function vg(e,t,n){za(e)&&n.delete(t)}function uT(){Bd=!1,ui!==null&&za(ui)&&(ui=null),ci!==null&&za(ci)&&(ci=null),di!==null&&za(di)&&(di=null),oo.forEach(vg),ao.forEach(vg)}function Rs(e,t){e.blockedOn===t&&(e.blockedOn=null,Bd||(Bd=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,uT)))}function lo(e){function t(r){return Rs(r,e)}if(0<va.length){Rs(va[0],e);for(var n=1;n<va.length;n++){var i=va[n];i.blockedOn===e&&(i.blockedOn=null)}}for(ui!==null&&Rs(ui,e),ci!==null&&Rs(ci,e),di!==null&&Rs(di,e),oo.forEach(t),ao.forEach(t),n=0;n<Yn.length;n++)i=Yn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)by(n),n.blockedOn===null&&Yn.shift()}var Br=Fn.ReactCurrentBatchConfig,ll=!0;function cT(e,t,n,i){var r=me,o=Br.transition;Br.transition=null;try{me=1,lh(e,t,n,i)}finally{me=r,Br.transition=o}}function dT(e,t,n,i){var r=me,o=Br.transition;Br.transition=null;try{me=4,lh(e,t,n,i)}finally{me=r,Br.transition=o}}function lh(e,t,n,i){if(ll){var r=Fd(e,t,n,i);if(r===null)jc(e,t,i,ul,n),gg(e,i);else if(lT(r,e,t,n,i))i.stopPropagation();else if(gg(e,i),t&4&&-1<aT.indexOf(e)){for(;r!==null;){var o=No(r);if(o!==null&&yy(o),o=Fd(e,t,n,i),o===null&&jc(e,t,i,ul,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else jc(e,t,i,null,n)}}var ul=null;function Fd(e,t,n,i){if(ul=null,e=rh(i),e=Hi(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ul=e,null}function Ty(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y1()){case sh:return 1;case my:return 4;case ol:case Q1:return 16;case gy:return 536870912;default:return 16}default:return 16}}var si=null,uh=null,ja=null;function Ey(){if(ja)return ja;var e,t=uh,n=t.length,i,r="value"in si?si.value:si.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(i=1;i<=l&&t[n-i]===r[o-i];i++);return ja=r.slice(e,1<i?1-i:void 0)}function Ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _a(){return!0}function _g(){return!1}function Pt(e){function t(n,i,r,o,l){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_a:_g,this.isPropagationStopped=_g,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),t}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ch=Pt(as),Oo=ke({},as,{view:0,detail:0}),fT=Pt(Oo),Lc,kc,As,Jl=ke({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(Lc=e.screenX-As.screenX,kc=e.screenY-As.screenY):kc=Lc=0,As=e),Lc)},movementY:function(e){return"movementY"in e?e.movementY:kc}}),yg=Pt(Jl),hT=ke({},Jl,{dataTransfer:0}),pT=Pt(hT),mT=ke({},Oo,{relatedTarget:0}),Oc=Pt(mT),gT=ke({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),vT=Pt(gT),_T=ke({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yT=Pt(_T),wT=ke({},as,{data:0}),wg=Pt(wT),xT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ST={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bT[e])?!!t[e]:!1}function dh(){return TT}var ET=ke({},Oo,{key:function(e){if(e.key){var t=xT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ST[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dh,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PT=Pt(ET),CT=ke({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=Pt(CT),IT=ke({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dh}),LT=Pt(IT),kT=ke({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),OT=Pt(kT),NT=ke({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=Pt(NT),AT=[9,13,27,32],fh=An&&"CompositionEvent"in window,Gs=null;An&&"documentMode"in document&&(Gs=document.documentMode);var MT=An&&"TextEvent"in window&&!Gs,Py=An&&(!fh||Gs&&8<Gs&&11>=Gs),Sg=String.fromCharCode(32),bg=!1;function Cy(e,t){switch(e){case"keyup":return AT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function DT(e,t){switch(e){case"compositionend":return Iy(t);case"keypress":return t.which!==32?null:(bg=!0,Sg);case"textInput":return e=t.data,e===Sg&&bg?null:e;default:return null}}function zT(e,t){if(Cr)return e==="compositionend"||!fh&&Cy(e,t)?(e=Ey(),ja=uh=si=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Py&&t.locale!=="ko"?null:t.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jT[e.type]:t==="textarea"}function Ly(e,t,n,i){oy(i),t=cl(t,"onChange"),0<t.length&&(n=new ch("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Zs=null,uo=null;function UT(e){By(e,0)}function Yl(e){var t=kr(e);if(Q_(t))return e}function BT(e,t){if(e==="change")return t}var ky=!1;if(An){var Nc;if(An){var Rc="oninput"in document;if(!Rc){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Rc=typeof Eg.oninput=="function"}Nc=Rc}else Nc=!1;ky=Nc&&(!document.documentMode||9<document.documentMode)}function Pg(){Zs&&(Zs.detachEvent("onpropertychange",Oy),uo=Zs=null)}function Oy(e){if(e.propertyName==="value"&&Yl(uo)){var t=[];Ly(t,uo,e,rh(e)),cy(UT,t)}}function FT(e,t,n){e==="focusin"?(Pg(),Zs=t,uo=n,Zs.attachEvent("onpropertychange",Oy)):e==="focusout"&&Pg()}function $T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(uo)}function HT(e,t){if(e==="click")return Yl(t)}function WT(e,t){if(e==="input"||e==="change")return Yl(t)}function VT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:VT;function co(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!bd.call(t,r)||!Jt(e[r],t[r]))return!1}return!0}function Cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ig(e,t){var n=Cg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cg(n)}}function Ny(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ny(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ry(){for(var e=window,t=il();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=il(e.document)}return t}function hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GT(e){var t=Ry(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ny(n.ownerDocument.documentElement,n)){if(i!==null&&hh(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=Ig(n,o);var l=Ig(n,i);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZT=An&&"documentMode"in document&&11>=document.documentMode,Ir=null,$d=null,qs=null,Hd=!1;function Lg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hd||Ir==null||Ir!==il(i)||(i=Ir,"selectionStart"in i&&hh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qs&&co(qs,i)||(qs=i,i=cl($d,"onSelect"),0<i.length&&(t=new ch("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ir)))}function ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lr={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},Ac={},Ay={};An&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Ql(e){if(Ac[e])return Ac[e];if(!Lr[e])return e;var t=Lr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ay)return Ac[e]=t[n];return e}var My=Ql("animationend"),Dy=Ql("animationiteration"),zy=Ql("animationstart"),jy=Ql("transitionend"),Uy=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){Uy.set(e,t),ur(t,[e])}for(var Mc=0;Mc<kg.length;Mc++){var Dc=kg[Mc],qT=Dc.toLowerCase(),KT=Dc[0].toUpperCase()+Dc.slice(1);Li(qT,"on"+KT)}Li(My,"onAnimationEnd");Li(Dy,"onAnimationIteration");Li(zy,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(jy,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XT=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function Og(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,q1(i,t,void 0,e),e.currentTarget=null}function By(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var l=i.length-1;0<=l;l--){var d=i[l],u=d.instance,f=d.currentTarget;if(d=d.listener,u!==o&&r.isPropagationStopped())break e;Og(r,d,f),o=u}else for(l=0;l<i.length;l++){if(d=i[l],u=d.instance,f=d.currentTarget,d=d.listener,u!==o&&r.isPropagationStopped())break e;Og(r,d,f),o=u}}}if(sl)throw e=jd,sl=!1,jd=null,e}function Se(e,t){var n=t[qd];n===void 0&&(n=t[qd]=new Set);var i=e+"__bubble";n.has(i)||(Fy(t,e,2,!1),n.add(i))}function zc(e,t,n){var i=0;t&&(i|=4),Fy(n,e,i,t)}var wa="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[wa]){e[wa]=!0,q_.forEach(function(n){n!=="selectionchange"&&(XT.has(n)||zc(n,!1,e),zc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wa]||(t[wa]=!0,zc("selectionchange",!1,t))}}function Fy(e,t,n,i){switch(Ty(t)){case 1:var r=cT;break;case 4:r=dT;break;default:r=lh}n=r.bind(null,t,n,e),r=void 0,!zd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function jc(e,t,n,i,r){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var d=i.stateNode.containerInfo;if(d===r||d.nodeType===8&&d.parentNode===r)break;if(l===4)for(l=i.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;l=l.return}for(;d!==null;){if(l=Hi(d),l===null)return;if(u=l.tag,u===5||u===6){i=o=l;continue e}d=d.parentNode}}i=i.return}cy(function(){var f=o,p=rh(n),g=[];e:{var v=Uy.get(e);if(v!==void 0){var w=ch,E=e;switch(e){case"keypress":if(Ua(n)===0)break e;case"keydown":case"keyup":w=PT;break;case"focusin":E="focus",w=Oc;break;case"focusout":E="blur",w=Oc;break;case"beforeblur":case"afterblur":w=Oc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=pT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=LT;break;case My:case Dy:case zy:w=vT;break;case jy:w=OT;break;case"scroll":w=fT;break;case"wheel":w=RT;break;case"copy":case"cut":case"paste":w=yT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=xg}var b=(t&4)!==0,C=!b&&e==="scroll",x=b?v!==null?v+"Capture":null:v;b=[];for(var y=f,T;y!==null;){T=y;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,x!==null&&(P=so(y,x),P!=null&&b.push(ho(y,P,T)))),C)break;y=y.return}0<b.length&&(v=new w(v,E,null,n,p),g.push({event:v,listeners:b}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",v&&n!==Md&&(E=n.relatedTarget||n.fromElement)&&(Hi(E)||E[Mn]))break e;if((w||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,w?(E=n.relatedTarget||n.toElement,w=f,E=E?Hi(E):null,E!==null&&(C=cr(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(w=null,E=f),w!==E)){if(b=yg,P="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(b=xg,P="onPointerLeave",x="onPointerEnter",y="pointer"),C=w==null?v:kr(w),T=E==null?v:kr(E),v=new b(P,y+"leave",w,n,p),v.target=C,v.relatedTarget=T,P=null,Hi(p)===f&&(b=new b(x,y+"enter",E,n,p),b.target=T,b.relatedTarget=C,P=b),C=P,w&&E)t:{for(b=w,x=E,y=0,T=b;T;T=Sr(T))y++;for(T=0,P=x;P;P=Sr(P))T++;for(;0<y-T;)b=Sr(b),y--;for(;0<T-y;)x=Sr(x),T--;for(;y--;){if(b===x||x!==null&&b===x.alternate)break t;b=Sr(b),x=Sr(x)}b=null}else b=null;w!==null&&Ng(g,v,w,b,!1),E!==null&&C!==null&&Ng(g,C,E,b,!0)}}e:{if(v=f?kr(f):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var N=BT;else if(Tg(v))if(ky)N=WT;else{N=$T;var A=FT}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=HT);if(N&&(N=N(e,f))){Ly(g,N,n,p);break e}A&&A(e,v,f),e==="focusout"&&(A=v._wrapperState)&&A.controlled&&v.type==="number"&&kd(v,"number",v.value)}switch(A=f?kr(f):window,e){case"focusin":(Tg(A)||A.contentEditable==="true")&&(Ir=A,$d=f,qs=null);break;case"focusout":qs=$d=Ir=null;break;case"mousedown":Hd=!0;break;case"contextmenu":case"mouseup":case"dragend":Hd=!1,Lg(g,n,p);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":Lg(g,n,p)}var M;if(fh)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Cr?Cy(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Py&&n.locale!=="ko"&&(Cr||B!=="onCompositionStart"?B==="onCompositionEnd"&&Cr&&(M=Ey()):(si=p,uh="value"in si?si.value:si.textContent,Cr=!0)),A=cl(f,B),0<A.length&&(B=new wg(B,e,null,n,p),g.push({event:B,listeners:A}),M?B.data=M:(M=Iy(n),M!==null&&(B.data=M)))),(M=MT?DT(e,n):zT(e,n))&&(f=cl(f,"onBeforeInput"),0<f.length&&(p=new wg("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:f}),p.data=M))}By(g,t)})}function ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cl(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=so(e,n),o!=null&&i.unshift(ho(e,o,r)),o=so(e,t),o!=null&&i.push(ho(e,o,r))),e=e.return}return i}function Sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ng(e,t,n,i,r){for(var o=t._reactName,l=[];n!==null&&n!==i;){var d=n,u=d.alternate,f=d.stateNode;if(u!==null&&u===i)break;d.tag===5&&f!==null&&(d=f,r?(u=so(n,o),u!=null&&l.unshift(ho(n,u,d))):r||(u=so(n,o),u!=null&&l.push(ho(n,u,d)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var JT=/\r\n?/g,YT=/\u0000|\uFFFD/g;function Rg(e){return(typeof e=="string"?e:""+e).replace(JT,`
`).replace(YT,"")}function xa(e,t,n){if(t=Rg(t),Rg(e)!==t&&n)throw Error(V(425))}function dl(){}var Wd=null,Vd=null;function Gd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zd=typeof setTimeout=="function"?setTimeout:void 0,QT=typeof clearTimeout=="function"?clearTimeout:void 0,Ag=typeof Promise=="function"?Promise:void 0,eE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ag<"u"?function(e){return Ag.resolve(null).then(e).catch(tE)}:Zd;function tE(e){setTimeout(function(){throw e})}function Uc(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),lo(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);lo(t)}function fi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ls=Math.random().toString(36).slice(2),sn="__reactFiber$"+ls,po="__reactProps$"+ls,Mn="__reactContainer$"+ls,qd="__reactEvents$"+ls,nE="__reactListeners$"+ls,iE="__reactHandles$"+ls;function Hi(e){var t=e[sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mn]||n[sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mg(e);e!==null;){if(n=e[sn])return n;e=Mg(e)}return t}e=n,n=e.parentNode}return null}function No(e){return e=e[sn]||e[Mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function eu(e){return e[po]||null}var Kd=[],Or=-1;function ki(e){return{current:e}}function be(e){0>Or||(e.current=Kd[Or],Kd[Or]=null,Or--)}function xe(e,t){Or++,Kd[Or]=e.current,e.current=t}var Ei={},nt=ki(Ei),mt=ki(!1),Yi=Ei;function Xr(e,t){var n=e.type.contextTypes;if(!n)return Ei;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function gt(e){return e=e.childContextTypes,e!=null}function fl(){be(mt),be(nt)}function Dg(e,t,n){if(nt.current!==Ei)throw Error(V(168));xe(nt,t),xe(mt,n)}function $y(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(V(108,F1(e)||"Unknown",r));return ke({},n,i)}function hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Yi=nt.current,xe(nt,e),xe(mt,mt.current),!0}function zg(e,t,n){var i=e.stateNode;if(!i)throw Error(V(169));n?(e=$y(e,t,Yi),i.__reactInternalMemoizedMergedChildContext=e,be(mt),be(nt),xe(nt,e)):be(mt),xe(mt,n)}var bn=null,tu=!1,Bc=!1;function Hy(e){bn===null?bn=[e]:bn.push(e)}function rE(e){tu=!0,Hy(e)}function Oi(){if(!Bc&&bn!==null){Bc=!0;var e=0,t=me;try{var n=bn;for(me=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}bn=null,tu=!1}catch(r){throw bn!==null&&(bn=bn.slice(e+1)),py(sh,Oi),r}finally{me=t,Bc=!1}}return null}var Nr=[],Rr=0,pl=null,ml=0,Nt=[],Rt=0,Qi=null,En=1,Pn="";function ji(e,t){Nr[Rr++]=ml,Nr[Rr++]=pl,pl=e,ml=t}function Wy(e,t,n){Nt[Rt++]=En,Nt[Rt++]=Pn,Nt[Rt++]=Qi,Qi=e;var i=En;e=Pn;var r=32-qt(i)-1;i&=~(1<<r),n+=1;var o=32-qt(t)+r;if(30<o){var l=r-r%5;o=(i&(1<<l)-1).toString(32),i>>=l,r-=l,En=1<<32-qt(t)+r|n<<r|i,Pn=o+e}else En=1<<o|n<<r|i,Pn=e}function ph(e){e.return!==null&&(ji(e,1),Wy(e,1,0))}function mh(e){for(;e===pl;)pl=Nr[--Rr],Nr[Rr]=null,ml=Nr[--Rr],Nr[Rr]=null;for(;e===Qi;)Qi=Nt[--Rt],Nt[Rt]=null,Pn=Nt[--Rt],Nt[Rt]=null,En=Nt[--Rt],Nt[Rt]=null}var St=null,wt=null,Pe=!1,Gt=null;function Vy(e,t){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function jg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,wt=fi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qi!==null?{id:En,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,St=e,wt=null,!0):!1;default:return!1}}function Xd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jd(e){if(Pe){var t=wt;if(t){var n=t;if(!jg(e,t)){if(Xd(e))throw Error(V(418));t=fi(n.nextSibling);var i=St;t&&jg(e,t)?Vy(i,n):(e.flags=e.flags&-4097|2,Pe=!1,St=e)}}else{if(Xd(e))throw Error(V(418));e.flags=e.flags&-4097|2,Pe=!1,St=e}}}function Ug(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function Sa(e){if(e!==St)return!1;if(!Pe)return Ug(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gd(e.type,e.memoizedProps)),t&&(t=wt)){if(Xd(e))throw Gy(),Error(V(418));for(;t;)Vy(e,t),t=fi(t.nextSibling)}if(Ug(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=fi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=St?fi(e.stateNode.nextSibling):null;return!0}function Gy(){for(var e=wt;e;)e=fi(e.nextSibling)}function Jr(){wt=St=null,Pe=!1}function gh(e){Gt===null?Gt=[e]:Gt.push(e)}var sE=Fn.ReactCurrentBatchConfig;function Ms(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var i=n.stateNode}if(!i)throw Error(V(147,e));var r=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var d=r.refs;l===null?delete d[o]:d[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function ba(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bg(e){var t=e._init;return t(e._payload)}function Zy(e){function t(x,y){if(e){var T=x.deletions;T===null?(x.deletions=[y],x.flags|=16):T.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function i(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function r(x,y){return x=gi(x,y),x.index=0,x.sibling=null,x}function o(x,y,T){return x.index=T,e?(T=x.alternate,T!==null?(T=T.index,T<y?(x.flags|=2,y):T):(x.flags|=2,y)):(x.flags|=1048576,y)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function d(x,y,T,P){return y===null||y.tag!==6?(y=Zc(T,x.mode,P),y.return=x,y):(y=r(y,T),y.return=x,y)}function u(x,y,T,P){var N=T.type;return N===Pr?p(x,y,T.props.children,P,T.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xn&&Bg(N)===y.type)?(P=r(y,T.props),P.ref=Ms(x,y,T),P.return=x,P):(P=Ga(T.type,T.key,T.props,null,x.mode,P),P.ref=Ms(x,y,T),P.return=x,P)}function f(x,y,T,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=qc(T,x.mode,P),y.return=x,y):(y=r(y,T.children||[]),y.return=x,y)}function p(x,y,T,P,N){return y===null||y.tag!==7?(y=qi(T,x.mode,P,N),y.return=x,y):(y=r(y,T),y.return=x,y)}function g(x,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zc(""+y,x.mode,T),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fa:return T=Ga(y.type,y.key,y.props,null,x.mode,T),T.ref=Ms(x,null,y),T.return=x,T;case Er:return y=qc(y,x.mode,T),y.return=x,y;case Xn:var P=y._init;return g(x,P(y._payload),T)}if(Bs(y)||ks(y))return y=qi(y,x.mode,T,null),y.return=x,y;ba(x,y)}return null}function v(x,y,T,P){var N=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return N!==null?null:d(x,y,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case fa:return T.key===N?u(x,y,T,P):null;case Er:return T.key===N?f(x,y,T,P):null;case Xn:return N=T._init,v(x,y,N(T._payload),P)}if(Bs(T)||ks(T))return N!==null?null:p(x,y,T,P,null);ba(x,T)}return null}function w(x,y,T,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(T)||null,d(y,x,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case fa:return x=x.get(P.key===null?T:P.key)||null,u(y,x,P,N);case Er:return x=x.get(P.key===null?T:P.key)||null,f(y,x,P,N);case Xn:var A=P._init;return w(x,y,T,A(P._payload),N)}if(Bs(P)||ks(P))return x=x.get(T)||null,p(y,x,P,N,null);ba(y,P)}return null}function E(x,y,T,P){for(var N=null,A=null,M=y,B=y=0,z=null;M!==null&&B<T.length;B++){M.index>B?(z=M,M=null):z=M.sibling;var $=v(x,M,T[B],P);if($===null){M===null&&(M=z);break}e&&M&&$.alternate===null&&t(x,M),y=o($,y,B),A===null?N=$:A.sibling=$,A=$,M=z}if(B===T.length)return n(x,M),Pe&&ji(x,B),N;if(M===null){for(;B<T.length;B++)M=g(x,T[B],P),M!==null&&(y=o(M,y,B),A===null?N=M:A.sibling=M,A=M);return Pe&&ji(x,B),N}for(M=i(x,M);B<T.length;B++)z=w(M,x,B,T[B],P),z!==null&&(e&&z.alternate!==null&&M.delete(z.key===null?B:z.key),y=o(z,y,B),A===null?N=z:A.sibling=z,A=z);return e&&M.forEach(function(j){return t(x,j)}),Pe&&ji(x,B),N}function b(x,y,T,P){var N=ks(T);if(typeof N!="function")throw Error(V(150));if(T=N.call(T),T==null)throw Error(V(151));for(var A=N=null,M=y,B=y=0,z=null,$=T.next();M!==null&&!$.done;B++,$=T.next()){M.index>B?(z=M,M=null):z=M.sibling;var j=v(x,M,$.value,P);if(j===null){M===null&&(M=z);break}e&&M&&j.alternate===null&&t(x,M),y=o(j,y,B),A===null?N=j:A.sibling=j,A=j,M=z}if($.done)return n(x,M),Pe&&ji(x,B),N;if(M===null){for(;!$.done;B++,$=T.next())$=g(x,$.value,P),$!==null&&(y=o($,y,B),A===null?N=$:A.sibling=$,A=$);return Pe&&ji(x,B),N}for(M=i(x,M);!$.done;B++,$=T.next())$=w(M,x,B,$.value,P),$!==null&&(e&&$.alternate!==null&&M.delete($.key===null?B:$.key),y=o($,y,B),A===null?N=$:A.sibling=$,A=$);return e&&M.forEach(function(G){return t(x,G)}),Pe&&ji(x,B),N}function C(x,y,T,P){if(typeof T=="object"&&T!==null&&T.type===Pr&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case fa:e:{for(var N=T.key,A=y;A!==null;){if(A.key===N){if(N=T.type,N===Pr){if(A.tag===7){n(x,A.sibling),y=r(A,T.props.children),y.return=x,x=y;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xn&&Bg(N)===A.type){n(x,A.sibling),y=r(A,T.props),y.ref=Ms(x,A,T),y.return=x,x=y;break e}n(x,A);break}else t(x,A);A=A.sibling}T.type===Pr?(y=qi(T.props.children,x.mode,P,T.key),y.return=x,x=y):(P=Ga(T.type,T.key,T.props,null,x.mode,P),P.ref=Ms(x,y,T),P.return=x,x=P)}return l(x);case Er:e:{for(A=T.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(x,y.sibling),y=r(y,T.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=qc(T,x.mode,P),y.return=x,x=y}return l(x);case Xn:return A=T._init,C(x,y,A(T._payload),P)}if(Bs(T))return E(x,y,T,P);if(ks(T))return b(x,y,T,P);ba(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(x,y.sibling),y=r(y,T),y.return=x,x=y):(n(x,y),y=Zc(T,x.mode,P),y.return=x,x=y),l(x)):n(x,y)}return C}var Yr=Zy(!0),qy=Zy(!1),gl=ki(null),vl=null,Ar=null,vh=null;function _h(){vh=Ar=vl=null}function yh(e){var t=gl.current;be(gl),e._currentValue=t}function Yd(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Fr(e,t){vl=e,vh=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(vh!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(vl===null)throw Error(V(308));Ar=e,vl.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var Wi=null;function wh(e){Wi===null?Wi=[e]:Wi.push(e)}function Ky(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,wh(t)):(n.next=r.next,r.next=n),t.interleaved=n,Dn(e,i)}function Dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jn=!1;function xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function On(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,de&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Dn(e,n)}return r=i.interleaved,r===null?(t.next=t,wh(i)):(t.next=r.next,r.next=t),i.interleaved=t,Dn(e,n)}function Ba(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,oh(e,n)}}function Fg(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _l(e,t,n,i){var r=e.updateQueue;Jn=!1;var o=r.firstBaseUpdate,l=r.lastBaseUpdate,d=r.shared.pending;if(d!==null){r.shared.pending=null;var u=d,f=u.next;u.next=null,l===null?o=f:l.next=f,l=u;var p=e.alternate;p!==null&&(p=p.updateQueue,d=p.lastBaseUpdate,d!==l&&(d===null?p.firstBaseUpdate=f:d.next=f,p.lastBaseUpdate=u))}if(o!==null){var g=r.baseState;l=0,p=f=u=null,d=o;do{var v=d.lane,w=d.eventTime;if((i&v)===v){p!==null&&(p=p.next={eventTime:w,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var E=e,b=d;switch(v=t,w=n,b.tag){case 1:if(E=b.payload,typeof E=="function"){g=E.call(w,g,v);break e}g=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=b.payload,v=typeof E=="function"?E.call(w,g,v):E,v==null)break e;g=ke({},g,v);break e;case 2:Jn=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,v=r.effects,v===null?r.effects=[d]:v.push(d))}else w={eventTime:w,lane:v,tag:d.tag,payload:d.payload,callback:d.callback,next:null},p===null?(f=p=w,u=g):p=p.next=w,l|=v;if(d=d.next,d===null){if(d=r.shared.pending,d===null)break;v=d,d=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(1);if(p===null&&(u=g),r.baseState=u,r.firstBaseUpdate=f,r.lastBaseUpdate=p,t=r.shared.interleaved,t!==null){r=t;do l|=r.lane,r=r.next;while(r!==t)}else o===null&&(r.shared.lanes=0);tr|=l,e.lanes=l,e.memoizedState=g}}function $g(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(V(191,r));r.call(i)}}}var Ro={},un=ki(Ro),mo=ki(Ro),go=ki(Ro);function Vi(e){if(e===Ro)throw Error(V(174));return e}function Sh(e,t){switch(xe(go,t),xe(mo,e),xe(un,Ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nd(t,e)}be(un),xe(un,t)}function Qr(){be(un),be(mo),be(go)}function Jy(e){Vi(go.current);var t=Vi(un.current),n=Nd(t,e.type);t!==n&&(xe(mo,e),xe(un,n))}function bh(e){mo.current===e&&(be(un),be(mo))}var Ie=ki(0);function yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fc=[];function Th(){for(var e=0;e<Fc.length;e++)Fc[e]._workInProgressVersionPrimary=null;Fc.length=0}var Fa=Fn.ReactCurrentDispatcher,$c=Fn.ReactCurrentBatchConfig,er=0,Le=null,Be=null,He=null,wl=!1,Ks=!1,vo=0,oE=0;function Ye(){throw Error(V(321))}function Eh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Ph(e,t,n,i,r,o){if(er=o,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fa.current=e===null||e.memoizedState===null?cE:dE,e=n(i,r),Ks){o=0;do{if(Ks=!1,vo=0,25<=o)throw Error(V(301));o+=1,He=Be=null,t.updateQueue=null,Fa.current=fE,e=n(i,r)}while(Ks)}if(Fa.current=xl,t=Be!==null&&Be.next!==null,er=0,He=Be=Le=null,wl=!1,t)throw Error(V(300));return e}function Ch(){var e=vo!==0;return vo=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Le.memoizedState=He=e:He=He.next=e,He}function zt(){if(Be===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=He===null?Le.memoizedState:He.next;if(t!==null)He=t,Be=e;else{if(e===null)throw Error(V(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},He===null?Le.memoizedState=He=e:He=He.next=e}return He}function _o(e,t){return typeof t=="function"?t(e):t}function Hc(e){var t=zt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var i=Be,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var l=r.next;r.next=o.next,o.next=l}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var d=l=null,u=null,f=o;do{var p=f.lane;if((er&p)===p)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:e(i,f.action);else{var g={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(d=u=g,l=i):u=u.next=g,Le.lanes|=p,tr|=p}f=f.next}while(f!==null&&f!==o);u===null?l=i:u.next=d,Jt(i,t.memoizedState)||(pt=!0),t.memoizedState=i,t.baseState=l,t.baseQueue=u,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do o=r.lane,Le.lanes|=o,tr|=o,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wc(e){var t=zt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do o=e(o,l.action),l=l.next;while(l!==r);Jt(o,t.memoizedState)||(pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Yy(){}function Qy(e,t){var n=Le,i=zt(),r=t(),o=!Jt(i.memoizedState,r);if(o&&(i.memoizedState=r,pt=!0),i=i.queue,Ih(n0.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,yo(9,t0.bind(null,n,i,r,t),void 0,null),Ve===null)throw Error(V(349));er&30||e0(n,t,r)}return r}function e0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function t0(e,t,n,i){t.value=n,t.getSnapshot=i,i0(t)&&r0(e)}function n0(e,t,n){return n(function(){i0(t)&&r0(e)})}function i0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch{return!0}}function r0(e){var t=Dn(e,1);t!==null&&Kt(t,e,1,-1)}function Hg(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=uE.bind(null,Le,e),[t.memoizedState,e]}function yo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function s0(){return zt().memoizedState}function $a(e,t,n,i){var r=rn();Le.flags|=e,r.memoizedState=yo(1|t,n,void 0,i===void 0?null:i)}function nu(e,t,n,i){var r=zt();i=i===void 0?null:i;var o=void 0;if(Be!==null){var l=Be.memoizedState;if(o=l.destroy,i!==null&&Eh(i,l.deps)){r.memoizedState=yo(t,n,o,i);return}}Le.flags|=e,r.memoizedState=yo(1|t,n,o,i)}function Wg(e,t){return $a(8390656,8,e,t)}function Ih(e,t){return nu(2048,8,e,t)}function o0(e,t){return nu(4,2,e,t)}function a0(e,t){return nu(4,4,e,t)}function l0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u0(e,t,n){return n=n!=null?n.concat([e]):null,nu(4,4,l0.bind(null,t,e),n)}function Lh(){}function c0(e,t){var n=zt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Eh(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function d0(e,t){var n=zt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Eh(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function f0(e,t,n){return er&21?(Jt(n,t)||(n=vy(),Le.lanes|=n,tr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n)}function aE(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var i=$c.transition;$c.transition={};try{e(!1),t()}finally{me=n,$c.transition=i}}function h0(){return zt().memoizedState}function lE(e,t,n){var i=mi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},p0(e))m0(t,n);else if(n=Ky(e,t,n,i),n!==null){var r=lt();Kt(n,e,i,r),g0(n,t,i)}}function uE(e,t,n){var i=mi(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(p0(e))m0(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,d=o(l,n);if(r.hasEagerState=!0,r.eagerState=d,Jt(d,l)){var u=t.interleaved;u===null?(r.next=r,wh(t)):(r.next=u.next,u.next=r),t.interleaved=r;return}}catch{}finally{}n=Ky(e,t,r,i),n!==null&&(r=lt(),Kt(n,e,i,r),g0(n,t,i))}}function p0(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function m0(e,t){Ks=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function g0(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,oh(e,n)}}var xl={readContext:Dt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},cE={readContext:Dt,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Wg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$a(4194308,4,l0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $a(4194308,4,e,t)},useInsertionEffect:function(e,t){return $a(4,2,e,t)},useMemo:function(e,t){var n=rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=rn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=lE.bind(null,Le,e),[i.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:Hg,useDebugValue:Lh,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=Hg(!1),t=e[0];return e=aE.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Le,r=rn();if(Pe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Ve===null)throw Error(V(349));er&30||e0(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Wg(n0.bind(null,i,o,e),[e]),i.flags|=2048,yo(9,t0.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=rn(),t=Ve.identifierPrefix;if(Pe){var n=Pn,i=En;n=(i&~(1<<32-qt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=vo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dE={readContext:Dt,useCallback:c0,useContext:Dt,useEffect:Ih,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:a0,useMemo:d0,useReducer:Hc,useRef:s0,useState:function(){return Hc(_o)},useDebugValue:Lh,useDeferredValue:function(e){var t=zt();return f0(t,Be.memoizedState,e)},useTransition:function(){var e=Hc(_o)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Yy,useSyncExternalStore:Qy,useId:h0,unstable_isNewReconciler:!1},fE={readContext:Dt,useCallback:c0,useContext:Dt,useEffect:Ih,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:a0,useMemo:d0,useReducer:Wc,useRef:s0,useState:function(){return Wc(_o)},useDebugValue:Lh,useDeferredValue:function(e){var t=zt();return Be===null?t.memoizedState=e:f0(t,Be.memoizedState,e)},useTransition:function(){var e=Wc(_o)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Yy,useSyncExternalStore:Qy,useId:h0,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qd(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var iu={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=lt(),r=mi(e),o=On(i,r);o.payload=t,n!=null&&(o.callback=n),t=hi(e,o,r),t!==null&&(Kt(t,e,r,i),Ba(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=lt(),r=mi(e),o=On(i,r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=hi(e,o,r),t!==null&&(Kt(t,e,r,i),Ba(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),i=mi(e),r=On(n,i);r.tag=2,t!=null&&(r.callback=t),t=hi(e,r,i),t!==null&&(Kt(t,e,i,n),Ba(t,e,i))}};function Vg(e,t,n,i,r,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,l):t.prototype&&t.prototype.isPureReactComponent?!co(n,i)||!co(r,o):!0}function v0(e,t,n){var i=!1,r=Ei,o=t.contextType;return typeof o=="object"&&o!==null?o=Dt(o):(r=gt(t)?Yi:nt.current,i=t.contextTypes,o=(i=i!=null)?Xr(e,r):Ei),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=iu,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Gg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&iu.enqueueReplaceState(t,t.state,null)}function ef(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},xh(e);var o=t.contextType;typeof o=="object"&&o!==null?r.context=Dt(o):(o=gt(t)?Yi:nt.current,r.context=Xr(e,o)),r.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qd(e,t,o,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&iu.enqueueReplaceState(r,r.state,null),_l(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,t){try{var n="",i=t;do n+=B1(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:r,digest:null}}function Vc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hE=typeof WeakMap=="function"?WeakMap:Map;function _0(e,t,n){n=On(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){bl||(bl=!0,ff=i),tf(e,t)},n}function y0(e,t,n){n=On(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){tf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tf(e,t),typeof i!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Zg(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new hE;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=CE.bind(null,e,t,n),t.then(e,e))}function qg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kg(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=On(-1,1),t.tag=2,hi(n,t,1))),n.lanes|=1),e)}var pE=Fn.ReactCurrentOwner,pt=!1;function at(e,t,n,i){t.child=e===null?qy(t,null,n,i):Yr(t,e.child,n,i)}function Xg(e,t,n,i,r){n=n.render;var o=t.ref;return Fr(t,r),i=Ph(e,t,n,i,o,r),n=Ch(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zn(e,t,r)):(Pe&&n&&ph(t),t.flags|=1,at(e,t,i,r),t.child)}function Jg(e,t,n,i,r){if(e===null){var o=n.type;return typeof o=="function"&&!zh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,w0(e,t,o,i,r)):(e=Ga(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&r)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(l,i)&&e.ref===t.ref)return zn(e,t,r)}return t.flags|=1,e=gi(o,i),e.ref=t.ref,e.return=t,t.child=e}function w0(e,t,n,i,r){if(e!==null){var o=e.memoizedProps;if(co(o,i)&&e.ref===t.ref)if(pt=!1,t.pendingProps=i=o,(e.lanes&r)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,zn(e,t,r)}return nf(e,t,n,i,r)}function x0(e,t,n){var i=t.pendingProps,r=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Dr,_t),_t|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Dr,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,xe(Dr,_t),_t|=i}else o!==null?(i=o.baseLanes|n,t.memoizedState=null):i=n,xe(Dr,_t),_t|=i;return at(e,t,r,n),t.child}function S0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function nf(e,t,n,i,r){var o=gt(n)?Yi:nt.current;return o=Xr(t,o),Fr(t,r),n=Ph(e,t,n,i,o,r),i=Ch(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zn(e,t,r)):(Pe&&i&&ph(t),t.flags|=1,at(e,t,n,r),t.child)}function Yg(e,t,n,i,r){if(gt(n)){var o=!0;hl(t)}else o=!1;if(Fr(t,r),t.stateNode===null)Ha(e,t),v0(t,n,i),ef(t,n,i,r),i=!0;else if(e===null){var l=t.stateNode,d=t.memoizedProps;l.props=d;var u=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=Dt(f):(f=gt(n)?Yi:nt.current,f=Xr(t,f));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==i||u!==f)&&Gg(t,l,i,f),Jn=!1;var v=t.memoizedState;l.state=v,_l(t,i,l,r),u=t.memoizedState,d!==i||v!==u||mt.current||Jn?(typeof p=="function"&&(Qd(t,n,p,i),u=t.memoizedState),(d=Jn||Vg(t,n,d,i,v,u,f))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),l.props=i,l.state=u,l.context=f,i=d):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{l=t.stateNode,Xy(e,t),d=t.memoizedProps,f=t.type===t.elementType?d:Wt(t.type,d),l.props=f,g=t.pendingProps,v=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=Dt(u):(u=gt(n)?Yi:nt.current,u=Xr(t,u));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==g||v!==u)&&Gg(t,l,i,u),Jn=!1,v=t.memoizedState,l.state=v,_l(t,i,l,r);var E=t.memoizedState;d!==g||v!==E||mt.current||Jn?(typeof w=="function"&&(Qd(t,n,w,i),E=t.memoizedState),(f=Jn||Vg(t,n,f,i,v,E,u)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,E,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,E,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=E),l.props=i,l.state=E,l.context=u,i=f):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),i=!1)}return rf(e,t,n,i,o,r)}function rf(e,t,n,i,r,o){S0(e,t);var l=(t.flags&128)!==0;if(!i&&!l)return r&&zg(t,n,!1),zn(e,t,o);i=t.stateNode,pE.current=t;var d=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&l?(t.child=Yr(t,e.child,null,o),t.child=Yr(t,null,d,o)):at(e,t,d,o),t.memoizedState=i.state,r&&zg(t,n,!0),t.child}function b0(e){var t=e.stateNode;t.pendingContext?Dg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dg(e,t.context,!1),Sh(e,t.containerInfo)}function Qg(e,t,n,i,r){return Jr(),gh(r),t.flags|=256,at(e,t,n,i),t.child}var sf={dehydrated:null,treeContext:null,retryLane:0};function of(e){return{baseLanes:e,cachePool:null,transitions:null}}function T0(e,t,n){var i=t.pendingProps,r=Ie.current,o=!1,l=(t.flags&128)!==0,d;if((d=l)||(d=e!==null&&e.memoizedState===null?!1:(r&2)!==0),d?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),xe(Ie,r&1),e===null)return Jd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=ou(l,i,0,null),e=qi(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=of(n),t.memoizedState=sf,e):kh(t,l));if(r=e.memoizedState,r!==null&&(d=r.dehydrated,d!==null))return mE(e,t,l,i,d,r,n);if(o){o=i.fallback,l=t.mode,r=e.child,d=r.sibling;var u={mode:"hidden",children:i.children};return!(l&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=u,t.deletions=null):(i=gi(r,u),i.subtreeFlags=r.subtreeFlags&14680064),d!==null?o=gi(d,o):(o=qi(o,l,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=e.child.memoizedState,l=l===null?of(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=sf,i}return o=e.child,e=o.sibling,i=gi(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function kh(e,t){return t=ou({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ta(e,t,n,i){return i!==null&&gh(i),Yr(t,e.child,null,n),e=kh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mE(e,t,n,i,r,o,l){if(n)return t.flags&256?(t.flags&=-257,i=Vc(Error(V(422))),Ta(e,t,l,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=ou({mode:"visible",children:i.children},r,0,null),o=qi(o,r,l,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&Yr(t,e.child,null,l),t.child.memoizedState=of(l),t.memoizedState=sf,o);if(!(t.mode&1))return Ta(e,t,l,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var d=i.dgst;return i=d,o=Error(V(419)),i=Vc(o,i,void 0),Ta(e,t,l,i)}if(d=(l&e.childLanes)!==0,pt||d){if(i=Ve,i!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|l)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Dn(e,r),Kt(i,e,r,-1))}return Dh(),i=Vc(Error(V(421))),Ta(e,t,l,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=IE.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,wt=fi(r.nextSibling),St=t,Pe=!0,Gt=null,e!==null&&(Nt[Rt++]=En,Nt[Rt++]=Pn,Nt[Rt++]=Qi,En=e.id,Pn=e.overflow,Qi=t),t=kh(t,i.children),t.flags|=4096,t)}function ev(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Yd(e.return,t,n)}function Gc(e,t,n,i,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function E0(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(at(e,t,i.children,n),i=Ie.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ev(e,n,t);else if(e.tag===19)ev(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(xe(Ie,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&yl(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Gc(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&yl(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Gc(t,!0,n,null,o);break;case"together":Gc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=gi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gE(e,t,n){switch(t.tag){case 3:b0(t),Jr();break;case 5:Jy(t);break;case 1:gt(t.type)&&hl(t);break;case 4:Sh(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;xe(gl,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(xe(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?T0(e,t,n):(xe(Ie,Ie.current&1),e=zn(e,t,n),e!==null?e.sibling:null);xe(Ie,Ie.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return E0(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),xe(Ie,Ie.current),i)break;return null;case 22:case 23:return t.lanes=0,x0(e,t,n)}return zn(e,t,n)}var P0,af,C0,I0;P0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};af=function(){};C0=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Vi(un.current);var o=null;switch(n){case"input":r=Id(e,r),i=Id(e,i),o=[];break;case"select":r=ke({},r,{value:void 0}),i=ke({},i,{value:void 0}),o=[];break;case"textarea":r=Od(e,r),i=Od(e,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=dl)}Rd(n,i);var l;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var d=r[f];for(l in d)d.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(io.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var u=i[f];if(d=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&u!==d&&(u!=null||d!=null))if(f==="style")if(d){for(l in d)!d.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&d[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,d=d?d.__html:void 0,u!=null&&d!==u&&(o=o||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(io.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&Se("scroll",e),o||d===u||(o=[])):(o=o||[]).push(f,u))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};I0=function(e,t,n,i){n!==i&&(t.flags|=4)};function Ds(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function vE(e,t,n){var i=t.pendingProps;switch(mh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return gt(t.type)&&fl(),Qe(t),null;case 3:return i=t.stateNode,Qr(),be(mt),be(nt),Th(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Sa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gt!==null&&(mf(Gt),Gt=null))),af(e,t),Qe(t),null;case 5:bh(t);var r=Vi(go.current);if(n=t.type,e!==null&&t.stateNode!=null)C0(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(V(166));return Qe(t),null}if(e=Vi(un.current),Sa(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[sn]=t,i[po]=o,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",i),Se("close",i);break;case"iframe":case"object":case"embed":Se("load",i);break;case"video":case"audio":for(r=0;r<$s.length;r++)Se($s[r],i);break;case"source":Se("error",i);break;case"img":case"image":case"link":Se("error",i),Se("load",i);break;case"details":Se("toggle",i);break;case"input":ug(i,o),Se("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Se("invalid",i);break;case"textarea":dg(i,o),Se("invalid",i)}Rd(n,o),r=null;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="children"?typeof d=="string"?i.textContent!==d&&(o.suppressHydrationWarning!==!0&&xa(i.textContent,d,e),r=["children",d]):typeof d=="number"&&i.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&xa(i.textContent,d,e),r=["children",""+d]):io.hasOwnProperty(l)&&d!=null&&l==="onScroll"&&Se("scroll",i)}switch(n){case"input":ha(i),cg(i,o,!0);break;case"textarea":ha(i),fg(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=dl)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ny(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),n==="select"&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[sn]=t,e[po]=i,P0(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ad(n,i),n){case"dialog":Se("cancel",e),Se("close",e),r=i;break;case"iframe":case"object":case"embed":Se("load",e),r=i;break;case"video":case"audio":for(r=0;r<$s.length;r++)Se($s[r],e);r=i;break;case"source":Se("error",e),r=i;break;case"img":case"image":case"link":Se("error",e),Se("load",e),r=i;break;case"details":Se("toggle",e),r=i;break;case"input":ug(e,i),r=Id(e,i),Se("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=ke({},i,{value:void 0}),Se("invalid",e);break;case"textarea":dg(e,i),r=Od(e,i),Se("invalid",e);break;default:r=i}Rd(n,r),d=r;for(o in d)if(d.hasOwnProperty(o)){var u=d[o];o==="style"?sy(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&iy(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ro(e,u):typeof u=="number"&&ro(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(io.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Se("scroll",e):u!=null&&eh(e,o,u,l))}switch(n){case"input":ha(e),cg(e,i,!1);break;case"textarea":ha(e),fg(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ti(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?zr(e,!!i.multiple,o,!1):i.defaultValue!=null&&zr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)I0(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(V(166));if(n=Vi(go.current),Vi(un.current),Sa(t)){if(i=t.stateNode,n=t.memoizedProps,i[sn]=t,(o=i.nodeValue!==n)&&(e=St,e!==null))switch(e.tag){case 3:xa(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xa(i.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[sn]=t,t.stateNode=i}return Qe(t),null;case 13:if(be(Ie),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&wt!==null&&t.mode&1&&!(t.flags&128))Gy(),Jr(),t.flags|=98560,o=!1;else if(o=Sa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[sn]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),o=!1}else Gt!==null&&(mf(Gt),Gt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Fe===0&&(Fe=3):Dh())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Qr(),af(e,t),e===null&&fo(t.stateNode.containerInfo),Qe(t),null;case 10:return yh(t.type._context),Qe(t),null;case 17:return gt(t.type)&&fl(),Qe(t),null;case 19:if(be(Ie),o=t.memoizedState,o===null)return Qe(t),null;if(i=(t.flags&128)!==0,l=o.rendering,l===null)if(i)Ds(o,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=yl(e),l!==null){for(t.flags|=128,Ds(o,!1),i=l.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)o=n,e=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Ie,Ie.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ae()>ts&&(t.flags|=128,i=!0,Ds(o,!1),t.lanes=4194304)}else{if(!i)if(e=yl(l),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ds(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Pe)return Qe(t),null}else 2*Ae()-o.renderingStartTime>ts&&n!==1073741824&&(t.flags|=128,i=!0,Ds(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ae(),t.sibling=null,n=Ie.current,xe(Ie,i?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return Mh(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?_t&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function _E(e,t){switch(mh(t),t.tag){case 1:return gt(t.type)&&fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),be(mt),be(nt),Th(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bh(t),null;case 13:if(be(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Ie),null;case 4:return Qr(),null;case 10:return yh(t.type._context),null;case 22:case 23:return Mh(),null;case 24:return null;default:return null}}var Ea=!1,tt=!1,yE=typeof WeakSet=="function"?WeakSet:Set,q=null;function Mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ne(e,t,i)}else n.current=null}function lf(e,t,n){try{n()}catch(i){Ne(e,t,i)}}var tv=!1;function wE(e,t){if(Wd=ll,e=Ry(),hh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,d=-1,u=-1,f=0,p=0,g=e,v=null;t:for(;;){for(var w;g!==n||r!==0&&g.nodeType!==3||(d=l+r),g!==o||i!==0&&g.nodeType!==3||(u=l+i),g.nodeType===3&&(l+=g.nodeValue.length),(w=g.firstChild)!==null;)v=g,g=w;for(;;){if(g===e)break t;if(v===n&&++f===r&&(d=l),v===o&&++p===i&&(u=l),(w=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=w}n=d===-1||u===-1?null:{start:d,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vd={focusedElem:e,selectionRange:n},ll=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var b=E.memoizedProps,C=E.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Wt(t.type,b),C);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(P){Ne(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return E=tv,tv=!1,E}function Xs(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,o!==void 0&&lf(t,n,o)}r=r.next}while(r!==i)}}function ru(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function uf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function L0(e){var t=e.alternate;t!==null&&(e.alternate=null,L0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[po],delete t[qd],delete t[nE],delete t[iE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k0(e){return e.tag===5||e.tag===3||e.tag===4}function nv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dl));else if(i!==4&&(e=e.child,e!==null))for(cf(e,t,n),e=e.sibling;e!==null;)cf(e,t,n),e=e.sibling}function df(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(df(e,t,n),e=e.sibling;e!==null;)df(e,t,n),e=e.sibling}var qe=null,Vt=!1;function Zn(e,t,n){for(n=n.child;n!==null;)O0(e,t,n),n=n.sibling}function O0(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Xl,n)}catch{}switch(n.tag){case 5:tt||Mr(n,t);case 6:var i=qe,r=Vt;qe=null,Zn(e,t,n),qe=i,Vt=r,qe!==null&&(Vt?(e=qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(Vt?(e=qe,n=n.stateNode,e.nodeType===8?Uc(e.parentNode,n):e.nodeType===1&&Uc(e,n),lo(e)):Uc(qe,n.stateNode));break;case 4:i=qe,r=Vt,qe=n.stateNode.containerInfo,Vt=!0,Zn(e,t,n),qe=i,Vt=r;break;case 0:case 11:case 14:case 15:if(!tt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&lf(n,t,l),r=r.next}while(r!==i)}Zn(e,t,n);break;case 1:if(!tt&&(Mr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(d){Ne(n,t,d)}Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:n.mode&1?(tt=(i=tt)||n.memoizedState!==null,Zn(e,t,n),tt=i):Zn(e,t,n);break;default:Zn(e,t,n)}}function iv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yE),t.forEach(function(i){var r=LE.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function $t(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,l=t,d=l;e:for(;d!==null;){switch(d.tag){case 5:qe=d.stateNode,Vt=!1;break e;case 3:qe=d.stateNode.containerInfo,Vt=!0;break e;case 4:qe=d.stateNode.containerInfo,Vt=!0;break e}d=d.return}if(qe===null)throw Error(V(160));O0(o,l,r),qe=null,Vt=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(f){Ne(r,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)N0(t,e),t=t.sibling}function N0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),nn(e),i&4){try{Xs(3,e,e.return),ru(3,e)}catch(b){Ne(e,e.return,b)}try{Xs(5,e,e.return)}catch(b){Ne(e,e.return,b)}}break;case 1:$t(t,e),nn(e),i&512&&n!==null&&Mr(n,n.return);break;case 5:if($t(t,e),nn(e),i&512&&n!==null&&Mr(n,n.return),e.flags&32){var r=e.stateNode;try{ro(r,"")}catch(b){Ne(e,e.return,b)}}if(i&4&&(r=e.stateNode,r!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,d=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&ey(r,o),Ad(d,l);var f=Ad(d,o);for(l=0;l<u.length;l+=2){var p=u[l],g=u[l+1];p==="style"?sy(r,g):p==="dangerouslySetInnerHTML"?iy(r,g):p==="children"?ro(r,g):eh(r,p,g,f)}switch(d){case"input":Ld(r,o);break;case"textarea":ty(r,o);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?zr(r,!!o.multiple,w,!1):v!==!!o.multiple&&(o.defaultValue!=null?zr(r,!!o.multiple,o.defaultValue,!0):zr(r,!!o.multiple,o.multiple?[]:"",!1))}r[po]=o}catch(b){Ne(e,e.return,b)}}break;case 6:if($t(t,e),nn(e),i&4){if(e.stateNode===null)throw Error(V(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(b){Ne(e,e.return,b)}}break;case 3:if($t(t,e),nn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(b){Ne(e,e.return,b)}break;case 4:$t(t,e),nn(e);break;case 13:$t(t,e),nn(e),r=e.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Rh=Ae())),i&4&&iv(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(f=tt)||p,$t(t,e),tt=f):$t(t,e),nn(e),i&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(q=e,p=e.child;p!==null;){for(g=q=p;q!==null;){switch(v=q,w=v.child,v.tag){case 0:case 11:case 14:case 15:Xs(4,v,v.return);break;case 1:Mr(v,v.return);var E=v.stateNode;if(typeof E.componentWillUnmount=="function"){i=v,n=v.return;try{t=i,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(b){Ne(i,n,b)}}break;case 5:Mr(v,v.return);break;case 22:if(v.memoizedState!==null){sv(g);continue}}w!==null?(w.return=v,q=w):sv(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{r=g.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=g.stateNode,u=g.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,d.style.display=ry("display",l))}catch(b){Ne(e,e.return,b)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(b){Ne(e,e.return,b)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:$t(t,e),nn(e),i&4&&iv(e);break;case 21:break;default:$t(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(k0(n)){var i=n;break e}n=n.return}throw Error(V(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ro(r,""),i.flags&=-33);var o=nv(e);df(e,o,r);break;case 3:case 4:var l=i.stateNode.containerInfo,d=nv(e);cf(e,d,l);break;default:throw Error(V(161))}}catch(u){Ne(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xE(e,t,n){q=e,R0(e)}function R0(e,t,n){for(var i=(e.mode&1)!==0;q!==null;){var r=q,o=r.child;if(r.tag===22&&i){var l=r.memoizedState!==null||Ea;if(!l){var d=r.alternate,u=d!==null&&d.memoizedState!==null||tt;d=Ea;var f=tt;if(Ea=l,(tt=u)&&!f)for(q=r;q!==null;)l=q,u=l.child,l.tag===22&&l.memoizedState!==null?ov(r):u!==null?(u.return=l,q=u):ov(r);for(;o!==null;)q=o,R0(o),o=o.sibling;q=r,Ea=d,tt=f}rv(e)}else r.subtreeFlags&8772&&o!==null?(o.return=r,q=o):rv(e)}}function rv(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||ru(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!tt)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$g(t,o,i);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$g(t,l,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&lo(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}tt||t.flags&512&&uf(t)}catch(v){Ne(t,t.return,v)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function sv(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function ov(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ne(t,n,u)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(u){Ne(t,r,u)}}var o=t.return;try{uf(t)}catch(u){Ne(t,o,u)}break;case 5:var l=t.return;try{uf(t)}catch(u){Ne(t,l,u)}}}catch(u){Ne(t,t.return,u)}if(t===e){q=null;break}var d=t.sibling;if(d!==null){d.return=t.return,q=d;break}q=t.return}}var SE=Math.ceil,Sl=Fn.ReactCurrentDispatcher,Oh=Fn.ReactCurrentOwner,Mt=Fn.ReactCurrentBatchConfig,de=0,Ve=null,Ue=null,Ke=0,_t=0,Dr=ki(0),Fe=0,wo=null,tr=0,su=0,Nh=0,Js=null,ht=null,Rh=0,ts=1/0,Sn=null,bl=!1,ff=null,pi=null,Pa=!1,oi=null,Tl=0,Ys=0,hf=null,Wa=-1,Va=0;function lt(){return de&6?Ae():Wa!==-1?Wa:Wa=Ae()}function mi(e){return e.mode&1?de&2&&Ke!==0?Ke&-Ke:sE.transition!==null?(Va===0&&(Va=vy()),Va):(e=me,e!==0||(e=window.event,e=e===void 0?16:Ty(e.type)),e):1}function Kt(e,t,n,i){if(50<Ys)throw Ys=0,hf=null,Error(V(185));ko(e,n,i),(!(de&2)||e!==Ve)&&(e===Ve&&(!(de&2)&&(su|=n),Fe===4&&Qn(e,Ke)),vt(e,i),n===1&&de===0&&!(t.mode&1)&&(ts=Ae()+500,tu&&Oi()))}function vt(e,t){var n=e.callbackNode;sT(e,t);var i=al(e,e===Ve?Ke:0);if(i===0)n!==null&&mg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&mg(n),t===1)e.tag===0?rE(av.bind(null,e)):Hy(av.bind(null,e)),eE(function(){!(de&6)&&Oi()}),n=null;else{switch(_y(i)){case 1:n=sh;break;case 4:n=my;break;case 16:n=ol;break;case 536870912:n=gy;break;default:n=ol}n=F0(n,A0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function A0(e,t){if(Wa=-1,Va=0,de&6)throw Error(V(327));var n=e.callbackNode;if($r()&&e.callbackNode!==n)return null;var i=al(e,e===Ve?Ke:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=El(e,i);else{t=i;var r=de;de|=2;var o=D0();(Ve!==e||Ke!==t)&&(Sn=null,ts=Ae()+500,Zi(e,t));do try{EE();break}catch(d){M0(e,d)}while(1);_h(),Sl.current=o,de=r,Ue!==null?t=0:(Ve=null,Ke=0,t=Fe)}if(t!==0){if(t===2&&(r=Ud(e),r!==0&&(i=r,t=pf(e,r))),t===1)throw n=wo,Zi(e,0),Qn(e,i),vt(e,Ae()),n;if(t===6)Qn(e,i);else{if(r=e.current.alternate,!(i&30)&&!bE(r)&&(t=El(e,i),t===2&&(o=Ud(e),o!==0&&(i=o,t=pf(e,o))),t===1))throw n=wo,Zi(e,0),Qn(e,i),vt(e,Ae()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(V(345));case 2:Ui(e,ht,Sn);break;case 3:if(Qn(e,i),(i&130023424)===i&&(t=Rh+500-Ae(),10<t)){if(al(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){lt(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Zd(Ui.bind(null,e,ht,Sn),t);break}Ui(e,ht,Sn);break;case 4:if(Qn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var l=31-qt(i);o=1<<l,l=t[l],l>r&&(r=l),i&=~o}if(i=r,i=Ae()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*SE(i/1960))-i,10<i){e.timeoutHandle=Zd(Ui.bind(null,e,ht,Sn),i);break}Ui(e,ht,Sn);break;case 5:Ui(e,ht,Sn);break;default:throw Error(V(329))}}}return vt(e,Ae()),e.callbackNode===n?A0.bind(null,e):null}function pf(e,t){var n=Js;return e.current.memoizedState.isDehydrated&&(Zi(e,t).flags|=256),e=El(e,t),e!==2&&(t=ht,ht=n,t!==null&&mf(t)),e}function mf(e){ht===null?ht=e:ht.push.apply(ht,e)}function bE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Jt(o(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~Nh,t&=~su,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),i=1<<n;e[n]=-1,t&=~i}}function av(e){if(de&6)throw Error(V(327));$r();var t=al(e,0);if(!(t&1))return vt(e,Ae()),null;var n=El(e,t);if(e.tag!==0&&n===2){var i=Ud(e);i!==0&&(t=i,n=pf(e,i))}if(n===1)throw n=wo,Zi(e,0),Qn(e,t),vt(e,Ae()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ui(e,ht,Sn),vt(e,Ae()),null}function Ah(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(ts=Ae()+500,tu&&Oi())}}function nr(e){oi!==null&&oi.tag===0&&!(de&6)&&$r();var t=de;de|=1;var n=Mt.transition,i=me;try{if(Mt.transition=null,me=1,e)return e()}finally{me=i,Mt.transition=n,de=t,!(de&6)&&Oi()}}function Mh(){_t=Dr.current,be(Dr)}function Zi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QT(n)),Ue!==null)for(n=Ue.return;n!==null;){var i=n;switch(mh(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&fl();break;case 3:Qr(),be(mt),be(nt),Th();break;case 5:bh(i);break;case 4:Qr();break;case 13:be(Ie);break;case 19:be(Ie);break;case 10:yh(i.type._context);break;case 22:case 23:Mh()}n=n.return}if(Ve=e,Ue=e=gi(e.current,null),Ke=_t=t,Fe=0,wo=null,Nh=su=tr=0,ht=Js=null,Wi!==null){for(t=0;t<Wi.length;t++)if(n=Wi[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=r,i.next=l}n.pending=i}Wi=null}return e}function M0(e,t){do{var n=Ue;try{if(_h(),Fa.current=xl,wl){for(var i=Le.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}wl=!1}if(er=0,He=Be=Le=null,Ks=!1,vo=0,Oh.current=null,n===null||n.return===null){Fe=1,wo=t,Ue=null;break}e:{var o=e,l=n.return,d=n,u=t;if(t=Ke,d.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,p=d,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=qg(l);if(w!==null){w.flags&=-257,Kg(w,l,d,o,t),w.mode&1&&Zg(o,f,t),t=w,u=f;var E=t.updateQueue;if(E===null){var b=new Set;b.add(u),t.updateQueue=b}else E.add(u);break e}else{if(!(t&1)){Zg(o,f,t),Dh();break e}u=Error(V(426))}}else if(Pe&&d.mode&1){var C=qg(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Kg(C,l,d,o,t),gh(es(u,d));break e}}o=u=es(u,d),Fe!==4&&(Fe=2),Js===null?Js=[o]:Js.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=_0(o,u,t);Fg(o,x);break e;case 1:d=u;var y=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(pi===null||!pi.has(T)))){o.flags|=65536,t&=-t,o.lanes|=t;var P=y0(o,d,t);Fg(o,P);break e}}o=o.return}while(o!==null)}j0(n)}catch(N){t=N,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(1)}function D0(){var e=Sl.current;return Sl.current=xl,e===null?xl:e}function Dh(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ve===null||!(tr&268435455)&&!(su&268435455)||Qn(Ve,Ke)}function El(e,t){var n=de;de|=2;var i=D0();(Ve!==e||Ke!==t)&&(Sn=null,Zi(e,t));do try{TE();break}catch(r){M0(e,r)}while(1);if(_h(),de=n,Sl.current=i,Ue!==null)throw Error(V(261));return Ve=null,Ke=0,Fe}function TE(){for(;Ue!==null;)z0(Ue)}function EE(){for(;Ue!==null&&!X1();)z0(Ue)}function z0(e){var t=B0(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?j0(e):Ue=t,Oh.current=null}function j0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_E(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Ue=null;return}}else if(n=vE(n,t,_t),n!==null){Ue=n;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Fe===0&&(Fe=5)}function Ui(e,t,n){var i=me,r=Mt.transition;try{Mt.transition=null,me=1,PE(e,t,n,i)}finally{Mt.transition=r,me=i}return null}function PE(e,t,n,i){do $r();while(oi!==null);if(de&6)throw Error(V(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(oT(e,o),e===Ve&&(Ue=Ve=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pa||(Pa=!0,F0(ol,function(){return $r(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Mt.transition,Mt.transition=null;var l=me;me=1;var d=de;de|=4,Oh.current=null,wE(e,n),N0(n,e),GT(Vd),ll=!!Wd,Vd=Wd=null,e.current=n,xE(n),J1(),de=d,me=l,Mt.transition=o}else e.current=n;if(Pa&&(Pa=!1,oi=e,Tl=r),o=e.pendingLanes,o===0&&(pi=null),eT(n.stateNode),vt(e,Ae()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(bl)throw bl=!1,e=ff,ff=null,e;return Tl&1&&e.tag!==0&&$r(),o=e.pendingLanes,o&1?e===hf?Ys++:(Ys=0,hf=e):Ys=0,Oi(),null}function $r(){if(oi!==null){var e=_y(Tl),t=Mt.transition,n=me;try{if(Mt.transition=null,me=16>e?16:e,oi===null)var i=!1;else{if(e=oi,oi=null,Tl=0,de&6)throw Error(V(331));var r=de;for(de|=4,q=e.current;q!==null;){var o=q,l=o.child;if(q.flags&16){var d=o.deletions;if(d!==null){for(var u=0;u<d.length;u++){var f=d[u];for(q=f;q!==null;){var p=q;switch(p.tag){case 0:case 11:case 15:Xs(8,p,o)}var g=p.child;if(g!==null)g.return=p,q=g;else for(;q!==null;){p=q;var v=p.sibling,w=p.return;if(L0(p),p===f){q=null;break}if(v!==null){v.return=w,q=v;break}q=w}}}var E=o.alternate;if(E!==null){var b=E.child;if(b!==null){E.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}q=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,q=l;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xs(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,q=x;break e}q=o.return}}var y=e.current;for(q=y;q!==null;){l=q;var T=l.child;if(l.subtreeFlags&2064&&T!==null)T.return=l,q=T;else e:for(l=y;q!==null;){if(d=q,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:ru(9,d)}}catch(N){Ne(d,d.return,N)}if(d===l){q=null;break e}var P=d.sibling;if(P!==null){P.return=d.return,q=P;break e}q=d.return}}if(de=r,Oi(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Xl,e)}catch{}i=!0}return i}finally{me=n,Mt.transition=t}}return!1}function lv(e,t,n){t=es(n,t),t=_0(e,t,1),e=hi(e,t,1),t=lt(),e!==null&&(ko(e,1,t),vt(e,t))}function Ne(e,t,n){if(e.tag===3)lv(e,e,n);else for(;t!==null;){if(t.tag===3){lv(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(pi===null||!pi.has(i))){e=es(n,e),e=y0(t,e,1),t=hi(t,e,1),e=lt(),t!==null&&(ko(t,1,e),vt(t,e));break}}t=t.return}}function CE(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ke&n)===n&&(Fe===4||Fe===3&&(Ke&130023424)===Ke&&500>Ae()-Rh?Zi(e,0):Nh|=n),vt(e,t)}function U0(e,t){t===0&&(e.mode&1?(t=ga,ga<<=1,!(ga&130023424)&&(ga=4194304)):t=1);var n=lt();e=Dn(e,t),e!==null&&(ko(e,t,n),vt(e,n))}function IE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),U0(e,n)}function LE(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(V(314))}i!==null&&i.delete(t),U0(e,n)}var B0;B0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pt=!1,gE(e,t,n);pt=!!(e.flags&131072)}else pt=!1,Pe&&t.flags&1048576&&Wy(t,ml,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ha(e,t),e=t.pendingProps;var r=Xr(t,nt.current);Fr(t,n),r=Ph(null,t,i,e,r,n);var o=Ch();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(i)?(o=!0,hl(t)):o=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,xh(t),r.updater=iu,t.stateNode=r,r._reactInternals=t,ef(t,i,e,n),t=rf(null,t,i,!0,o,n)):(t.tag=0,Pe&&o&&ph(t),at(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=OE(i),e=Wt(i,e),r){case 0:t=nf(null,t,i,e,n);break e;case 1:t=Yg(null,t,i,e,n);break e;case 11:t=Xg(null,t,i,e,n);break e;case 14:t=Jg(null,t,i,Wt(i.type,e),n);break e}throw Error(V(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Wt(i,r),nf(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Wt(i,r),Yg(e,t,i,r,n);case 3:e:{if(b0(t),e===null)throw Error(V(387));i=t.pendingProps,o=t.memoizedState,r=o.element,Xy(e,t),_l(t,i,null,n);var l=t.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){r=es(Error(V(423)),t),t=Qg(e,t,i,n,r);break e}else if(i!==r){r=es(Error(V(424)),t),t=Qg(e,t,i,n,r);break e}else for(wt=fi(t.stateNode.containerInfo.firstChild),St=t,Pe=!0,Gt=null,n=qy(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),i===r){t=zn(e,t,n);break e}at(e,t,i,n)}t=t.child}return t;case 5:return Jy(t),e===null&&Jd(t),i=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,l=r.children,Gd(i,r)?l=null:o!==null&&Gd(i,o)&&(t.flags|=32),S0(e,t),at(e,t,l,n),t.child;case 6:return e===null&&Jd(t),null;case 13:return T0(e,t,n);case 4:return Sh(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Yr(t,null,i,n):at(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Wt(i,r),Xg(e,t,i,r,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,l=r.value,xe(gl,i._currentValue),i._currentValue=l,o!==null)if(Jt(o.value,l)){if(o.children===r.children&&!mt.current){t=zn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){l=o.child;for(var u=d.firstContext;u!==null;){if(u.context===i){if(o.tag===1){u=On(-1,n&-n),u.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?u.next=u:(u.next=p.next,p.next=u),f.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Yd(o.return,n,t),d.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(V(341));l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Yd(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}at(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Fr(t,n),r=Dt(r),i=i(r),t.flags|=1,at(e,t,i,n),t.child;case 14:return i=t.type,r=Wt(i,t.pendingProps),r=Wt(i.type,r),Jg(e,t,i,r,n);case 15:return w0(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Wt(i,r),Ha(e,t),t.tag=1,gt(i)?(e=!0,hl(t)):e=!1,Fr(t,n),v0(t,i,r),ef(t,i,r,n),rf(null,t,i,!0,e,n);case 19:return E0(e,t,n);case 22:return x0(e,t,n)}throw Error(V(156,t.tag))};function F0(e,t){return py(e,t)}function kE(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,n,i){return new kE(e,t,n,i)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OE(e){if(typeof e=="function")return zh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nh)return 11;if(e===ih)return 14}return 2}function gi(e,t){var n=e.alternate;return n===null?(n=At(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ga(e,t,n,i,r,o){var l=2;if(i=e,typeof e=="function")zh(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Pr:return qi(n.children,r,o,t);case th:l=8,r|=8;break;case Td:return e=At(12,n,t,r|2),e.elementType=Td,e.lanes=o,e;case Ed:return e=At(13,n,t,r),e.elementType=Ed,e.lanes=o,e;case Pd:return e=At(19,n,t,r),e.elementType=Pd,e.lanes=o,e;case J_:return ou(n,r,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K_:l=10;break e;case X_:l=9;break e;case nh:l=11;break e;case ih:l=14;break e;case Xn:l=16,i=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=At(l,n,t,r),t.elementType=e,t.type=i,t.lanes=o,t}function qi(e,t,n,i){return e=At(7,e,i,t),e.lanes=n,e}function ou(e,t,n,i){return e=At(22,e,i,t),e.elementType=J_,e.lanes=n,e.stateNode={isHidden:!1},e}function Zc(e,t,n){return e=At(6,e,null,t),e.lanes=n,e}function qc(e,t,n){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NE(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ic(0),this.expirationTimes=Ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function jh(e,t,n,i,r,o,l,d,u){return e=new NE(e,t,n,d,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=At(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(o),e}function RE(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function $0(e){if(!e)return Ei;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(gt(n))return $y(e,n,t)}return t}function H0(e,t,n,i,r,o,l,d,u){return e=jh(n,i,!0,e,r,o,l,d,u),e.context=$0(null),n=e.current,i=lt(),r=mi(n),o=On(i,r),o.callback=t??null,hi(n,o,r),e.current.lanes=r,ko(e,r,i),vt(e,i),e}function au(e,t,n,i){var r=t.current,o=lt(),l=mi(r);return n=$0(n),t.context===null?t.context=n:t.pendingContext=n,t=On(o,l),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=hi(r,t,l),e!==null&&(Kt(e,r,l,o),Ba(e,r,l)),l}function Pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uh(e,t){uv(e,t),(e=e.alternate)&&uv(e,t)}function AE(){return null}var W0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bh(e){this._internalRoot=e}lu.prototype.render=Bh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));au(e,t,null,null)};lu.prototype.unmount=Bh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nr(function(){au(null,e,null,null)}),t[Mn]=null}};function lu(e){this._internalRoot=e}lu.prototype.unstable_scheduleHydration=function(e){if(e){var t=xy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yn.length&&t!==0&&t<Yn[n].priority;n++);Yn.splice(n,0,e),n===0&&by(e)}};function Fh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cv(){}function ME(e,t,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=Pl(l);o.call(f)}}var l=H0(t,i,e,0,null,!1,!1,"",cv);return e._reactRootContainer=l,e[Mn]=l.current,fo(e.nodeType===8?e.parentNode:e),nr(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var d=i;i=function(){var f=Pl(u);d.call(f)}}var u=jh(e,0,!1,null,null,!1,!1,"",cv);return e._reactRootContainer=u,e[Mn]=u.current,fo(e.nodeType===8?e.parentNode:e),nr(function(){au(t,u,n,i)}),u}function cu(e,t,n,i,r){var o=n._reactRootContainer;if(o){var l=o;if(typeof r=="function"){var d=r;r=function(){var u=Pl(l);d.call(u)}}au(t,l,e,r)}else l=ME(n,t,e,r,i);return Pl(l)}yy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fs(t.pendingLanes);n!==0&&(oh(t,n|1),vt(t,Ae()),!(de&6)&&(ts=Ae()+500,Oi()))}break;case 13:nr(function(){var i=Dn(e,1);if(i!==null){var r=lt();Kt(i,e,1,r)}}),Uh(e,1)}};ah=function(e){if(e.tag===13){var t=Dn(e,134217728);if(t!==null){var n=lt();Kt(t,e,134217728,n)}Uh(e,134217728)}};wy=function(e){if(e.tag===13){var t=mi(e),n=Dn(e,t);if(n!==null){var i=lt();Kt(n,e,t,i)}Uh(e,t)}};xy=function(){return me};Sy=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};Dd=function(e,t,n){switch(t){case"input":if(Ld(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=eu(i);if(!r)throw Error(V(90));Q_(i),Ld(i,r)}}}break;case"textarea":ty(e,n);break;case"select":t=n.value,t!=null&&zr(e,!!n.multiple,t,!1)}};ly=Ah;uy=nr;var DE={usingClientEntryPoint:!1,Events:[No,kr,eu,oy,ay,Ah]},zs={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zE={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fy(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||AE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{Xl=Ca.inject(zE),ln=Ca}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DE;Et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(t))throw Error(V(200));return RE(e,t,null,n)};Et.createRoot=function(e,t){if(!Fh(e))throw Error(V(299));var n=!1,i="",r=W0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=jh(e,1,!1,null,null,n,!1,i,r),e[Mn]=t.current,fo(e.nodeType===8?e.parentNode:e),new Bh(t)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=fy(t),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return nr(e)};Et.hydrate=function(e,t,n){if(!uu(t))throw Error(V(200));return cu(null,e,t,!0,n)};Et.hydrateRoot=function(e,t,n){if(!Fh(e))throw Error(V(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",l=W0;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=H0(t,null,e,1,n??null,r,!1,o,l),e[Mn]=t.current,fo(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new lu(t)};Et.render=function(e,t,n){if(!uu(t))throw Error(V(200));return cu(null,e,t,!1,n)};Et.unmountComponentAtNode=function(e){if(!uu(e))throw Error(V(40));return e._reactRootContainer?(nr(function(){cu(null,null,e,!1,function(){e._reactRootContainer=null,e[Mn]=null})}),!0):!1};Et.unstable_batchedUpdates=Ah;Et.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!uu(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return cu(e,t,n,!1,i)};Et.version="18.3.1-next-f1338f8080-20240426";function V0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V0)}catch(e){console.error(e)}}V0(),V_.exports=Et;var $h=V_.exports,dv=$h;Sd.createRoot=dv.createRoot,Sd.hydrateRoot=dv.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xo.apply(this,arguments)}var ai;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ai||(ai={}));const fv="popstate";function jE(e){e===void 0&&(e={});function t(i,r){let{pathname:o,search:l,hash:d}=i.location;return gf("",{pathname:o,search:l,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Cl(r)}return BE(t,n,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UE(){return Math.random().toString(36).substr(2,8)}function hv(e,t){return{usr:e.state,key:e.key,idx:t}}function gf(e,t,n,i){return n===void 0&&(n=null),xo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?us(t):t,{state:n,key:t&&t.key||i||UE()})}function Cl(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function us(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function BE(e,t,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,d=ai.Pop,u=null,f=p();f==null&&(f=0,l.replaceState(xo({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function g(){d=ai.Pop;let C=p(),x=C==null?null:C-f;f=C,u&&u({action:d,location:b.location,delta:x})}function v(C,x){d=ai.Push;let y=gf(b.location,C,x);n&&n(y,C),f=p()+1;let T=hv(y,f),P=b.createHref(y);try{l.pushState(T,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(P)}o&&u&&u({action:d,location:b.location,delta:1})}function w(C,x){d=ai.Replace;let y=gf(b.location,C,x);n&&n(y,C),f=p();let T=hv(y,f),P=b.createHref(y);l.replaceState(T,"",P),o&&u&&u({action:d,location:b.location,delta:0})}function E(C){let x=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof C=="string"?C:Cl(C);return y=y.replace(/ $/,"%20"),Me(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let b={get action(){return d},get location(){return e(r,l)},listen(C){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(fv,g),u=C,()=>{r.removeEventListener(fv,g),u=null}},createHref(C){return t(r,C)},createURL:E,encodeLocation(C){let x=E(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:v,replace:w,go(C){return l.go(C)}};return b}var pv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pv||(pv={}));function FE(e,t,n){n===void 0&&(n="/");let i=typeof t=="string"?us(t):t,r=Hh(i.pathname||"/",n);if(r==null)return null;let o=Z0(e);$E(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=eP(r);l=JE(o[d],u)}return l}function Z0(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,l,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(Me(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let f=vi([i,u.relativePath]),p=n.concat(u);o.children&&o.children.length>0&&(Me(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Z0(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:KE(f,o.index),routesMeta:p})};return e.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))r(o,l);else for(let u of q0(o.path))r(o,l,u)}),t}function q0(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=q0(i.join("/")),d=[];return d.push(...l.map(u=>u===""?o:[o,u].join("/"))),r&&d.push(...l),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function $E(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XE(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const HE=/^:[\w-]+$/,WE=3,VE=2,GE=1,ZE=10,qE=-2,mv=e=>e==="*";function KE(e,t){let n=e.split("/"),i=n.length;return n.some(mv)&&(i+=qE),t&&(i+=VE),n.filter(r=>!mv(r)).reduce((r,o)=>r+(HE.test(o)?WE:o===""?GE:ZE),i)}function XE(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function JE(e,t){let{routesMeta:n}=e,i={},r="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],u=l===n.length-1,f=r==="/"?t:t.slice(r.length)||"/",p=YE({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},f);if(!p)return null;Object.assign(i,p.params);let g=d.route;o.push({params:i,pathname:vi([r,p.pathname]),pathnameBase:rP(vi([r,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(r=vi([r,p.pathnameBase]))}return o}function YE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=QE(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((f,p,g)=>{let{paramName:v,isOptional:w}=p;if(v==="*"){let b=d[g]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const E=d[g];return w&&!E?f[v]=void 0:f[v]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function QE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),G0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(i.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function eP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return G0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function tP(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?us(e):e;return{pathname:n?n.startsWith("/")?n:nP(n,t):t,search:sP(i),hash:oP(r)}}function nP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Kc(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wh(e,t){let n=iP(e);return t?n.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Vh(e,t,n,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=us(e):(r=xo({},e),Me(!r.pathname||!r.pathname.includes("?"),Kc("?","pathname","search",r)),Me(!r.pathname||!r.pathname.includes("#"),Kc("#","pathname","hash",r)),Me(!r.search||!r.search.includes("#"),Kc("#","search","hash",r)));let o=e===""||r.pathname==="",l=o?"/":r.pathname,d;if(l==null)d=n;else{let g=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}d=g>=0?t[g]:"/"}let u=tP(r,d),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}const vi=e=>e.join("/").replace(/\/\/+/g,"/"),rP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const K0=["post","put","patch","delete"];new Set(K0);const lP=["get",...K0];new Set(lP);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},So.apply(this,arguments)}const Gh=k.createContext(null),uP=k.createContext(null),Ni=k.createContext(null),du=k.createContext(null),hn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),X0=k.createContext(null);function cP(e,t){let{relative:n}=t===void 0?{}:t;cs()||Me(!1);let{basename:i,navigator:r}=k.useContext(Ni),{hash:o,pathname:l,search:d}=Q0(e,{relative:n}),u=l;return i!=="/"&&(u=l==="/"?i:vi([i,l])),r.createHref({pathname:u,search:d,hash:o})}function cs(){return k.useContext(du)!=null}function Ao(){return cs()||Me(!1),k.useContext(du).location}function J0(e){k.useContext(Ni).static||k.useLayoutEffect(e)}function $n(){let{isDataRoute:e}=k.useContext(hn);return e?EP():dP()}function dP(){cs()||Me(!1);let e=k.useContext(Gh),{basename:t,future:n,navigator:i}=k.useContext(Ni),{matches:r}=k.useContext(hn),{pathname:o}=Ao(),l=JSON.stringify(Wh(r,n.v7_relativeSplatPath)),d=k.useRef(!1);return J0(()=>{d.current=!0}),k.useCallback(function(f,p){if(p===void 0&&(p={}),!d.current)return;if(typeof f=="number"){i.go(f);return}let g=Vh(f,JSON.parse(l),o,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:vi([t,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[t,i,l,o,e])}const fP=k.createContext(null);function hP(e){let t=k.useContext(hn).outlet;return t&&k.createElement(fP.Provider,{value:e},t)}function Y0(){let{matches:e}=k.useContext(hn),t=e[e.length-1];return t?t.params:{}}function Q0(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=k.useContext(Ni),{matches:r}=k.useContext(hn),{pathname:o}=Ao(),l=JSON.stringify(Wh(r,i.v7_relativeSplatPath));return k.useMemo(()=>Vh(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function pP(e,t){return mP(e,t)}function mP(e,t,n,i){cs()||Me(!1);let{navigator:r}=k.useContext(Ni),{matches:o}=k.useContext(hn),l=o[o.length-1],d=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let f=Ao(),p;if(t){var g;let C=typeof t=="string"?us(t):t;u==="/"||(g=C.pathname)!=null&&g.startsWith(u)||Me(!1),p=C}else p=f;let v=p.pathname||"/",w=v;if(u!=="/"){let C=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=FE(e,{pathname:w}),b=wP(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:vi([u,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:vi([u,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,i);return t&&b?k.createElement(du.Provider,{value:{location:So({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ai.Pop}},b):b}function gP(){let e=TP(),t=aP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:r},n):null,o)}const vP=k.createElement(gP,null);class _P extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(hn.Provider,{value:this.props.routeContext},k.createElement(X0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yP(e){let{routeContext:t,match:n,children:i}=e,r=k.useContext(Gh);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(hn.Provider,{value:t},i)}function wP(e,t,n,i){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let l=e,d=(r=n)==null?void 0:r.errors;if(d!=null){let p=l.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);p>=0||Me(!1),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:v,errors:w}=n,E=g.route.loader&&v[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||E){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,g,v)=>{let w,E=!1,b=null,C=null;n&&(w=d&&g.route.id?d[g.route.id]:void 0,b=g.route.errorElement||vP,u&&(f<0&&v===0?(PP("route-fallback",!1),E=!0,C=null):f===v&&(E=!0,C=g.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,v+1)),y=()=>{let T;return w?T=b:E?T=C:g.route.Component?T=k.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=p,k.createElement(yP,{match:g,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?k.createElement(_P,{location:n.location,revalidation:n.revalidation,component:b,error:w,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var ew=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ew||{}),Il=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Il||{});function xP(e){let t=k.useContext(Gh);return t||Me(!1),t}function SP(e){let t=k.useContext(uP);return t||Me(!1),t}function bP(e){let t=k.useContext(hn);return t||Me(!1),t}function tw(e){let t=bP(),n=t.matches[t.matches.length-1];return n.route.id||Me(!1),n.route.id}function TP(){var e;let t=k.useContext(X0),n=SP(Il.UseRouteError),i=tw(Il.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function EP(){let{router:e}=xP(ew.UseNavigateStable),t=tw(Il.UseNavigateStable),n=k.useRef(!1);return J0(()=>{n.current=!0}),k.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,So({fromRouteId:t},o)))},[e,t])}const gv={};function PP(e,t,n){!t&&!gv[e]&&(gv[e]=!0)}function CP(e){let{to:t,replace:n,state:i,relative:r}=e;cs()||Me(!1);let{future:o,static:l}=k.useContext(Ni),{matches:d}=k.useContext(hn),{pathname:u}=Ao(),f=$n(),p=Vh(t,Wh(d,o.v7_relativeSplatPath),u,r==="path"),g=JSON.stringify(p);return k.useEffect(()=>f(JSON.parse(g),{replace:n,state:i,relative:r}),[f,g,r,n,i]),null}function IP(e){return hP(e.context)}function Ht(e){Me(!1)}function LP(e){let{basename:t="/",children:n=null,location:i,navigationType:r=ai.Pop,navigator:o,static:l=!1,future:d}=e;cs()&&Me(!1);let u=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:u,navigator:o,static:l,future:So({v7_relativeSplatPath:!1},d)}),[u,d,o,l]);typeof i=="string"&&(i=us(i));let{pathname:p="/",search:g="",hash:v="",state:w=null,key:E="default"}=i,b=k.useMemo(()=>{let C=Hh(p,u);return C==null?null:{location:{pathname:C,search:g,hash:v,state:w,key:E},navigationType:r}},[u,p,g,v,w,E,r]);return b==null?null:k.createElement(Ni.Provider,{value:f},k.createElement(du.Provider,{children:n,value:b}))}function kP(e){let{children:t,location:n}=e;return pP(vf(t),n)}new Promise(()=>{});function vf(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(i,r)=>{if(!k.isValidElement(i))return;let o=[...t,r];if(i.type===k.Fragment){n.push.apply(n,vf(i.props.children,o));return}i.type!==Ht&&Me(!1),!i.props.index||!i.props.children||Me(!1);let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=vf(i.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_f.apply(this,arguments)}function OP(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function NP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RP(e,t){return e.button===0&&(!t||t==="_self")&&!NP(e)}const AP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],MP="6";try{window.__reactRouterVersion=MP}catch{}const DP="startTransition",vv=C1[DP];function zP(e){let{basename:t,children:n,future:i,window:r}=e,o=k.useRef();o.current==null&&(o.current=jE({window:r,v5Compat:!0}));let l=o.current,[d,u]=k.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},p=k.useCallback(g=>{f&&vv?vv(()=>u(g)):u(g)},[u,f]);return k.useLayoutEffect(()=>l.listen(p),[l,p]),k.createElement(LP,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:l,future:i})}const jP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=k.forwardRef(function(t,n){let{onClick:i,relative:r,reloadDocument:o,replace:l,state:d,target:u,to:f,preventScrollReset:p,unstable_viewTransition:g}=t,v=OP(t,AP),{basename:w}=k.useContext(Ni),E,b=!1;if(typeof f=="string"&&UP.test(f)&&(E=f,jP))try{let T=new URL(window.location.href),P=f.startsWith("//")?new URL(T.protocol+f):new URL(f),N=Hh(P.pathname,w);P.origin===T.origin&&N!=null?f=N+P.search+P.hash:b=!0}catch{}let C=cP(f,{relative:r}),x=BP(f,{replace:l,state:d,target:u,preventScrollReset:p,relative:r,unstable_viewTransition:g});function y(T){i&&i(T),T.defaultPrevented||x(T)}return k.createElement("a",_f({},v,{href:E||C,onClick:b||o?i:y,ref:n,target:u}))});var _v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_v||(_v={}));var yv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yv||(yv={}));function BP(e,t){let{target:n,replace:i,state:r,preventScrollReset:o,relative:l,unstable_viewTransition:d}=t===void 0?{}:t,u=$n(),f=Ao(),p=Q0(e,{relative:l});return k.useCallback(g=>{if(RP(g,n)){g.preventDefault();let v=i!==void 0?i:Cl(f)===Cl(p);u(e,{replace:v,state:r,preventScrollReset:o,relative:l,unstable_viewTransition:d})}},[f,u,p,i,r,n,e,o,l,d])}function wv(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function Zh(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:wv(t[n])&&wv(e[n])&&Object.keys(t[n]).length>0&&Zh(e[n],t[n])})}const nw={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function dr(){const e=typeof document<"u"?document:{};return Zh(e,nw),e}const FP={document:nw,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Ct(){const e=typeof window<"u"?window:{};return Zh(e,FP),e}function $P(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function yf(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function Ll(){return Date.now()}function HP(e){const t=Ct();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function WP(e,t){t===void 0&&(t="x");const n=Ct();let i,r,o;const l=HP(e);return n.WebKitCSSMatrix?(r=l.transform||l.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(r==="none"?"":r)):(o=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?r=o.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),t==="y"&&(n.WebKitCSSMatrix?r=o.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Ia(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function VP(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function yt(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!VP(i)){const r=Object.keys(Object(i)).filter(o=>t.indexOf(o)<0);for(let o=0,l=r.length;o<l;o+=1){const d=r[o],u=Object.getOwnPropertyDescriptor(i,d);u!==void 0&&u.enumerable&&(Ia(e[d])&&Ia(i[d])?i[d].__swiper__?e[d]=i[d]:yt(e[d],i[d]):!Ia(e[d])&&Ia(i[d])?(e[d]={},i[d].__swiper__?e[d]=i[d]:yt(e[d],i[d])):e[d]=i[d])}}}return e}function La(e,t,n){e.style.setProperty(t,n)}function iw(e){let{swiper:t,targetPosition:n,side:i}=e;const r=Ct(),o=-t.translate;let l=null,d;const u=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const f=n>o?"next":"prev",p=(v,w)=>f==="next"&&v>=w||f==="prev"&&v<=w,g=()=>{d=new Date().getTime(),l===null&&(l=d);const v=Math.max(Math.min((d-l)/u,1),0),w=.5-Math.cos(v*Math.PI)/2;let E=o+w*(n-o);if(p(E,n)&&(E=n),t.wrapperEl.scrollTo({[i]:E}),p(E,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:E})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(g)};g()}function on(e,t){return t===void 0&&(t=""),[...e.children].filter(n=>n.matches(t))}function rw(e,t){t===void 0&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:[t]),n}function GP(e,t){const n=[];for(;e.previousElementSibling;){const i=e.previousElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}function ZP(e,t){const n=[];for(;e.nextElementSibling;){const i=e.nextElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}function li(e,t){return Ct().getComputedStyle(e,null).getPropertyValue(t)}function xv(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function qP(e,t){const n=[];let i=e.parentElement;for(;i;)t?i.matches(t)&&n.push(i):n.push(i),i=i.parentElement;return n}function Sv(e,t,n){const i=Ct();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let Xc;function KP(){const e=Ct(),t=dr();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function sw(){return Xc||(Xc=KP()),Xc}let Jc;function XP(e){let{userAgent:t}=e===void 0?{}:e;const n=sw(),i=Ct(),r=i.navigator.platform,o=t||i.navigator.userAgent,l={ios:!1,android:!1},d=i.screen.width,u=i.screen.height,f=o.match(/(Android);?[\s\/]+([\d.]+)?/);let p=o.match(/(iPad).*OS\s([\d_]+)/);const g=o.match(/(iPod)(.*OS\s([\d_]+))?/),v=!p&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w=r==="Win32";let E=r==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&E&&n.touch&&b.indexOf(`${d}x${u}`)>=0&&(p=o.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),E=!1),f&&!w&&(l.os="android",l.android=!0),(p||v||g)&&(l.os="ios",l.ios=!0),l}function JP(e){return e===void 0&&(e={}),Jc||(Jc=XP(e)),Jc}let Yc;function YP(){const e=Ct();let t=!1;function n(){const i=e.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(n()){const i=String(e.navigator.userAgent);if(i.includes("Version/")){const[r,o]=i.split("Version/")[1].split(" ")[0].split(".").map(l=>Number(l));t=r<16||r===16&&o<2}}return{isSafari:t||n(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function QP(){return Yc||(Yc=YP()),Yc}function eC(e){let{swiper:t,on:n,emit:i}=e;const r=Ct();let o=null,l=null;const d=()=>{!t||t.destroyed||!t.initialized||(i("beforeResize"),i("resize"))},u=()=>{!t||t.destroyed||!t.initialized||(o=new ResizeObserver(g=>{l=r.requestAnimationFrame(()=>{const{width:v,height:w}=t;let E=v,b=w;g.forEach(C=>{let{contentBoxSize:x,contentRect:y,target:T}=C;T&&T!==t.el||(E=y?y.width:(x[0]||x).inlineSize,b=y?y.height:(x[0]||x).blockSize)}),(E!==v||b!==w)&&d()})}),o.observe(t.el))},f=()=>{l&&r.cancelAnimationFrame(l),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null)},p=()=>{!t||t.destroyed||!t.initialized||i("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){u();return}r.addEventListener("resize",d),r.addEventListener("orientationchange",p)}),n("destroy",()=>{f(),r.removeEventListener("resize",d),r.removeEventListener("orientationchange",p)})}function tC(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;const o=[],l=Ct(),d=function(p,g){g===void 0&&(g={});const v=l.MutationObserver||l.WebkitMutationObserver,w=new v(E=>{if(t.__preventObserver__)return;if(E.length===1){r("observerUpdate",E[0]);return}const b=function(){r("observerUpdate",E[0])};l.requestAnimationFrame?l.requestAnimationFrame(b):l.setTimeout(b,0)});w.observe(p,{attributes:typeof g.attributes>"u"?!0:g.attributes,childList:typeof g.childList>"u"?!0:g.childList,characterData:typeof g.characterData>"u"?!0:g.characterData}),o.push(w)},u=()=>{if(t.params.observer){if(t.params.observeParents){const p=qP(t.hostEl);for(let g=0;g<p.length;g+=1)d(p[g])}d(t.hostEl,{childList:t.params.observeSlideChildren}),d(t.wrapperEl,{attributes:!1})}},f=()=>{o.forEach(p=>{p.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",u),i("destroy",f)}var nC={on(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;const r=n?"unshift":"push";return e.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][r](t)}),i},once(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;function r(){i.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];t.apply(i,l)}return r.__emitterProxy=t,i.on(e,r,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[i](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(i=>{typeof t>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,o)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[i].splice(o,1)})}),n},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,i;for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return typeof o[0]=="string"||Array.isArray(o[0])?(t=o[0],n=o.slice(1,o.length),i=e):(t=o[0].events,n=o[0].data,i=o[0].context||e),n.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach(u=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(f=>{f.apply(i,[u,...n])}),e.eventsListeners&&e.eventsListeners[u]&&e.eventsListeners[u].forEach(f=>{f.apply(i,n)})}),e}};function iC(){const e=this;let t,n;const i=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=i.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=i.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(li(i,"padding-left")||0,10)-parseInt(li(i,"padding-right")||0,10),n=n-parseInt(li(i,"padding-top")||0,10)-parseInt(li(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function rC(){const e=this;function t(j){return e.isHorizontal()?j:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[j]}function n(j,G){return parseFloat(j.getPropertyValue(t(G))||0)}const i=e.params,{wrapperEl:r,slidesEl:o,size:l,rtlTranslate:d,wrongRTL:u}=e,f=e.virtual&&i.virtual.enabled,p=f?e.virtual.slides.length:e.slides.length,g=on(o,`.${e.params.slideClass}, swiper-slide`),v=f?e.virtual.slides.length:g.length;let w=[];const E=[],b=[];let C=i.slidesOffsetBefore;typeof C=="function"&&(C=i.slidesOffsetBefore.call(e));let x=i.slidesOffsetAfter;typeof x=="function"&&(x=i.slidesOffsetAfter.call(e));const y=e.snapGrid.length,T=e.slidesGrid.length;let P=i.spaceBetween,N=-C,A=0,M=0;if(typeof l>"u")return;typeof P=="string"&&P.indexOf("%")>=0?P=parseFloat(P.replace("%",""))/100*l:typeof P=="string"&&(P=parseFloat(P)),e.virtualSize=-P,g.forEach(j=>{d?j.style.marginLeft="":j.style.marginRight="",j.style.marginBottom="",j.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(La(r,"--swiper-centered-offset-before",""),La(r,"--swiper-centered-offset-after",""));const B=i.grid&&i.grid.rows>1&&e.grid;B&&e.grid.initSlides(v);let z;const $=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(j=>typeof i.breakpoints[j].slidesPerView<"u").length>0;for(let j=0;j<v;j+=1){z=0;let G;if(g[j]&&(G=g[j]),B&&e.grid.updateSlide(j,G,v,t),!(g[j]&&li(G,"display")==="none")){if(i.slidesPerView==="auto"){$&&(g[j].style[t("width")]="");const Q=getComputedStyle(G),ce=G.style.transform,pe=G.style.webkitTransform;if(ce&&(G.style.transform="none"),pe&&(G.style.webkitTransform="none"),i.roundLengths)z=e.isHorizontal()?Sv(G,"width",!0):Sv(G,"height",!0);else{const ye=n(Q,"width"),rt=n(Q,"padding-left"),U=n(Q,"padding-right"),K=n(Q,"margin-left"),W=n(Q,"margin-right"),J=Q.getPropertyValue("box-sizing");if(J&&J==="border-box")z=ye+K+W;else{const{clientWidth:H,offsetWidth:ne}=G;z=ye+rt+U+K+W+(ne-H)}}ce&&(G.style.transform=ce),pe&&(G.style.webkitTransform=pe),i.roundLengths&&(z=Math.floor(z))}else z=(l-(i.slidesPerView-1)*P)/i.slidesPerView,i.roundLengths&&(z=Math.floor(z)),g[j]&&(g[j].style[t("width")]=`${z}px`);g[j]&&(g[j].swiperSlideSize=z),b.push(z),i.centeredSlides?(N=N+z/2+A/2+P,A===0&&j!==0&&(N=N-l/2-P),j===0&&(N=N-l/2-P),Math.abs(N)<1/1e3&&(N=0),i.roundLengths&&(N=Math.floor(N)),M%i.slidesPerGroup===0&&w.push(N),E.push(N)):(i.roundLengths&&(N=Math.floor(N)),(M-Math.min(e.params.slidesPerGroupSkip,M))%e.params.slidesPerGroup===0&&w.push(N),E.push(N),N=N+z+P),e.virtualSize+=z+P,A=z,M+=1}}if(e.virtualSize=Math.max(e.virtualSize,l)+x,d&&u&&(i.effect==="slide"||i.effect==="coverflow")&&(r.style.width=`${e.virtualSize+P}px`),i.setWrapperSize&&(r.style[t("width")]=`${e.virtualSize+P}px`),B&&e.grid.updateWrapperSize(z,w,t),!i.centeredSlides){const j=[];for(let G=0;G<w.length;G+=1){let Q=w[G];i.roundLengths&&(Q=Math.floor(Q)),w[G]<=e.virtualSize-l&&j.push(Q)}w=j,Math.floor(e.virtualSize-l)-Math.floor(w[w.length-1])>1&&w.push(e.virtualSize-l)}if(f&&i.loop){const j=b[0]+P;if(i.slidesPerGroup>1){const G=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/i.slidesPerGroup),Q=j*i.slidesPerGroup;for(let ce=0;ce<G;ce+=1)w.push(w[w.length-1]+Q)}for(let G=0;G<e.virtual.slidesBefore+e.virtual.slidesAfter;G+=1)i.slidesPerGroup===1&&w.push(w[w.length-1]+j),E.push(E[E.length-1]+j),e.virtualSize+=j}if(w.length===0&&(w=[0]),P!==0){const j=e.isHorizontal()&&d?"marginLeft":t("marginRight");g.filter((G,Q)=>!i.cssMode||i.loop?!0:Q!==g.length-1).forEach(G=>{G.style[j]=`${P}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let j=0;b.forEach(Q=>{j+=Q+(P||0)}),j-=P;const G=j-l;w=w.map(Q=>Q<=0?-C:Q>G?G+x:Q)}if(i.centerInsufficientSlides){let j=0;if(b.forEach(G=>{j+=G+(P||0)}),j-=P,j<l){const G=(l-j)/2;w.forEach((Q,ce)=>{w[ce]=Q-G}),E.forEach((Q,ce)=>{E[ce]=Q+G})}}if(Object.assign(e,{slides:g,snapGrid:w,slidesGrid:E,slidesSizesGrid:b}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){La(r,"--swiper-centered-offset-before",`${-w[0]}px`),La(r,"--swiper-centered-offset-after",`${e.size/2-b[b.length-1]/2}px`);const j=-e.snapGrid[0],G=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(Q=>Q+j),e.slidesGrid=e.slidesGrid.map(Q=>Q+G)}if(v!==p&&e.emit("slidesLengthChange"),w.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),E.length!==T&&e.emit("slidesGridLengthChange"),i.watchSlidesProgress&&e.updateSlidesOffset(),!f&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const j=`${i.containerModifierClass}backface-hidden`,G=e.el.classList.contains(j);v<=i.maxBackfaceHiddenSlides?G||e.el.classList.add(j):G&&e.el.classList.remove(j)}}function sC(e){const t=this,n=[],i=t.virtual&&t.params.virtual.enabled;let r=0,o;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const l=d=>i?t.slides[t.getSlideIndexByData(d)]:t.slides[d];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(d=>{n.push(d)});else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const d=t.activeIndex+o;if(d>t.slides.length&&!i)break;n.push(l(d))}else n.push(l(t.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const d=n[o].offsetHeight;r=d>r?d:r}(r||r===0)&&(t.wrapperEl.style.height=`${r}px`)}function oC(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-n-e.cssOverflowAdjustment()}function aC(e){e===void 0&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:i,rtlTranslate:r,snapGrid:o}=t;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let l=-e;r&&(l=e),i.forEach(u=>{u.classList.remove(n.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let d=n.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*t.size:typeof d=="string"&&(d=parseFloat(d));for(let u=0;u<i.length;u+=1){const f=i[u];let p=f.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(p-=i[0].swiperSlideOffset);const g=(l+(n.centeredSlides?t.minTranslate():0)-p)/(f.swiperSlideSize+d),v=(l-o[0]+(n.centeredSlides?t.minTranslate():0)-p)/(f.swiperSlideSize+d),w=-(l-p),E=w+t.slidesSizesGrid[u];(w>=0&&w<t.size-1||E>1&&E<=t.size||w<=0&&E>=t.size)&&(t.visibleSlides.push(f),t.visibleSlidesIndexes.push(u),i[u].classList.add(n.slideVisibleClass)),f.progress=r?-g:g,f.originalProgress=r?-v:v}}function lC(e){const t=this;if(typeof e>"u"){const p=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*p||0}const n=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:o,isEnd:l,progressLoop:d}=t;const u=o,f=l;if(i===0)r=0,o=!0,l=!0;else{r=(e-t.minTranslate())/i;const p=Math.abs(e-t.minTranslate())<1,g=Math.abs(e-t.maxTranslate())<1;o=p||r<=0,l=g||r>=1,p&&(r=0),g&&(r=1)}if(n.loop){const p=t.getSlideIndexByData(0),g=t.getSlideIndexByData(t.slides.length-1),v=t.slidesGrid[p],w=t.slidesGrid[g],E=t.slidesGrid[t.slidesGrid.length-1],b=Math.abs(e);b>=v?d=(b-v)/E:d=(b+E-w)/E,d>1&&(d-=1)}Object.assign(t,{progress:r,progressLoop:d,isBeginning:o,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),o&&!u&&t.emit("reachBeginning toEdge"),l&&!f&&t.emit("reachEnd toEdge"),(u&&!o||f&&!l)&&t.emit("fromEdge"),t.emit("progress",r)}function uC(){const e=this,{slides:t,params:n,slidesEl:i,activeIndex:r}=e,o=e.virtual&&n.virtual.enabled,l=u=>on(i,`.${n.slideClass}${u}, swiper-slide${u}`)[0];t.forEach(u=>{u.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let d;if(o)if(n.loop){let u=r-e.virtual.slidesBefore;u<0&&(u=e.virtual.slides.length+u),u>=e.virtual.slides.length&&(u-=e.virtual.slides.length),d=l(`[data-swiper-slide-index="${u}"]`)}else d=l(`[data-swiper-slide-index="${r}"]`);else d=t[r];if(d){d.classList.add(n.slideActiveClass);let u=ZP(d,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!u&&(u=t[0]),u&&u.classList.add(n.slideNextClass);let f=GP(d,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!f===0&&(f=t[t.length-1]),f&&f.classList.add(n.slidePrevClass)}e.emitSlidesClasses()}const Za=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,i=t.closest(n());if(i){let r=i.querySelector(`.${e.params.lazyPreloaderClass}`);!r&&e.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Qc=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},wf=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const i=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const l=r,d=[l-t];d.push(...Array.from({length:t}).map((u,f)=>l+i+f)),e.slides.forEach((u,f)=>{d.includes(u.column)&&Qc(e,f)});return}const o=r+i-1;if(e.params.rewind||e.params.loop)for(let l=r-t;l<=o+t;l+=1){const d=(l%n+n)%n;(d<r||d>o)&&Qc(e,d)}else for(let l=Math.max(r-t,0);l<=Math.min(o+t,n-1);l+=1)l!==r&&(l>o||l<r)&&Qc(e,l)};function cC(e){const{slidesGrid:t,params:n}=e,i=e.rtlTranslate?e.translate:-e.translate;let r;for(let o=0;o<t.length;o+=1)typeof t[o+1]<"u"?i>=t[o]&&i<t[o+1]-(t[o+1]-t[o])/2?r=o:i>=t[o]&&i<t[o+1]&&(r=o+1):i>=t[o]&&(r=o);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function dC(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:l,snapIndex:d}=t;let u=e,f;const p=v=>{let w=v-t.virtual.slidesBefore;return w<0&&(w=t.virtual.slides.length+w),w>=t.virtual.slides.length&&(w-=t.virtual.slides.length),w};if(typeof u>"u"&&(u=cC(t)),i.indexOf(n)>=0)f=i.indexOf(n);else{const v=Math.min(r.slidesPerGroupSkip,u);f=v+Math.floor((u-v)/r.slidesPerGroup)}if(f>=i.length&&(f=i.length-1),u===o){f!==d&&(t.snapIndex=f,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=p(u));return}let g;t.virtual&&r.virtual.enabled&&r.loop?g=p(u):t.slides[u]?g=parseInt(t.slides[u].getAttribute("data-swiper-slide-index")||u,10):g=u,Object.assign(t,{previousSnapIndex:d,snapIndex:f,previousRealIndex:l,realIndex:g,previousIndex:o,activeIndex:u}),t.initialized&&wf(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(l!==g&&t.emit("realIndexChange"),t.emit("slideChange"))}function fC(e,t){const n=this,i=n.params;let r=e.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(d=>{!r&&d.matches&&d.matches(`.${i.slideClass}, swiper-slide`)&&(r=d)});let o=!1,l;if(r){for(let d=0;d<n.slides.length;d+=1)if(n.slides[d]===r){o=!0,l=d;break}}if(r&&o)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var hC={updateSize:iC,updateSlides:rC,updateAutoHeight:sC,updateSlidesOffset:oC,updateSlidesProgress:aC,updateProgress:lC,updateSlidesClasses:uC,updateActiveIndex:dC,updateClickedSlide:fC};function pC(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:o}=t;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let l=WP(o,e);return l+=t.cssOverflowAdjustment(),i&&(l=-l),l||0}function mC(e,t){const n=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:l}=n;let d=0,u=0;const f=0;n.isHorizontal()?d=i?-e:e:u=e,r.roundLengths&&(d=Math.floor(d),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?d:u,r.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-d:-u:r.virtualTranslate||(n.isHorizontal()?d-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${d}px, ${u}px, ${f}px)`);let p;const g=n.maxTranslate()-n.minTranslate();g===0?p=0:p=(e-n.minTranslate())/g,p!==l&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function gC(){return-this.snapGrid[0]}function vC(){return-this.snapGrid[this.snapGrid.length-1]}function _C(e,t,n,i,r){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const o=this,{params:l,wrapperEl:d}=o;if(o.animating&&l.preventInteractionOnTransition)return!1;const u=o.minTranslate(),f=o.maxTranslate();let p;if(i&&e>u?p=u:i&&e<f?p=f:p=e,o.updateProgress(p),l.cssMode){const g=o.isHorizontal();if(t===0)d[g?"scrollLeft":"scrollTop"]=-p;else{if(!o.support.smoothScroll)return iw({swiper:o,targetPosition:-p,side:g?"left":"top"}),!0;d.scrollTo({[g?"left":"top"]:-p,behavior:"smooth"})}return!0}return t===0?(o.setTransition(0),o.setTranslate(p),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(p),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(v){!o||o.destroyed||v.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var yC={getTranslate:pC,setTranslate:mC,minTranslate:gC,maxTranslate:vC,translateTo:_C};function wC(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function ow(e){let{swiper:t,runCallbacks:n,direction:i,step:r}=e;const{activeIndex:o,previousIndex:l}=t;let d=i;if(d||(o>l?d="next":o<l?d="prev":d="reset"),t.emit(`transition${r}`),n&&o!==l){if(d==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),d==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function xC(e,t){e===void 0&&(e=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),ow({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function SC(e,t){e===void 0&&(e=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),ow({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var bC={setTransition:wC,transitionStart:xC,transitionEnd:SC};function TC(e,t,n,i,r){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const o=this;let l=e;l<0&&(l=0);const{params:d,snapGrid:u,slidesGrid:f,previousIndex:p,activeIndex:g,rtlTranslate:v,wrapperEl:w,enabled:E}=o;if(o.animating&&d.preventInteractionOnTransition||!E&&!i&&!r)return!1;const b=Math.min(o.params.slidesPerGroupSkip,l);let C=b+Math.floor((l-b)/o.params.slidesPerGroup);C>=u.length&&(C=u.length-1);const x=-u[C];if(d.normalizeSlideIndex)for(let T=0;T<f.length;T+=1){const P=-Math.floor(x*100),N=Math.floor(f[T]*100),A=Math.floor(f[T+1]*100);typeof f[T+1]<"u"?P>=N&&P<A-(A-N)/2?l=T:P>=N&&P<A&&(l=T+1):P>=N&&(l=T)}if(o.initialized&&l!==g&&(!o.allowSlideNext&&(v?x>o.translate&&x>o.minTranslate():x<o.translate&&x<o.minTranslate())||!o.allowSlidePrev&&x>o.translate&&x>o.maxTranslate()&&(g||0)!==l))return!1;l!==(p||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(x);let y;if(l>g?y="next":l<g?y="prev":y="reset",v&&-x===o.translate||!v&&x===o.translate)return o.updateActiveIndex(l),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(x),y!=="reset"&&(o.transitionStart(n,y),o.transitionEnd(n,y)),!1;if(d.cssMode){const T=o.isHorizontal(),P=v?x:-x;if(t===0){const N=o.virtual&&o.params.virtual.enabled;N&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),N&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{w[T?"scrollLeft":"scrollTop"]=P})):w[T?"scrollLeft":"scrollTop"]=P,N&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return iw({swiper:o,targetPosition:P,side:T?"left":"top"}),!0;w.scrollTo({[T?"left":"top"]:P,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(x),o.updateActiveIndex(l),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,i),o.transitionStart(n,y),t===0?o.transitionEnd(n,y):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(P){!o||o.destroyed||P.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,y))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function EC(e,t,n,i){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const r=this;let o=e;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?o=o+r.virtual.slidesBefore:o=r.getSlideIndexByData(o)),r.slideTo(o,t,n,i)}function PC(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const i=this,{enabled:r,params:o,animating:l}=i;if(!r)return i;let d=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(d=Math.max(i.slidesPerViewDynamic("current",!0),1));const u=i.activeIndex<o.slidesPerGroupSkip?1:d,f=i.virtual&&o.virtual.enabled;if(o.loop){if(l&&!f&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+u,e,t,n)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,e,t,n):i.slideTo(i.activeIndex+u,e,t,n)}function CC(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const i=this,{params:r,snapGrid:o,slidesGrid:l,rtlTranslate:d,enabled:u,animating:f}=i;if(!u)return i;const p=i.virtual&&r.virtual.enabled;if(r.loop){if(f&&!p&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const g=d?i.translate:-i.translate;function v(x){return x<0?-Math.floor(Math.abs(x)):Math.floor(x)}const w=v(g),E=o.map(x=>v(x));let b=o[E.indexOf(w)-1];if(typeof b>"u"&&r.cssMode){let x;o.forEach((y,T)=>{w>=y&&(x=T)}),typeof x<"u"&&(b=o[x>0?x-1:x])}let C=0;if(typeof b<"u"&&(C=l.indexOf(b),C<0&&(C=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(C=C-i.slidesPerViewDynamic("previous",!0)+1,C=Math.max(C,0))),r.rewind&&i.isBeginning){const x=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(x,e,t,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(C,e,t,n)}),!0;return i.slideTo(C,e,t,n)}function IC(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const i=this;return i.slideTo(i.activeIndex,e,t,n)}function LC(e,t,n,i){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=.5);const r=this;let o=r.activeIndex;const l=Math.min(r.params.slidesPerGroupSkip,o),d=l+Math.floor((o-l)/r.params.slidesPerGroup),u=r.rtlTranslate?r.translate:-r.translate;if(u>=r.snapGrid[d]){const f=r.snapGrid[d],p=r.snapGrid[d+1];u-f>(p-f)*i&&(o+=r.params.slidesPerGroup)}else{const f=r.snapGrid[d-1],p=r.snapGrid[d];u-f<=(p-f)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,e,t,n)}function kC(){const e=this,{params:t,slidesEl:n}=e,i=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let r=e.clickedIndex,o;const l=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;o=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<e.loopedSlides-i/2||r>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),r=e.getSlideIndex(on(n,`${l}[data-swiper-slide-index="${o}"]`)[0]),yf(()=>{e.slideTo(r)})):e.slideTo(r):r>e.slides.length-i?(e.loopFix(),r=e.getSlideIndex(on(n,`${l}[data-swiper-slide-index="${o}"]`)[0]),yf(()=>{e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}var OC={slideTo:TC,slideToLoop:EC,slideNext:PC,slidePrev:CC,slideReset:IC,slideToClosest:LC,slideToClickedSlide:kC};function NC(e){const t=this,{params:n,slidesEl:i}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;on(i,`.${n.slideClass}, swiper-slide`).forEach((o,l)=>{o.setAttribute("data-swiper-slide-index",l)}),t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})}function RC(e){let{slideRealIndex:t,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:o,byController:l,byMousewheel:d}=e===void 0?{}:e;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:f,allowSlidePrev:p,allowSlideNext:g,slidesEl:v,params:w}=u;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&w.virtual.enabled){n&&(!w.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):w.centeredSlides&&u.snapIndex<w.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=p,u.allowSlideNext=g,u.emit("loopFix");return}const E=w.slidesPerView==="auto"?u.slidesPerViewDynamic():Math.ceil(parseFloat(w.slidesPerView,10));let b=w.loopedSlides||E;b%w.slidesPerGroup!==0&&(b+=w.slidesPerGroup-b%w.slidesPerGroup),u.loopedSlides=b;const C=[],x=[];let y=u.activeIndex;typeof o>"u"?o=u.getSlideIndex(u.slides.filter(M=>M.classList.contains(w.slideActiveClass))[0]):y=o;const T=i==="next"||!i,P=i==="prev"||!i;let N=0,A=0;if(o<b){N=Math.max(b-o,w.slidesPerGroup);for(let M=0;M<b-o;M+=1){const B=M-Math.floor(M/f.length)*f.length;C.push(f.length-B-1)}}else if(o>u.slides.length-b*2){A=Math.max(o-(u.slides.length-b*2),w.slidesPerGroup);for(let M=0;M<A;M+=1){const B=M-Math.floor(M/f.length)*f.length;x.push(B)}}if(P&&C.forEach(M=>{u.slides[M].swiperLoopMoveDOM=!0,v.prepend(u.slides[M]),u.slides[M].swiperLoopMoveDOM=!1}),T&&x.forEach(M=>{u.slides[M].swiperLoopMoveDOM=!0,v.append(u.slides[M]),u.slides[M].swiperLoopMoveDOM=!1}),u.recalcSlides(),w.slidesPerView==="auto"&&u.updateSlides(),w.watchSlidesProgress&&u.updateSlidesOffset(),n){if(C.length>0&&P)if(typeof t>"u"){const M=u.slidesGrid[y],z=u.slidesGrid[y+N]-M;d?u.setTranslate(u.translate-z):(u.slideTo(y+N,0,!1,!0),r&&(u.touches[u.isHorizontal()?"startX":"startY"]+=z,u.touchEventsData.currentTranslate=u.translate))}else r&&(u.slideToLoop(t,0,!1,!0),u.touchEventsData.currentTranslate=u.translate);else if(x.length>0&&T)if(typeof t>"u"){const M=u.slidesGrid[y],z=u.slidesGrid[y-A]-M;d?u.setTranslate(u.translate-z):(u.slideTo(y-A,0,!1,!0),r&&(u.touches[u.isHorizontal()?"startX":"startY"]+=z,u.touchEventsData.currentTranslate=u.translate))}else u.slideToLoop(t,0,!1,!0)}if(u.allowSlidePrev=p,u.allowSlideNext=g,u.controller&&u.controller.control&&!l){const M={slideRealIndex:t,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(B=>{!B.destroyed&&B.params.loop&&B.loopFix({...M,slideTo:B.params.slidesPerView===w.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...M,slideTo:u.controller.control.params.slidesPerView===w.slidesPerView?n:!1})}u.emit("loopFix")}function AC(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const i=[];e.slides.forEach(r=>{const o=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[o]=r}),e.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var MC={loopCreate:NC,loopFix:RC,loopDestroy:AC};function DC(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function zC(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var jC={setGrabCursor:DC,unsetGrabCursor:zC};function UC(e,t){t===void 0&&(t=this);function n(i){if(!i||i===dr()||i===Ct())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(e);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(t)}function BC(e){const t=this,n=dr(),i=Ct(),r=t.touchEventsData;r.evCache.push(e);const{params:o,touches:l,enabled:d}=t;if(!d||!o.simulateTouch&&e.pointerType==="mouse"||t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let u=e;u.originalEvent&&(u=u.originalEvent);let f=u.target;if(o.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(f)||"which"in u&&u.which===3||"button"in u&&u.button>0||r.isTouched&&r.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",g=e.composedPath?e.composedPath():e.path;p&&u.target&&u.target.shadowRoot&&g&&(f=g[0]);const v=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,w=!!(u.target&&u.target.shadowRoot);if(o.noSwiping&&(w?UC(v,f):f.closest(v))){t.allowClick=!0;return}if(o.swipeHandler&&!f.closest(o.swipeHandler))return;l.currentX=u.pageX,l.currentY=u.pageY;const E=l.currentX,b=l.currentY,C=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,x=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(C&&(E<=x||E>=i.innerWidth-x))if(C==="prevent")e.preventDefault();else return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=E,l.startY=b,r.touchStartTime=Ll(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let y=!0;f.matches(r.focusableElements)&&(y=!1,f.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==f&&n.activeElement.blur();const T=y&&t.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||T)&&!f.isContentEditable&&u.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",u)}function FC(e){const t=dr(),n=this,i=n.touchEventsData,{params:r,touches:o,rtlTranslate:l,enabled:d}=n;if(!d||!r.simulateTouch&&e.pointerType==="mouse")return;let u=e;if(u.originalEvent&&(u=u.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",u);return}const f=i.evCache.findIndex(M=>M.pointerId===u.pointerId);f>=0&&(i.evCache[f]=u);const p=i.evCache.length>1?i.evCache[0]:u,g=p.pageX,v=p.pageY;if(u.preventedByNestedSwiper){o.startX=g,o.startY=v;return}if(!n.allowTouchMove){u.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:g,startY:v,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:g,currentY:v}),i.touchStartTime=Ll());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(v<o.startY&&n.translate<=n.maxTranslate()||v>o.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(g<o.startX&&n.translate<=n.maxTranslate()||g>o.startX&&n.translate>=n.minTranslate())return}if(t.activeElement&&u.target===t.activeElement&&u.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}if(i.allowTouchCallbacks&&n.emit("touchMove",u),u.targetTouches&&u.targetTouches.length>1)return;o.currentX=g,o.currentY=v;const w=o.currentX-o.startX,E=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(w**2+E**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let M;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:w*w+E*E>=25&&(M=Math.atan2(Math.abs(E),Math.abs(w))*180/Math.PI,i.isScrolling=n.isHorizontal()?M>r.touchAngle:90-M>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",u),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&u.cancelable&&u.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&u.stopPropagation();let b=n.isHorizontal()?w:E,C=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(b=Math.abs(b)*(l?1:-1),C=Math.abs(C)*(l?1:-1)),o.diff=b,b*=r.touchRatio,l&&(b=-b,C=-C);const x=n.touchesDirection;n.swipeDirection=b>0?"prev":"next",n.touchesDirection=C>0?"prev":"next";const y=n.params.loop&&!r.cssMode,T=n.swipeDirection==="next"&&n.allowSlideNext||n.swipeDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(y&&T&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const M=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(M)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}let P;i.isMoved&&x!==n.touchesDirection&&y&&T&&Math.abs(b)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),P=!0),n.emit("sliderMove",u),i.isMoved=!0,i.currentTranslate=b+i.startTranslate;let N=!0,A=r.resistanceRatio;if(r.touchReleaseOnEdges&&(A=0),b>0?(y&&T&&!P&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(N=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+b)**A))):b<0&&(y&&T&&!P&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(N=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-b)**A))),N&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(b)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function $C(e){const t=this,n=t.touchEventsData,i=n.evCache.findIndex(T=>T.pointerId===e.pointerId);if(i>=0&&n.evCache.splice(i,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(e.type)&&!(["pointercancel","contextmenu"].includes(e.type)&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:r,touches:o,rtlTranslate:l,slidesGrid:d,enabled:u}=t;if(!u||!r.simulateTouch&&e.pointerType==="mouse")return;let f=e;if(f.originalEvent&&(f=f.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",f),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const p=Ll(),g=p-n.touchStartTime;if(t.allowClick){const T=f.path||f.composedPath&&f.composedPath();t.updateClickedSlide(T&&T[0]||f.target,T),t.emit("tap click",f),g<300&&p-n.lastClickTime<300&&t.emit("doubleTap doubleClick",f)}if(n.lastClickTime=Ll(),yf(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||o.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(r.followFinger?v=l?t.translate:-t.translate:v=-n.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:v});return}let w=0,E=t.slidesSizesGrid[0];for(let T=0;T<d.length;T+=T<r.slidesPerGroupSkip?1:r.slidesPerGroup){const P=T<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof d[T+P]<"u"?v>=d[T]&&v<d[T+P]&&(w=T,E=d[T+P]-d[T]):v>=d[T]&&(w=T,E=d[d.length-1]-d[d.length-2])}let b=null,C=null;r.rewind&&(t.isBeginning?C=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(b=0));const x=(v-d[w])/E,y=w<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(g>r.longSwipesMs){if(!r.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(x>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?b:w+y):t.slideTo(w)),t.swipeDirection==="prev"&&(x>1-r.longSwipesRatio?t.slideTo(w+y):C!==null&&x<0&&Math.abs(x)>r.longSwipesRatio?t.slideTo(C):t.slideTo(w))}else{if(!r.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(f.target===t.navigation.nextEl||f.target===t.navigation.prevEl)?f.target===t.navigation.nextEl?t.slideTo(w+y):t.slideTo(w):(t.swipeDirection==="next"&&t.slideTo(b!==null?b:w+y),t.swipeDirection==="prev"&&t.slideTo(C!==null?C:w))}}function bv(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=e,l=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const d=l&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!d?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!l?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=r,e.allowSlideNext=i,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function HC(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function WC(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:i}=e;if(!i)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let r;const o=e.maxTranslate()-e.minTranslate();o===0?r=0:r=(e.translate-e.minTranslate())/o,r!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function VC(e){const t=this;Za(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let Tv=!1;function GC(){}const aw=(e,t)=>{const n=dr(),{params:i,el:r,wrapperEl:o,device:l}=e,d=!!i.nested,u=t==="on"?"addEventListener":"removeEventListener",f=t;r[u]("pointerdown",e.onTouchStart,{passive:!1}),n[u]("pointermove",e.onTouchMove,{passive:!1,capture:d}),n[u]("pointerup",e.onTouchEnd,{passive:!0}),n[u]("pointercancel",e.onTouchEnd,{passive:!0}),n[u]("pointerout",e.onTouchEnd,{passive:!0}),n[u]("pointerleave",e.onTouchEnd,{passive:!0}),n[u]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[u]("click",e.onClick,!0),i.cssMode&&o[u]("scroll",e.onScroll),i.updateOnWindowResize?e[f](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",bv,!0):e[f]("observerUpdate",bv,!0),r[u]("load",e.onLoad,{capture:!0})};function ZC(){const e=this,t=dr(),{params:n}=e;e.onTouchStart=BC.bind(e),e.onTouchMove=FC.bind(e),e.onTouchEnd=$C.bind(e),n.cssMode&&(e.onScroll=WC.bind(e)),e.onClick=HC.bind(e),e.onLoad=VC.bind(e),Tv||(t.addEventListener("touchstart",GC),Tv=!0),aw(e,"on")}function qC(){aw(this,"off")}var KC={attachEvents:ZC,detachEvents:qC};const Ev=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function XC(){const e=this,{realIndex:t,initialized:n,params:i,el:r}=e,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const l=e.getBreakpoint(o,e.params.breakpointsBase,e.el);if(!l||e.currentBreakpoint===l)return;const u=(l in o?o[l]:void 0)||e.originalParams,f=Ev(e,i),p=Ev(e,u),g=i.enabled;f&&!p?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!f&&p&&(r.classList.add(`${i.containerModifierClass}grid`),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(x=>{if(typeof u[x]>"u")return;const y=i[x]&&i[x].enabled,T=u[x]&&u[x].enabled;y&&!T&&e[x].disable(),!y&&T&&e[x].enable()});const v=u.direction&&u.direction!==i.direction,w=i.loop&&(u.slidesPerView!==i.slidesPerView||v),E=i.loop;v&&n&&e.changeDirection(),yt(e.params,u);const b=e.params.enabled,C=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),g&&!b?e.disable():!g&&b&&e.enable(),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",u),n&&(w?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!E&&C?(e.loopCreate(t),e.updateSlides()):E&&!C&&e.loopDestroy()),e.emit("breakpoint",u)}function JC(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let i=!1;const r=Ct(),o=t==="window"?r.innerHeight:n.clientHeight,l=Object.keys(e).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const u=parseFloat(d.substr(1));return{value:o*u,point:d}}return{value:d,point:d}});l.sort((d,u)=>parseInt(d.value,10)-parseInt(u.value,10));for(let d=0;d<l.length;d+=1){const{point:u,value:f}=l[d];t==="window"?r.matchMedia(`(min-width: ${f}px)`).matches&&(i=u):f<=n.clientWidth&&(i=u)}return i||"max"}var YC={setBreakpoint:XC,getBreakpoint:JC};function QC(e,t){const n=[];return e.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(t+r)}):typeof i=="string"&&n.push(t+i)}),n}function eI(){const e=this,{classNames:t,params:n,rtl:i,el:r,device:o}=e,l=QC(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...l),r.classList.add(...t),e.emitContainerClasses()}function tI(){const e=this,{el:t,classNames:n}=e;t.classList.remove(...n),e.emitContainerClasses()}var nI={addClasses:eI,removeClasses:tI};function iI(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:i}=n;if(i){const r=e.slides.length-1,o=e.slidesGrid[r]+e.slidesSizesGrid[r]+i*2;e.isLocked=e.size>o}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var rI={checkOverflow:iI},xf={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function sI(e,t){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],o=i[r];if(typeof o!="object"||o===null){yt(t,i);return}if(e[r]===!0&&(e[r]={enabled:!0}),r==="navigation"&&e[r]&&e[r].enabled&&!e[r].prevEl&&!e[r].nextEl&&(e[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&e[r]&&e[r].enabled&&!e[r].el&&(e[r].auto=!0),!(r in e&&"enabled"in o)){yt(t,i);return}typeof e[r]=="object"&&!("enabled"in e[r])&&(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),yt(t,i)}}const ed={eventsEmitter:nC,update:hC,translate:yC,transition:bC,slide:OC,loop:MC,grabCursor:jC,events:KC,breakpoints:YC,checkOverflow:rI,classes:nI},td={};let Mo=class xn{constructor(){let t,n;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[t,n]=r,n||(n={}),n=yt({},n),t&&!n.el&&(n.el=t);const l=dr();if(n.el&&typeof n.el=="string"&&l.querySelectorAll(n.el).length>1){const p=[];return l.querySelectorAll(n.el).forEach(g=>{const v=yt({},n,{el:g});p.push(new xn(v))}),p}const d=this;d.__swiper__=!0,d.support=sw(),d.device=JP({userAgent:n.userAgent}),d.browser=QP(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],n.modules&&Array.isArray(n.modules)&&d.modules.push(...n.modules);const u={};d.modules.forEach(p=>{p({params:n,swiper:d,extendParams:sI(n,u),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const f=yt({},xf,u);return d.params=yt({},f,td,n),d.originalParams=yt({},d.params),d.passedParams=yt({},n),d.params&&d.params.on&&Object.keys(d.params.on).forEach(p=>{d.on(p,d.params.on[p])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getSlideIndex(t){const{slidesEl:n,params:i}=this,r=on(n,`.${i.slideClass}, swiper-slide`),o=xv(r[0]);return xv(t)-o}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:n,params:i}=t;t.slides=on(n,`.${i.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const i=this;t=Math.min(Math.max(t,0),1);const r=i.minTranslate(),l=(i.maxTranslate()-r)*t+r;i.translateTo(l,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(i=>{const r=t.getSlideClasses(i);n.push({slideEl:i,classNames:r}),t.emit("_slideClass",i,r)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:o,slidesGrid:l,slidesSizesGrid:d,size:u,activeIndex:f}=i;let p=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let g=o[f]?o[f].swiperSlideSize:0,v;for(let w=f+1;w<o.length;w+=1)o[w]&&!v&&(g+=o[w].swiperSlideSize,p+=1,g>u&&(v=!0));for(let w=f-1;w>=0;w-=1)o[w]&&!v&&(g+=o[w].swiperSlideSize,p+=1,g>u&&(v=!0))}else if(t==="current")for(let g=f+1;g<o.length;g+=1)(n?l[g]+d[g]-l[f]<u:l[g]-l[f]<u)&&(p+=1);else for(let g=f-1;g>=0;g-=1)l[f]-l[g]<u&&(p+=1);return p}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:i}=t;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Za(t,l)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function r(){const l=t.rtlTranslate?t.translate*-1:t.translate,d=Math.min(Math.max(l,t.maxTranslate()),t.minTranslate());t.setTranslate(d),t.updateActiveIndex(),t.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&t.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){const l=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;o=t.slideTo(l.length-1,0,!1,!0)}else o=t.slideTo(t.activeIndex,0,!1,!0);o||r()}i.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return t||(t=r==="horizontal"?"vertical":"horizontal"),t===r||t!=="horizontal"&&t!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(o=>{t==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let i=t||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):on(i,r())[0])();return!l&&n.params.createElements&&(l=rw("div",n.params.wrapperClass),i.append(l),on(i,`.${n.params.slideClass}`).forEach(d=>{l.append(d)})),Object.assign(n,{el:i,wrapperEl:l,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||li(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||li(i,"direction")==="rtl"),wrongRTL:li(l,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(o=>{o.complete?Za(n,o):o.addEventListener("load",l=>{Za(n,l.target)})}),wf(n),n.initialized=!0,wf(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const i=this,{params:r,el:o,wrapperEl:l,slides:d}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),o.removeAttribute("style"),l.removeAttribute("style"),d&&d.length&&d.forEach(u=>{u.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(u=>{i.off(u)}),t!==!1&&(i.el.swiper=null,$P(i)),i.destroyed=!0),null}static extendDefaults(t){yt(td,t)}static get extendedDefaults(){return td}static get defaults(){return xf}static installModule(t){xn.prototype.__modules__||(xn.prototype.__modules__=[]);const n=xn.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>xn.installModule(n)),xn):(xn.installModule(t),xn)}};Object.keys(ed).forEach(e=>{Object.keys(ed[e]).forEach(t=>{Mo.prototype[t]=ed[e][t]})});Mo.use([eC,tC]);const lw=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ir(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Ki(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:ir(t[i])&&ir(e[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?e[i]=t[i]:Ki(e[i],t[i]):e[i]=t[i]})}function uw(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function cw(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function dw(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function fw(e){e===void 0&&(e="");const t=e.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return t.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function oI(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function aI(e){let{swiper:t,slides:n,passedParams:i,changedParams:r,nextEl:o,prevEl:l,scrollbarEl:d,paginationEl:u}=e;const f=r.filter(z=>z!=="children"&&z!=="direction"&&z!=="wrapperClass"),{params:p,pagination:g,navigation:v,scrollbar:w,virtual:E,thumbs:b}=t;let C,x,y,T,P,N,A,M;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&p.thumbs&&!p.thumbs.swiper&&(C=!0),r.includes("controller")&&i.controller&&i.controller.control&&p.controller&&!p.controller.control&&(x=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||u)&&(p.pagination||p.pagination===!1)&&g&&!g.el&&(y=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||d)&&(p.scrollbar||p.scrollbar===!1)&&w&&!w.el&&(T=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||l)&&(i.navigation.nextEl||o)&&(p.navigation||p.navigation===!1)&&v&&!v.prevEl&&!v.nextEl&&(P=!0);const B=z=>{t[z]&&(t[z].destroy(),z==="navigation"?(t.isElement&&(t[z].prevEl.remove(),t[z].nextEl.remove()),p[z].prevEl=void 0,p[z].nextEl=void 0,t[z].prevEl=void 0,t[z].nextEl=void 0):(t.isElement&&t[z].el.remove(),p[z].el=void 0,t[z].el=void 0))};r.includes("loop")&&t.isElement&&(p.loop&&!i.loop?N=!0:!p.loop&&i.loop?A=!0:M=!0),f.forEach(z=>{if(ir(p[z])&&ir(i[z]))Ki(p[z],i[z]),(z==="navigation"||z==="pagination"||z==="scrollbar")&&"enabled"in i[z]&&!i[z].enabled&&B(z);else{const $=i[z];($===!0||$===!1)&&(z==="navigation"||z==="pagination"||z==="scrollbar")?$===!1&&B(z):p[z]=i[z]}}),f.includes("controller")&&!x&&t.controller&&t.controller.control&&p.controller&&p.controller.control&&(t.controller.control=p.controller.control),r.includes("children")&&n&&E&&p.virtual.enabled&&(E.slides=n,E.update(!0)),r.includes("children")&&n&&p.loop&&(M=!0),C&&b.init()&&b.update(!0),x&&(t.controller.control=p.controller.control),y&&(t.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),t.el.appendChild(u)),u&&(p.pagination.el=u),g.init(),g.render(),g.update()),T&&(t.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),t.el.appendChild(d)),d&&(p.scrollbar.el=d),w.init(),w.updateSize(),w.setTranslate()),P&&(t.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=t.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),t.el.appendChild(o)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),l.innerHTML=t.hostEl.constructor.prevButtonSvg,l.part.add("button-prev"),t.el.appendChild(l))),o&&(p.navigation.nextEl=o),l&&(p.navigation.prevEl=l),v.init(),v.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&t.changeDirection(i.direction,!1),(N||M)&&t.loopDestroy(),(A||M)&&t.loopCreate(),t.update()}function lI(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const n={on:{}},i={},r={};Ki(n,xf),n._emitClasses=!0,n.init=!1;const o={},l=lw.map(u=>u.replace(/_/,"")),d=Object.assign({},e);return Object.keys(d).forEach(u=>{typeof e[u]>"u"||(l.indexOf(u)>=0?ir(e[u])?(n[u]={},r[u]={},Ki(n[u],e[u]),Ki(r[u],e[u])):(n[u]=e[u],r[u]=e[u]):u.search(/on[A-Z]/)===0&&typeof e[u]=="function"?t?i[`${u[2].toLowerCase()}${u.substr(3)}`]=e[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=e[u]:o[u]=e[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:r,rest:o,events:i}}function uI(e,t){let{el:n,nextEl:i,prevEl:r,paginationEl:o,scrollbarEl:l,swiper:d}=e;uw(t)&&i&&r&&(d.params.navigation.nextEl=i,d.originalParams.navigation.nextEl=i,d.params.navigation.prevEl=r,d.originalParams.navigation.prevEl=r),cw(t)&&o&&(d.params.pagination.el=o,d.originalParams.pagination.el=o),dw(t)&&l&&(d.params.scrollbar.el=l,d.originalParams.scrollbar.el=l),d.init(n)}function cI(e,t,n,i,r){const o=[];if(!t)return o;const l=u=>{o.indexOf(u)<0&&o.push(u)};if(n&&i){const u=i.map(r),f=n.map(r);u.join("")!==f.join("")&&l("children"),i.length!==n.length&&l("children")}return lw.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in e&&u in t)if(ir(e[u])&&ir(t[u])){const f=Object.keys(e[u]),p=Object.keys(t[u]);f.length!==p.length?l(u):(f.forEach(g=>{e[u][g]!==t[u][g]&&l(u)}),p.forEach(g=>{e[u][g]!==t[u][g]&&l(u)}))}else e[u]!==t[u]&&l(u)}),o}const dI=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kl.apply(this,arguments)}function hw(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function pw(e){const t=[];return he.Children.toArray(e).forEach(n=>{hw(n)?t.push(n):n.props&&n.props.children&&pw(n.props.children).forEach(i=>t.push(i))}),t}function fI(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return he.Children.toArray(e).forEach(i=>{if(hw(i))t.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=pw(i.props.children);r.length>0?r.forEach(o=>t.push(o)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:t,slots:n}}function hI(e,t,n){if(!n)return null;const i=p=>{let g=p;return p<0?g=t.length+p:g>=t.length&&(g=g-t.length),g},r=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:l}=n,d=e.params.loop?-t.length:0,u=e.params.loop?t.length*2:t.length,f=[];for(let p=d;p<u;p+=1)p>=o&&p<=l&&f.push(t[i(p)]);return f.map((p,g)=>he.cloneElement(p,{swiper:e,style:r,key:`slide-${g}`}))}function Qs(e,t){return typeof window>"u"?k.useEffect(e,t):k.useLayoutEffect(e,t)}const Pv=k.createContext(null),pI=k.createContext(null),qh=k.forwardRef(function(e,t){let{className:n,tag:i="div",wrapperTag:r="div",children:o,onSwiper:l,...d}=e===void 0?{}:e,u=!1;const[f,p]=k.useState("swiper"),[g,v]=k.useState(null),[w,E]=k.useState(!1),b=k.useRef(!1),C=k.useRef(null),x=k.useRef(null),y=k.useRef(null),T=k.useRef(null),P=k.useRef(null),N=k.useRef(null),A=k.useRef(null),M=k.useRef(null),{params:B,passedParams:z,rest:$,events:j}=lI(d),{slides:G,slots:Q}=fI(o),ce=()=>{E(!w)};Object.assign(B.on,{_containerClasses(K,W){p(W)}});const pe=()=>{Object.assign(B.on,j),u=!0;const K={...B};if(delete K.wrapperClass,x.current=new Mo(K),x.current.virtual&&x.current.params.virtual.enabled){x.current.virtual.slides=G;const W={cache:!1,slides:G,renderExternal:v,renderExternalUpdate:!1};Ki(x.current.params.virtual,W),Ki(x.current.originalParams.virtual,W)}};C.current||pe(),x.current&&x.current.on("_beforeBreakpoint",ce);const ye=()=>{u||!j||!x.current||Object.keys(j).forEach(K=>{x.current.on(K,j[K])})},rt=()=>{!j||!x.current||Object.keys(j).forEach(K=>{x.current.off(K,j[K])})};k.useEffect(()=>()=>{x.current&&x.current.off("_beforeBreakpoint",ce)}),k.useEffect(()=>{!b.current&&x.current&&(x.current.emitSlidesClasses(),b.current=!0)}),Qs(()=>{if(t&&(t.current=C.current),!!C.current)return x.current.destroyed&&pe(),uI({el:C.current,nextEl:P.current,prevEl:N.current,paginationEl:A.current,scrollbarEl:M.current,swiper:x.current},B),l&&l(x.current),()=>{x.current&&!x.current.destroyed&&x.current.destroy(!0,!1)}},[]),Qs(()=>{ye();const K=cI(z,y.current,G,T.current,W=>W.key);return y.current=z,T.current=G,K.length&&x.current&&!x.current.destroyed&&aI({swiper:x.current,slides:G,passedParams:z,changedParams:K,nextEl:P.current,prevEl:N.current,scrollbarEl:M.current,paginationEl:A.current}),()=>{rt()}}),Qs(()=>{dI(x.current)},[g]);function U(){return B.virtual?hI(x.current,G,g):G.map((K,W)=>he.cloneElement(K,{swiper:x.current,swiperSlideIndex:W}))}return he.createElement(i,kl({ref:C,className:fw(`${f}${n?` ${n}`:""}`)},$),he.createElement(pI.Provider,{value:x.current},Q["container-start"],he.createElement(r,{className:oI(B.wrapperClass)},Q["wrapper-start"],U(),Q["wrapper-end"]),uw(B)&&he.createElement(he.Fragment,null,he.createElement("div",{ref:N,className:"swiper-button-prev"}),he.createElement("div",{ref:P,className:"swiper-button-next"})),dw(B)&&he.createElement("div",{ref:M,className:"swiper-scrollbar"}),cw(B)&&he.createElement("div",{ref:A,className:"swiper-pagination"}),Q["container-end"]))});qh.displayName="Swiper";const Kh=k.forwardRef(function(e,t){let{tag:n="div",children:i,className:r="",swiper:o,zoom:l,lazy:d,virtualIndex:u,swiperSlideIndex:f,...p}=e===void 0?{}:e;const g=k.useRef(null),[v,w]=k.useState("swiper-slide"),[E,b]=k.useState(!1);function C(P,N,A){N===g.current&&w(A)}Qs(()=>{if(typeof f<"u"&&(g.current.swiperSlideIndex=f),t&&(t.current=g.current),!(!g.current||!o)){if(o.destroyed){v!=="swiper-slide"&&w("swiper-slide");return}return o.on("_slideClass",C),()=>{o&&o.off("_slideClass",C)}}}),Qs(()=>{o&&g.current&&!o.destroyed&&w(o.getSlideClasses(g.current))},[o]);const x={isActive:v.indexOf("swiper-slide-active")>=0,isVisible:v.indexOf("swiper-slide-visible")>=0,isPrev:v.indexOf("swiper-slide-prev")>=0,isNext:v.indexOf("swiper-slide-next")>=0},y=()=>typeof i=="function"?i(x):i,T=()=>{b(!0)};return he.createElement(n,kl({ref:g,className:fw(`${v}${r?` ${r}`:""}`),"data-swiper-slide-index":u,onLoad:T},p),l&&he.createElement(Pv.Provider,{value:x},he.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},y(),d&&!E&&he.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&he.createElement(Pv.Provider,{value:x},y(),d&&!E&&he.createElement("div",{className:"swiper-lazy-preloader"})))});Kh.displayName="SwiperSlide";function mI(e,t,n,i){return e.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let o=on(e.el,`.${i[r]}`)[0];o||(o=rw("div",i[r]),o.className=i[r],e.el.append(o)),n[r]=o,t[r]=o}}),n}function mw(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const o=b=>(Array.isArray(b)?b:[b]).filter(C=>!!C);function l(b){let C;return b&&typeof b=="string"&&t.isElement&&(C=t.el.querySelector(b),C)?C:(b&&(typeof b=="string"&&(C=[...document.querySelectorAll(b)]),t.params.uniqueNavElements&&typeof b=="string"&&C.length>1&&t.el.querySelectorAll(b).length===1&&(C=t.el.querySelector(b))),b&&!C?b:C)}function d(b,C){const x=t.params.navigation;b=o(b),b.forEach(y=>{y&&(y.classList[C?"add":"remove"](...x.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=C),t.params.watchOverflow&&t.enabled&&y.classList[t.isLocked?"add":"remove"](x.lockClass))})}function u(){const{nextEl:b,prevEl:C}=t.navigation;if(t.params.loop){d(C,!1),d(b,!1);return}d(C,t.isBeginning&&!t.params.rewind),d(b,t.isEnd&&!t.params.rewind)}function f(b){b.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function p(b){b.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function g(){const b=t.params.navigation;if(t.params.navigation=mI(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(b.nextEl||b.prevEl))return;let C=l(b.nextEl),x=l(b.prevEl);Object.assign(t.navigation,{nextEl:C,prevEl:x}),C=o(C),x=o(x);const y=(T,P)=>{T&&T.addEventListener("click",P==="next"?p:f),!t.enabled&&T&&T.classList.add(...b.lockClass.split(" "))};C.forEach(T=>y(T,"next")),x.forEach(T=>y(T,"prev"))}function v(){let{nextEl:b,prevEl:C}=t.navigation;b=o(b),C=o(C);const x=(y,T)=>{y.removeEventListener("click",T==="next"?p:f),y.classList.remove(...t.params.navigation.disabledClass.split(" "))};b.forEach(y=>x(y,"next")),C.forEach(y=>x(y,"prev"))}i("init",()=>{t.params.navigation.enabled===!1?E():(g(),u())}),i("toEdge fromEdge lock unlock",()=>{u()}),i("destroy",()=>{v()}),i("enable disable",()=>{let{nextEl:b,prevEl:C}=t.navigation;if(b=o(b),C=o(C),t.enabled){u();return}[...b,...C].filter(x=>!!x).forEach(x=>x.classList.add(t.params.navigation.lockClass))}),i("click",(b,C)=>{let{nextEl:x,prevEl:y}=t.navigation;x=o(x),y=o(y);const T=C.target;if(t.params.navigation.hideOnClick&&!y.includes(T)&&!x.includes(T)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===T||t.pagination.el.contains(T)))return;let P;x.length?P=x[0].classList.contains(t.params.navigation.hiddenClass):y.length&&(P=y[0].classList.contains(t.params.navigation.hiddenClass)),r(P===!0?"navigationShow":"navigationHide"),[...x,...y].filter(N=>!!N).forEach(N=>N.classList.toggle(t.params.navigation.hiddenClass))}});const w=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),g(),u()},E=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),v()};Object.assign(t.navigation,{enable:w,disable:E,update:u,init:g,destroy:v})}var gw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cv=he.createContext&&he.createContext(gw),_i=globalThis&&globalThis.__assign||function(){return _i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_i.apply(this,arguments)},gI=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function vw(e){return e&&e.map(function(t,n){return he.createElement(t.tag,_i({key:n},t.attr),vw(t.child))})}function Hn(e){return function(t){return he.createElement(vI,_i({attr:_i({},e.attr)},t),vw(e.child))}}function vI(e){var t=function(n){var i=e.attr,r=e.size,o=e.title,l=gI(e,["attr","size","title"]),d=r||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),he.createElement("svg",_i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:u,style:_i(_i({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&he.createElement("title",null,o),e.children)};return Cv!==void 0?he.createElement(Cv.Consumer,null,function(n){return t(n)}):t(gw)}function _I(e){return Hn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"}}]})(e)}function _w(e){return Hn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32,384a95.4,95.4,0,0,0,32,71.09V496a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V480H384v16a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V455.09A95.4,95.4,0,0,0,480,384V336H32ZM496,256H80V69.25a21.26,21.26,0,0,1,36.28-15l19.27,19.26c-13.13,29.88-7.61,59.11,8.62,79.73l-.17.17A16,16,0,0,0,144,176l11.31,11.31a16,16,0,0,0,22.63,0L283.31,81.94a16,16,0,0,0,0-22.63L272,48a16,16,0,0,0-22.62,0l-.17.17c-20.62-16.23-49.83-21.75-79.73-8.62L150.22,20.28A69.25,69.25,0,0,0,32,69.25V256H16A16,16,0,0,0,0,272v16a16,16,0,0,0,16,16H496a16,16,0,0,0,16-16V272A16,16,0,0,0,496,256Z"}}]})(e)}function yw(e){return Hn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"}}]})(e)}function yI(e){return Hn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 128c0-29.5 16.2-55 40-68.9V256h48V48h48v208h48V59.1c23.8 13.9 40 39.4 40 68.9v128h48V128C384 57.3 326.7 0 256 0h-64C121.3 0 64 57.3 64 128v128h48zm334.3 213.9l-10.7-32c-4.4-13.1-16.6-21.9-30.4-21.9H42.7c-13.8 0-26 8.8-30.4 21.9l-10.7 32C-5.2 362.6 10.2 384 32 384v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384h256v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384c21.8 0 37.2-21.4 30.3-42.1z"}}]})(e)}function wI(e){return Hn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function xI(e){return Hn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM240 320h-48v48c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h96c52.9 0 96 43.1 96 96s-43.1 96-96 96zm0-128h-48v64h48c17.6 0 32-14.4 32-32s-14.4-32-32-32z"}}]})(e)}function SI(e){return Hn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(e)}function eo({listing:e}){return _.jsx("div",{className:"bg-white shadow-md hover:shadow-lg transition-shadow overflow-hidden rounded-lg w-full sm:w-[330px]",children:_.jsxs(We,{to:`/listing/${e.slug}`,"aria-label":`${e.name}`,children:[_.jsx("img",{src:e.imageUrls[0]||"https://53.fs1.hubspotusercontent-na1.net/hub/53/hubfs/Sales_Blog/real-estate-business-compressor.jpg?width=595&height=400&name=real-estate-business-compressor.jpg",alt:"listing cover",className:"h-[320px] sm:h-[220px] w-full object-cover hover:scale-105 transition-scale duration-300"}),_.jsxs("div",{className:"p-3 flex flex-col gap-2 w-full",children:[_.jsx("p",{className:"truncate text-lg font-semibold text-emerald-700",children:e.name}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(_I,{className:"h-4 w-4 text-green-700"}),_.jsx("p",{className:"text-sm text-emerald-900 truncate w-full",children:e.address})]}),_.jsx("p",{className:"text-sm text-emerald-900 line-clamp-2",children:e.description}),_.jsxs("p",{className:"text-emerald-700 mt-2 font-semibold ",children:[e.offer?e.discountPrice.toLocaleString("vi-VN"):e.regularPrice.toLocaleString("vi-VN")," ","đồng",e.type==="rent"&&"/tháng"]}),_.jsxs("div",{className:"flex text-emerald-900 gap-4 mt-2",children:[_.jsxs("div",{className:"flex font-bold text-xs justify-between",children:[_.jsx(yw,{className:"text-sm mr-2"}),e.bedrooms&&`${e.bedrooms} phòng ngủ`]}),_.jsxs("div",{className:"flex font-bold text-xs justify-between",children:[_.jsx(_w,{className:"text-sm mr-2"}),e.bathrooms&&`${e.bathrooms} phòng tắm`]})]})]})]})})}function bI(){const[e,t]=k.useState([]),[n,i]=k.useState([]),[r,o]=k.useState([]);return Mo.use([mw]),console.log(e),k.useEffect(()=>{const l=async()=>{try{const p=await(await fetch("/api/listing/get?offer=true&limit=6")).json();t(p),d()}catch(f){console.log(f)}},d=async()=>{try{const p=await(await fetch("/api/listing/get?type=rent&limit=6")).json();o(p),u()}catch(f){console.log(f)}},u=async()=>{try{const p=await(await fetch("/api/listing/get?type=sale&limit=6")).json();i(p)}catch(f){console.log(f)}};l()},[]),_.jsxs("div",{children:[_.jsxs("div",{className:"flex flex-col gap-6 p-8 md:p-28 px-3 max-w-6xl mx-auto",children:[_.jsxs("h1",{className:"text-3xl font-bold text-emerald-900 lg:text-6xl",children:[_.jsx("span",{className:"text-emerald-700",children:"Nhà"}),"Tốt"]}),_.jsx("div",{className:"text-xs font-medium text-emerald-700 sm:text-lg",children:"Tìm kiếm và cho thuê nhà đất, phòng trọ, chung cư dễ dàng và hiệu quả"}),_.jsx(We,{to:"/search",className:"text-xs sm:text-sm text-emerald-900 font-bold hover:underline","aria-label":"View all listings",children:"Xem tất cả"})]}),_.jsx(qh,{navigation:!0,children:e&&e.length>0&&e.map(l=>_.jsx(Kh,{children:_.jsx("div",{style:{background:`url(${l.imageUrls[0]}) center no-repeat`,backgroundSize:"cover"},className:"h-[500px]",alt:l.name})},l.slug))}),_.jsxs("div",{className:"max-w-6xl mx-auto p-3 flex flex-col gap-8 my-10",children:[e&&e.length>0&&_.jsxs("div",{className:"",children:[_.jsxs("div",{className:"my-3",children:[_.jsx("h2",{className:"text-2xl font-semibold text-emerald-900",children:"Offers gần đây"}),_.jsx(We,{className:"text-sm text-emerald-700 hover:underline",to:"/search?offer=true","aria-label":"View more offers",children:"Xem thêm các offers"})]}),_.jsx("div",{className:"flex flex-wrap gap-4",children:e.map(l=>_.jsx(eo,{listing:l},l.slug))})]}),r&&r.length>0&&_.jsxs("div",{className:"",children:[_.jsxs("div",{className:"my-3",children:[_.jsx("h2",{className:"text-2xl font-semibold text-emerald-900",children:"Nhà cho thuê gần đây"}),_.jsx(We,{className:"text-sm text-emerald-700 hover:underline",to:"/search?type=rent","aria-label":"View more rental listings",children:"Xem thêm nhà cho thuê"})]}),_.jsx("div",{className:"flex flex-wrap gap-4",children:r.map(l=>_.jsx(eo,{listing:l},l.slug))})]}),n&&n.length>0&&_.jsxs("div",{className:"",children:[_.jsxs("div",{className:"my-3",children:[_.jsx("h2",{className:"text-2xl font-semibold text-emerald-900",children:"Nhà bán gần đây"}),_.jsx(We,{className:"text-sm text-emerald-700 hover:underline",to:"/search?type=sale","aria-label":"View more sale listings",children:"Xem thêm nhà bán"})]}),_.jsx("div",{className:"flex flex-wrap gap-4",children:n.map(l=>_.jsx(eo,{listing:l},l.slug))})]})]})]})}var ww={exports:{}},xw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=k;function TI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EI=typeof Object.is=="function"?Object.is:TI,PI=ns.useState,CI=ns.useEffect,II=ns.useLayoutEffect,LI=ns.useDebugValue;function kI(e,t){var n=t(),i=PI({inst:{value:n,getSnapshot:t}}),r=i[0].inst,o=i[1];return II(function(){r.value=n,r.getSnapshot=t,nd(r)&&o({inst:r})},[e,n,t]),CI(function(){return nd(r)&&o({inst:r}),e(function(){nd(r)&&o({inst:r})})},[e]),LI(n),n}function nd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!EI(e,n)}catch{return!0}}function OI(e,t){return t()}var NI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OI:kI;xw.useSyncExternalStore=ns.useSyncExternalStore!==void 0?ns.useSyncExternalStore:NI;ww.exports=xw;var RI=ww.exports,Sw={exports:{}},bw={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu=k,AI=RI;function MI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DI=typeof Object.is=="function"?Object.is:MI,zI=AI.useSyncExternalStore,jI=fu.useRef,UI=fu.useEffect,BI=fu.useMemo,FI=fu.useDebugValue;bw.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var o=jI(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=BI(function(){function u(w){if(!f){if(f=!0,p=w,w=i(w),r!==void 0&&l.hasValue){var E=l.value;if(r(E,w))return g=E}return g=w}if(E=g,DI(p,w))return E;var b=i(w);return r!==void 0&&r(E,b)?E:(p=w,g=b)}var f=!1,p,g,v=n===void 0?null:n;return[function(){return u(t())},v===null?void 0:function(){return u(v())}]},[t,n,i,r]);var d=zI(e,o[0],o[1]);return UI(function(){l.hasValue=!0,l.value=d},[d]),FI(d),d};Sw.exports=bw;var $I=Sw.exports;function HI(e){e()}let Tw=HI;const WI=e=>Tw=e,VI=()=>Tw,Iv=Symbol.for("react-redux-context"),Lv=typeof globalThis<"u"?globalThis:{};function GI(){var e;if(!k.createContext)return{};const t=(e=Lv[Iv])!=null?e:Lv[Iv]=new Map;let n=t.get(k.createContext);return n||(n=k.createContext(null),t.set(k.createContext,n)),n}const Pi=GI();function Xh(e=Pi){return function(){return k.useContext(e)}}const Ew=Xh(),ZI=()=>{throw new Error("uSES not initialized!")};let Pw=ZI;const qI=e=>{Pw=e},KI=(e,t)=>e===t;function XI(e=Pi){const t=e===Pi?Ew:Xh(e);return function(i,r={}){const{equalityFn:o=KI,stabilityCheck:l=void 0,noopCheck:d=void 0}=typeof r=="function"?{equalityFn:r}:r,{store:u,subscription:f,getServerState:p,stabilityCheck:g,noopCheck:v}=t();k.useRef(!0);const w=k.useCallback({[i.name](b){return i(b)}}[i.name],[i,g,l]),E=Pw(f.addNestedSub,u.getState,p||u.getState,w,o);return k.useDebugValue(E),E}}const fr=XI();var Cw={exports:{}},ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ge=typeof Symbol=="function"&&Symbol.for,Jh=Ge?Symbol.for("react.element"):60103,Yh=Ge?Symbol.for("react.portal"):60106,hu=Ge?Symbol.for("react.fragment"):60107,pu=Ge?Symbol.for("react.strict_mode"):60108,mu=Ge?Symbol.for("react.profiler"):60114,gu=Ge?Symbol.for("react.provider"):60109,vu=Ge?Symbol.for("react.context"):60110,Qh=Ge?Symbol.for("react.async_mode"):60111,_u=Ge?Symbol.for("react.concurrent_mode"):60111,yu=Ge?Symbol.for("react.forward_ref"):60112,wu=Ge?Symbol.for("react.suspense"):60113,JI=Ge?Symbol.for("react.suspense_list"):60120,xu=Ge?Symbol.for("react.memo"):60115,Su=Ge?Symbol.for("react.lazy"):60116,YI=Ge?Symbol.for("react.block"):60121,QI=Ge?Symbol.for("react.fundamental"):60117,eL=Ge?Symbol.for("react.responder"):60118,tL=Ge?Symbol.for("react.scope"):60119;function It(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Jh:switch(e=e.type,e){case Qh:case _u:case hu:case mu:case pu:case wu:return e;default:switch(e=e&&e.$$typeof,e){case vu:case yu:case Su:case xu:case gu:return e;default:return t}}case Yh:return t}}}function Iw(e){return It(e)===_u}ge.AsyncMode=Qh;ge.ConcurrentMode=_u;ge.ContextConsumer=vu;ge.ContextProvider=gu;ge.Element=Jh;ge.ForwardRef=yu;ge.Fragment=hu;ge.Lazy=Su;ge.Memo=xu;ge.Portal=Yh;ge.Profiler=mu;ge.StrictMode=pu;ge.Suspense=wu;ge.isAsyncMode=function(e){return Iw(e)||It(e)===Qh};ge.isConcurrentMode=Iw;ge.isContextConsumer=function(e){return It(e)===vu};ge.isContextProvider=function(e){return It(e)===gu};ge.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jh};ge.isForwardRef=function(e){return It(e)===yu};ge.isFragment=function(e){return It(e)===hu};ge.isLazy=function(e){return It(e)===Su};ge.isMemo=function(e){return It(e)===xu};ge.isPortal=function(e){return It(e)===Yh};ge.isProfiler=function(e){return It(e)===mu};ge.isStrictMode=function(e){return It(e)===pu};ge.isSuspense=function(e){return It(e)===wu};ge.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hu||e===_u||e===mu||e===pu||e===wu||e===JI||typeof e=="object"&&e!==null&&(e.$$typeof===Su||e.$$typeof===xu||e.$$typeof===gu||e.$$typeof===vu||e.$$typeof===yu||e.$$typeof===QI||e.$$typeof===eL||e.$$typeof===tL||e.$$typeof===YI)};ge.typeOf=It;Cw.exports=ge;var nL=Cw.exports,Lw=nL,iL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kw={};kw[Lw.ForwardRef]=iL;kw[Lw.Memo]=rL;var ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=Symbol.for("react.element"),tp=Symbol.for("react.portal"),bu=Symbol.for("react.fragment"),Tu=Symbol.for("react.strict_mode"),Eu=Symbol.for("react.profiler"),Pu=Symbol.for("react.provider"),Cu=Symbol.for("react.context"),sL=Symbol.for("react.server_context"),Iu=Symbol.for("react.forward_ref"),Lu=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),Ou=Symbol.for("react.memo"),Nu=Symbol.for("react.lazy"),oL=Symbol.for("react.offscreen"),Ow;Ow=Symbol.for("react.module.reference");function jt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ep:switch(e=e.type,e){case bu:case Eu:case Tu:case Lu:case ku:return e;default:switch(e=e&&e.$$typeof,e){case sL:case Cu:case Iu:case Nu:case Ou:case Pu:return e;default:return t}}case tp:return t}}}ve.ContextConsumer=Cu;ve.ContextProvider=Pu;ve.Element=ep;ve.ForwardRef=Iu;ve.Fragment=bu;ve.Lazy=Nu;ve.Memo=Ou;ve.Portal=tp;ve.Profiler=Eu;ve.StrictMode=Tu;ve.Suspense=Lu;ve.SuspenseList=ku;ve.isAsyncMode=function(){return!1};ve.isConcurrentMode=function(){return!1};ve.isContextConsumer=function(e){return jt(e)===Cu};ve.isContextProvider=function(e){return jt(e)===Pu};ve.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ep};ve.isForwardRef=function(e){return jt(e)===Iu};ve.isFragment=function(e){return jt(e)===bu};ve.isLazy=function(e){return jt(e)===Nu};ve.isMemo=function(e){return jt(e)===Ou};ve.isPortal=function(e){return jt(e)===tp};ve.isProfiler=function(e){return jt(e)===Eu};ve.isStrictMode=function(e){return jt(e)===Tu};ve.isSuspense=function(e){return jt(e)===Lu};ve.isSuspenseList=function(e){return jt(e)===ku};ve.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bu||e===Eu||e===Tu||e===Lu||e===ku||e===oL||typeof e=="object"&&e!==null&&(e.$$typeof===Nu||e.$$typeof===Ou||e.$$typeof===Pu||e.$$typeof===Cu||e.$$typeof===Iu||e.$$typeof===Ow||e.getModuleId!==void 0)};ve.typeOf=jt;function aL(){const e=VI();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let i=t;for(;i;)i.callback(),i=i.next})},get(){let i=[],r=t;for(;r;)i.push(r),r=r.next;return i},subscribe(i){let r=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!r||t===null||(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const kv={notify(){},get:()=>[]};function lL(e,t){let n,i=kv,r=0,o=!1;function l(b){p();const C=i.subscribe(b);let x=!1;return()=>{x||(x=!0,C(),g())}}function d(){i.notify()}function u(){E.onStateChange&&E.onStateChange()}function f(){return o}function p(){r++,n||(n=t?t.addNestedSub(u):e.subscribe(u),i=aL())}function g(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=kv)}function v(){o||(o=!0,p())}function w(){o&&(o=!1,g())}const E={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:f,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>i};return E}const uL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cL=uL?k.useLayoutEffect:k.useEffect;function dL({store:e,context:t,children:n,serverState:i,stabilityCheck:r="once",noopCheck:o="once"}){const l=k.useMemo(()=>{const f=lL(e);return{store:e,subscription:f,getServerState:i?()=>i:void 0,stabilityCheck:r,noopCheck:o}},[e,i,r,o]),d=k.useMemo(()=>e.getState(),[e]);cL(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),d!==e.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,d]);const u=t||Pi;return k.createElement(u.Provider,{value:l},n)}function Nw(e=Pi){const t=e===Pi?Ew:Xh(e);return function(){const{store:i}=t();return i}}const fL=Nw();function hL(e=Pi){const t=e===Pi?fL:Nw(e);return function(){return t().dispatch}}const np=hL();qI($I.useSyncExternalStoreWithSelector);WI($h.unstable_batchedUpdates);function Zt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ci(e){return!!e&&!!e[Ee]}function jn(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var i=Object.getPrototypeOf(n);if(i===null)return!0;var r=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===SL}(e)||Array.isArray(e)||!!e[zv]||!!(!((t=e.constructor)===null||t===void 0)&&t[zv])||ip(e)||rp(e))}function rr(e,t,n){n===void 0&&(n=!1),ds(e)===0?(n?Object.keys:Wr)(e).forEach(function(i){n&&typeof i=="symbol"||t(i,e[i],e)}):e.forEach(function(i,r){return t(r,i,e)})}function ds(e){var t=e[Ee];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ip(e)?2:rp(e)?3:0}function Hr(e,t){return ds(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pL(e,t){return ds(e)===2?e.get(t):e[t]}function Rw(e,t,n){var i=ds(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function Aw(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ip(e){return wL&&e instanceof Map}function rp(e){return xL&&e instanceof Set}function Bi(e){return e.o||e.t}function sp(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Dw(e);delete t[Ee];for(var n=Wr(t),i=0;i<n.length;i++){var r=n[i],o=t[r];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function op(e,t){return t===void 0&&(t=!1),ap(e)||Ci(e)||!jn(e)||(ds(e)>1&&(e.set=e.add=e.clear=e.delete=mL),Object.freeze(e),t&&rr(e,function(n,i){return op(i,!0)},!0)),e}function mL(){Zt(2)}function ap(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function cn(e){var t=Ef[e];return t||Zt(18,e),t}function gL(e,t){Ef[e]||(Ef[e]=t)}function Sf(){return bo}function id(e,t){t&&(cn("Patches"),e.u=[],e.s=[],e.v=t)}function Ol(e){bf(e),e.p.forEach(vL),e.p=null}function bf(e){e===bo&&(bo=e.l)}function Ov(e){return bo={p:[],l:bo,h:e,m:!0,_:0}}function vL(e){var t=e[Ee];t.i===0||t.i===1?t.j():t.g=!0}function rd(e,t){t._=t.p.length;var n=t.p[0],i=e!==void 0&&e!==n;return t.h.O||cn("ES5").S(t,e,i),i?(n[Ee].P&&(Ol(t),Zt(4)),jn(e)&&(e=Nl(t,e),t.l||Rl(t,e)),t.u&&cn("Patches").M(n[Ee].t,e,t.u,t.s)):e=Nl(t,n,[]),Ol(t),t.u&&t.v(t.u,t.s),e!==Mw?e:void 0}function Nl(e,t,n){if(ap(t))return t;var i=t[Ee];if(!i)return rr(t,function(d,u){return Nv(e,i,t,d,u,n)},!0),t;if(i.A!==e)return t;if(!i.P)return Rl(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=i.i===4||i.i===5?i.o=sp(i.k):i.o,o=r,l=!1;i.i===3&&(o=new Set(r),r.clear(),l=!0),rr(o,function(d,u){return Nv(e,i,r,d,u,n,l)}),Rl(e,r,!1),n&&e.u&&cn("Patches").N(i,n,e.u,e.s)}return i.o}function Nv(e,t,n,i,r,o,l){if(Ci(r)){var d=Nl(e,r,o&&t&&t.i!==3&&!Hr(t.R,i)?o.concat(i):void 0);if(Rw(n,i,d),!Ci(d))return;e.m=!1}else l&&n.add(r);if(jn(r)&&!ap(r)){if(!e.h.D&&e._<1)return;Nl(e,r),t&&t.A.l||Rl(e,r)}}function Rl(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&op(t,n)}function sd(e,t){var n=e[Ee];return(n?Bi(n):e)[t]}function Rv(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function ei(e){e.P||(e.P=!0,e.l&&ei(e.l))}function od(e){e.o||(e.o=sp(e.t))}function Tf(e,t,n){var i=ip(t)?cn("MapSet").F(t,n):rp(t)?cn("MapSet").T(t,n):e.O?function(r,o){var l=Array.isArray(r),d={i:l?1:0,A:o?o.A:Sf(),P:!1,I:!1,R:{},l:o,t:r,k:null,o:null,j:null,C:!1},u=d,f=To;l&&(u=[d],f=Hs);var p=Proxy.revocable(u,f),g=p.revoke,v=p.proxy;return d.k=v,d.j=g,v}(t,n):cn("ES5").J(t,n);return(n?n.A:Sf()).p.push(i),i}function _L(e){return Ci(e)||Zt(22,e),function t(n){if(!jn(n))return n;var i,r=n[Ee],o=ds(n);if(r){if(!r.P&&(r.i<4||!cn("ES5").K(r)))return r.t;r.I=!0,i=Av(n,o),r.I=!1}else i=Av(n,o);return rr(i,function(l,d){r&&pL(r.t,l)===d||Rw(i,l,t(d))}),o===3?new Set(i):i}(e)}function Av(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return sp(e)}function yL(){function e(o,l){var d=r[o];return d?d.enumerable=l:r[o]=d={configurable:!0,enumerable:l,get:function(){var u=this[Ee];return To.get(u,o)},set:function(u){var f=this[Ee];To.set(f,o,u)}},d}function t(o){for(var l=o.length-1;l>=0;l--){var d=o[l][Ee];if(!d.P)switch(d.i){case 5:i(d)&&ei(d);break;case 4:n(d)&&ei(d)}}}function n(o){for(var l=o.t,d=o.k,u=Wr(d),f=u.length-1;f>=0;f--){var p=u[f];if(p!==Ee){var g=l[p];if(g===void 0&&!Hr(l,p))return!0;var v=d[p],w=v&&v[Ee];if(w?w.t!==g:!Aw(v,g))return!0}}var E=!!l[Ee];return u.length!==Wr(l).length+(E?0:1)}function i(o){var l=o.k;if(l.length!==o.t.length)return!0;var d=Object.getOwnPropertyDescriptor(l,l.length-1);if(d&&!d.get)return!0;for(var u=0;u<l.length;u++)if(!l.hasOwnProperty(u))return!0;return!1}var r={};gL("ES5",{J:function(o,l){var d=Array.isArray(o),u=function(p,g){if(p){for(var v=Array(g.length),w=0;w<g.length;w++)Object.defineProperty(v,""+w,e(w,!0));return v}var E=Dw(g);delete E[Ee];for(var b=Wr(E),C=0;C<b.length;C++){var x=b[C];E[x]=e(x,p||!!E[x].enumerable)}return Object.create(Object.getPrototypeOf(g),E)}(d,o),f={i:d?5:4,A:l?l.A:Sf(),P:!1,I:!1,R:{},l,t:o,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,Ee,{value:f,writable:!0}),u},S:function(o,l,d){d?Ci(l)&&l[Ee].A===o&&t(o.p):(o.u&&function u(f){if(f&&typeof f=="object"){var p=f[Ee];if(p){var g=p.t,v=p.k,w=p.R,E=p.i;if(E===4)rr(v,function(T){T!==Ee&&(g[T]!==void 0||Hr(g,T)?w[T]||u(v[T]):(w[T]=!0,ei(p)))}),rr(g,function(T){v[T]!==void 0||Hr(v,T)||(w[T]=!1,ei(p))});else if(E===5){if(i(p)&&(ei(p),w.length=!0),v.length<g.length)for(var b=v.length;b<g.length;b++)w[b]=!1;else for(var C=g.length;C<v.length;C++)w[C]=!0;for(var x=Math.min(v.length,g.length),y=0;y<x;y++)v.hasOwnProperty(y)||(w[y]=!0),w[y]===void 0&&u(v[y])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):i(o)}})}var Mv,bo,lp=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",wL=typeof Map<"u",xL=typeof Set<"u",Dv=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Mw=lp?Symbol.for("immer-nothing"):((Mv={})["immer-nothing"]=!0,Mv),zv=lp?Symbol.for("immer-draftable"):"__$immer_draftable",Ee=lp?Symbol.for("immer-state"):"__$immer_state",SL=""+Object.prototype.constructor,Wr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Dw=Object.getOwnPropertyDescriptors||function(e){var t={};return Wr(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Ef={},To={get:function(e,t){if(t===Ee)return e;var n=Bi(e);if(!Hr(n,t))return function(r,o,l){var d,u=Rv(o,l);return u?"value"in u?u.value:(d=u.get)===null||d===void 0?void 0:d.call(r.k):void 0}(e,n,t);var i=n[t];return e.I||!jn(i)?i:i===sd(e.t,t)?(od(e),e.o[t]=Tf(e.A.h,i,e)):i},has:function(e,t){return t in Bi(e)},ownKeys:function(e){return Reflect.ownKeys(Bi(e))},set:function(e,t,n){var i=Rv(Bi(e),t);if(i!=null&&i.set)return i.set.call(e.k,n),!0;if(!e.P){var r=sd(Bi(e),t),o=r==null?void 0:r[Ee];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Aw(n,r)&&(n!==void 0||Hr(e.t,t)))return!0;od(e),ei(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return sd(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,od(e),ei(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Bi(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty:function(){Zt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Zt(12)}},Hs={};rr(To,function(e,t){Hs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Hs.deleteProperty=function(e,t){return Hs.set.call(this,e,t,void 0)},Hs.set=function(e,t,n){return To.set.call(this,e[0],t,n,e[0])};var bL=function(){function e(n){var i=this;this.O=Dv,this.D=!0,this.produce=function(r,o,l){if(typeof r=="function"&&typeof o!="function"){var d=o;o=r;var u=i;return function(b){var C=this;b===void 0&&(b=d);for(var x=arguments.length,y=Array(x>1?x-1:0),T=1;T<x;T++)y[T-1]=arguments[T];return u.produce(b,function(P){var N;return(N=o).call.apply(N,[C,P].concat(y))})}}var f;if(typeof o!="function"&&Zt(6),l!==void 0&&typeof l!="function"&&Zt(7),jn(r)){var p=Ov(i),g=Tf(i,r,void 0),v=!0;try{f=o(g),v=!1}finally{v?Ol(p):bf(p)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(b){return id(p,l),rd(b,p)},function(b){throw Ol(p),b}):(id(p,l),rd(f,p))}if(!r||typeof r!="object"){if((f=o(r))===void 0&&(f=r),f===Mw&&(f=void 0),i.D&&op(f,!0),l){var w=[],E=[];cn("Patches").M(r,f,w,E),l(w,E)}return f}Zt(21,r)},this.produceWithPatches=function(r,o){if(typeof r=="function")return function(f){for(var p=arguments.length,g=Array(p>1?p-1:0),v=1;v<p;v++)g[v-1]=arguments[v];return i.produceWithPatches(f,function(w){return r.apply(void 0,[w].concat(g))})};var l,d,u=i.produce(r,o,function(f,p){l=f,d=p});return typeof Promise<"u"&&u instanceof Promise?u.then(function(f){return[f,l,d]}):[u,l,d]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){jn(n)||Zt(8),Ci(n)&&(n=_L(n));var i=Ov(this),r=Tf(this,n,void 0);return r[Ee].C=!0,bf(i),r},t.finishDraft=function(n,i){var r=n&&n[Ee],o=r.A;return id(o,i),rd(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Dv&&Zt(20),this.O=n},t.applyPatches=function(n,i){var r;for(r=i.length-1;r>=0;r--){var o=i[r];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}r>-1&&(i=i.slice(r+1));var l=cn("Patches").$;return Ci(n)?l(n,i):this.produce(n,function(d){return l(d,i)})},e}(),Tt=new bL,zw=Tt.produce;Tt.produceWithPatches.bind(Tt);Tt.setAutoFreeze.bind(Tt);Tt.setUseProxies.bind(Tt);Tt.applyPatches.bind(Tt);Tt.createDraft.bind(Tt);Tt.finishDraft.bind(Tt);function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}function TL(e,t){if(Eo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Eo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EL(e){var t=TL(e,"string");return Eo(t)=="symbol"?t:t+""}function PL(e,t,n){return t=EL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Uv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jv(Object(n),!0).forEach(function(i){PL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function et(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Bv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ad=function(){return Math.random().toString(36).substring(7).split("").join(".")},Al={INIT:"@@redux/INIT"+ad(),REPLACE:"@@redux/REPLACE"+ad(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ad()}};function CL(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function up(e,t,n){var i;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(et(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(et(1));return n(up)(e,t)}if(typeof e!="function")throw new Error(et(2));var r=e,o=t,l=[],d=l,u=!1;function f(){d===l&&(d=l.slice())}function p(){if(u)throw new Error(et(3));return o}function g(b){if(typeof b!="function")throw new Error(et(4));if(u)throw new Error(et(5));var C=!0;return f(),d.push(b),function(){if(C){if(u)throw new Error(et(6));C=!1,f();var y=d.indexOf(b);d.splice(y,1),l=null}}}function v(b){if(!CL(b))throw new Error(et(7));if(typeof b.type>"u")throw new Error(et(8));if(u)throw new Error(et(9));try{u=!0,o=r(o,b)}finally{u=!1}for(var C=l=d,x=0;x<C.length;x++){var y=C[x];y()}return b}function w(b){if(typeof b!="function")throw new Error(et(10));r=b,v({type:Al.REPLACE})}function E(){var b,C=g;return b={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(et(11));function T(){y.next&&y.next(p())}T();var P=C(T);return{unsubscribe:P}}},b[Bv]=function(){return this},b}return v({type:Al.INIT}),i={dispatch:v,subscribe:g,getState:p,replaceReducer:w},i[Bv]=E,i}function IL(e){Object.keys(e).forEach(function(t){var n=e[t],i=n(void 0,{type:Al.INIT});if(typeof i>"u")throw new Error(et(12));if(typeof n(void 0,{type:Al.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(et(13))})}function jw(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];typeof e[r]=="function"&&(n[r]=e[r])}var o=Object.keys(n),l;try{IL(n)}catch(d){l=d}return function(u,f){if(u===void 0&&(u={}),l)throw l;for(var p=!1,g={},v=0;v<o.length;v++){var w=o[v],E=n[w],b=u[w],C=E(b,f);if(typeof C>"u")throw f&&f.type,new Error(et(14));g[w]=C,p=p||C!==b}return p=p||o.length!==Object.keys(u).length,p?g:u}}function Ml(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(i){return i}:t.length===1?t[0]:t.reduce(function(i,r){return function(){return i(r.apply(void 0,arguments))}})}function LL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return function(){var r=i.apply(void 0,arguments),o=function(){throw new Error(et(15))},l={getState:r.getState,dispatch:function(){return o.apply(void 0,arguments)}},d=t.map(function(u){return u(l)});return o=Ml.apply(void 0,d)(r.dispatch),Uv(Uv({},r),{},{dispatch:o})}}}function Uw(e){var t=function(i){var r=i.dispatch,o=i.getState;return function(l){return function(d){return typeof d=="function"?d(r,o,e):l(d)}}};return t}var Bw=Uw();Bw.withExtraArgument=Uw;const Fv=Bw;var Fw=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),kL=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(f){return function(p){return u([f,p])}}function u(f){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,r=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],r=0}finally{i=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},is=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},OL=Object.defineProperty,NL=Object.defineProperties,RL=Object.getOwnPropertyDescriptors,$v=Object.getOwnPropertySymbols,AL=Object.prototype.hasOwnProperty,ML=Object.prototype.propertyIsEnumerable,Hv=function(e,t,n){return t in e?OL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},yi=function(e,t){for(var n in t||(t={}))AL.call(t,n)&&Hv(e,n,t[n]);if($v)for(var i=0,r=$v(t);i<r.length;i++){var n=r[i];ML.call(t,n)&&Hv(e,n,t[n])}return e},ld=function(e,t){return NL(e,RL(t))},DL=function(e,t,n){return new Promise(function(i,r){var o=function(u){try{d(n.next(u))}catch(f){r(f)}},l=function(u){try{d(n.throw(u))}catch(f){r(f)}},d=function(u){return u.done?i(u.value):Promise.resolve(u.value).then(o,l)};d((n=n.apply(e,t)).next())})},zL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ml:Ml.apply(null,arguments)};function jL(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function wi(e,t){function n(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(t){var o=t.apply(void 0,i);if(!o)throw new Error("prepareAction did not return an object");return yi(yi({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:i[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(i){return i.type===e},n}var UL=function(e){Fw(t,e);function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,is([void 0],n[0].concat(this)))):new(t.bind.apply(t,is([void 0],n.concat(this))))},t}(Array),BL=function(e){Fw(t,e);function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,is([void 0],n[0].concat(this)))):new(t.bind.apply(t,is([void 0],n.concat(this))))},t}(Array);function Pf(e){return jn(e)?zw(e,function(){}):e}function FL(e){return typeof e=="boolean"}function $L(){return function(t){return HL(t)}}function HL(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var i=new UL;return n&&(FL(n)?i.push(Fv):i.push(Fv.withExtraArgument(n.extraArgument))),i}var WL=!0;function VL(e){var t=$L(),n=e||{},i=n.reducer,r=i===void 0?void 0:i,o=n.middleware,l=o===void 0?t():o,d=n.devTools,u=d===void 0?!0:d,f=n.preloadedState,p=f===void 0?void 0:f,g=n.enhancers,v=g===void 0?void 0:g,w;if(typeof r=="function")w=r;else if(jL(r))w=jw(r);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var E=l;typeof E=="function"&&(E=E(t));var b=LL.apply(void 0,E),C=Ml;u&&(C=zL(yi({trace:!WL},typeof u=="object"&&u)));var x=new BL(b),y=x;Array.isArray(v)?y=is([b],v):typeof v=="function"&&(y=v(x));var T=C.apply(void 0,y);return up(w,p,T)}function $w(e){var t={},n=[],i,r={addCase:function(o,l){var d=typeof o=="string"?o:o.type;if(!d)throw new Error("`builder.addCase` cannot be called with an empty action type");if(d in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[d]=l,r},addMatcher:function(o,l){return n.push({matcher:o,reducer:l}),r},addDefaultCase:function(o){return i=o,r}};return e(r),[t,n,i]}function GL(e){return typeof e=="function"}function ZL(e,t,n,i){n===void 0&&(n=[]);var r=typeof t=="function"?$w(t):[t,n,i],o=r[0],l=r[1],d=r[2],u;if(GL(e))u=function(){return Pf(e())};else{var f=Pf(e);u=function(){return f}}function p(g,v){g===void 0&&(g=u());var w=is([o[v.type]],l.filter(function(E){var b=E.matcher;return b(v)}).map(function(E){var b=E.reducer;return b}));return w.filter(function(E){return!!E}).length===0&&(w=[d]),w.reduce(function(E,b){if(b)if(Ci(E)){var C=E,x=b(C,v);return x===void 0?E:x}else{if(jn(E))return zw(E,function(y){return b(y,v)});var x=b(E,v);if(x===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return E},g)}return p.getInitialState=u,p}function qL(e,t){return e+"/"+t}function KL(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:Pf(e.initialState),i=e.reducers||{},r=Object.keys(i),o={},l={},d={};r.forEach(function(p){var g=i[p],v=qL(t,p),w,E;"reducer"in g?(w=g.reducer,E=g.prepare):w=g,o[p]=w,l[v]=w,d[p]=E?wi(v,E):wi(v)});function u(){var p=typeof e.extraReducers=="function"?$w(e.extraReducers):[e.extraReducers],g=p[0],v=g===void 0?{}:g,w=p[1],E=w===void 0?[]:w,b=p[2],C=b===void 0?void 0:b,x=yi(yi({},v),l);return ZL(n,function(y){for(var T in x)y.addCase(T,x[T]);for(var P=0,N=E;P<N.length;P++){var A=N[P];y.addMatcher(A.matcher,A.reducer)}C&&y.addDefaultCase(C)})}var f;return{name:t,reducer:function(p,g){return f||(f=u()),f(p,g)},actions:d,caseReducers:o,getInitialState:function(){return f||(f=u()),f.getInitialState()}}}var XL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JL=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=XL[Math.random()*64|0];return t},YL=["name","message","stack","code"],ud=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Wv=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),QL=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,i=YL;n<i.length;n++){var r=i[n];typeof e[r]=="string"&&(t[r]=e[r])}return t}return{message:String(e)}};(function(){function e(t,n,i){var r=wi(t+"/fulfilled",function(f,p,g,v){return{payload:f,meta:ld(yi({},v||{}),{arg:g,requestId:p,requestStatus:"fulfilled"})}}),o=wi(t+"/pending",function(f,p,g){return{payload:void 0,meta:ld(yi({},g||{}),{arg:p,requestId:f,requestStatus:"pending"})}}),l=wi(t+"/rejected",function(f,p,g,v,w){return{payload:v,error:(i&&i.serializeError||QL)(f||"Rejected"),meta:ld(yi({},w||{}),{arg:g,requestId:p,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(f==null?void 0:f.name)==="AbortError",condition:(f==null?void 0:f.name)==="ConditionError"})}}),d=typeof AbortController<"u"?AbortController:function(){function f(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return f.prototype.abort=function(){},f}();function u(f){return function(p,g,v){var w=i!=null&&i.idGenerator?i.idGenerator(f):JL(),E=new d,b;function C(y){b=y,E.abort()}var x=function(){return DL(this,null,function(){var y,T,P,N,A,M,B;return kL(this,function(z){switch(z.label){case 0:return z.trys.push([0,4,,5]),N=(y=i==null?void 0:i.condition)==null?void 0:y.call(i,f,{getState:g,extra:v}),tk(N)?[4,N]:[3,2];case 1:N=z.sent(),z.label=2;case 2:if(N===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return A=new Promise(function($,j){return E.signal.addEventListener("abort",function(){return j({name:"AbortError",message:b||"Aborted"})})}),p(o(w,f,(T=i==null?void 0:i.getPendingMeta)==null?void 0:T.call(i,{requestId:w,arg:f},{getState:g,extra:v}))),[4,Promise.race([A,Promise.resolve(n(f,{dispatch:p,getState:g,extra:v,requestId:w,signal:E.signal,abort:C,rejectWithValue:function($,j){return new ud($,j)},fulfillWithValue:function($,j){return new Wv($,j)}})).then(function($){if($ instanceof ud)throw $;return $ instanceof Wv?r($.payload,w,f,$.meta):r($,w,f)})])];case 3:return P=z.sent(),[3,5];case 4:return M=z.sent(),P=M instanceof ud?l(null,w,f,M.payload,M.meta):l(M,w,f),[3,5];case 5:return B=i&&!i.dispatchConditionRejection&&l.match(P)&&P.meta.condition,B||p(P),[2,P]}})})}();return Object.assign(x,{abort:C,requestId:w,arg:f,unwrap:function(){return x.then(ek)}})}}return Object.assign(u,{pending:o,rejected:l,fulfilled:r,typePrefix:t})}return e.withTypes=function(){return e},e})();function ek(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function tk(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var cp="listenerMiddleware";wi(cp+"/add");wi(cp+"/removeAll");wi(cp+"/remove");var Vv;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);yL();const nk={currentUser:null,error:null,loading:!1},Hw=KL({name:"user",initialState:nk,reducers:{signInStart:e=>{e.loading=!0},signInSuccess:(e,t)=>{e.currentUser=t.payload,e.loading=!1,e.error=null},signInFailure:(e,t)=>{e.error=t.payload,e.loading=!1},updateUserStart:e=>{e.loading=!0},updateUserSuccess:(e,t)=>{e.currentUser=t.payload,e.loading=!1,e.error=null},updateUserFailure:(e,t)=>{e.error=t.payload,e.loading=!1},deleteUserStart:e=>{e.loading=!0},deleteUserSuccess:e=>{e.currentUser=null,e.loading=!1,e.error=null},deleteUserFailure:(e,t)=>{e.error=t.payload,e.loading=!1},signOutUserStart:e=>{e.loading=!0},signOutUserSuccess:e=>{e.currentUser=null,e.loading=!1,e.error=null},signOutUserFailure:(e,t)=>{e.error=t.payload,e.loading=!1}}}),{signInStart:ik,signInSuccess:Ww,signInFailure:Gv,updateUserFailure:Zv,updateUserSuccess:rk,updateUserStart:sk,deleteUserFailure:ka,deleteUserSuccess:qv,deleteUserStart:ok,signOutUserFailure:tD,signOutUserSuccess:nD,signOutUserStart:ak}=Hw.actions,lk=Hw.reducer;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},uk=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=e[n++],l=e[n++],d=e[n++],u=((r&7)<<18|(o&63)<<12|(l&63)<<6|d&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const o=e[n++],l=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},Gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const o=e[r],l=r+1<e.length,d=l?e[r+1]:0,u=r+2<e.length,f=u?e[r+2]:0,p=o>>2,g=(o&3)<<4|d>>4;let v=(d&15)<<2|f>>6,w=f&63;u||(w=64,l||(v=64)),i.push(n[p],n[g],n[v],n[w])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):uk(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const o=n[e.charAt(r++)],d=r<e.length?n[e.charAt(r)]:0;++r;const f=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,o==null||d==null||f==null||g==null)throw new ck;const v=o<<2|d>>4;if(i.push(v),f!==64){const w=d<<4&240|f>>2;if(i.push(w),g!==64){const E=f<<6&192|g;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ck extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dk=function(e){const t=Vw(e);return Gw.encodeByteArray(t,!0)},Dl=function(e){return dk(e).replace(/\./g,"")},Zw=function(e){try{return Gw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=()=>fk().__FIREBASE_DEFAULTS__,pk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},mk=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Zw(e[1]);return t&&JSON.parse(t)},dp=()=>{try{return hk()||pk()||mk()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},qw=e=>{var t,n;return(n=(t=dp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},gk=e=>{const t=qw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Kw=()=>{var e;return(e=dp())===null||e===void 0?void 0:e.config},Xw=e=>{var t;return(t=dp())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),d="";return[Dl(JSON.stringify(n)),Dl(JSON.stringify(l)),d].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function wk(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function xk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sk(){const e=it();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function bk(){try{return typeof indexedDB=="object"}catch{return!1}}function Tk(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="FirebaseError";class Wn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Ek,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}}class Do{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?Pk(o,i):"Error",d=`${this.serviceName}: ${l} (${r}).`;return new Wn(r,d,i)}}function Pk(e,t){return e.replace(Ck,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Ck=/\{\$([^}]+)}/g;function Ik(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zl(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const o=e[r],l=t[r];if(Kv(o)&&Kv(l)){if(!zl(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Kv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Lk(e,t){const n=new kk(e,t);return n.subscribe.bind(n)}class kk{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Ok(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=cd),r.error===void 0&&(r.error=cd),r.complete===void 0&&(r.complete=cd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ok(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){return e&&e._delegate?e._delegate:e}class sr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new vk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ak(t))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Fi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fi){return this.instances.has(t)}getOptions(t=Fi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);i===d&&l.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&t(l,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Rk(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Fi){return this.component?this.component.multipleInstances?t:Fi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rk(e){return e===Fi?void 0:e}function Ak(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Nk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));const Dk={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},zk=_e.INFO,jk={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},Uk=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=jk[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jw{constructor(t){this.name=t,this._logLevel=zk,this._logHandler=Uk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Dk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const Bk=(e,t)=>t.some(n=>e instanceof n);let Xv,Jv;function Fk(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $k(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,Cf=new WeakMap,Qw=new WeakMap,dd=new WeakMap,fp=new WeakMap;function Hk(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",l)},o=()=>{n(xi(e.result)),r()},l=()=>{i(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&Yw.set(n,e)}).catch(()=>{}),fp.set(t,e),t}function Wk(e){if(Cf.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",l),e.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",l),e.addEventListener("abort",l)});Cf.set(e,t)}let If={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Cf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Qw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Vk(e){If=e(If)}function Gk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(fd(this),t,...n);return Qw.set(i,t.sort?t.sort():[t]),xi(i)}:$k().includes(e)?function(...t){return e.apply(fd(this),t),xi(Yw.get(this))}:function(...t){return xi(e.apply(fd(this),t))}}function Zk(e){return typeof e=="function"?Gk(e):(e instanceof IDBTransaction&&Wk(e),Bk(e,Fk())?new Proxy(e,If):e)}function xi(e){if(e instanceof IDBRequest)return Hk(e);if(dd.has(e))return dd.get(e);const t=Zk(e);return t!==e&&(dd.set(e,t),fp.set(t,e)),t}const fd=e=>fp.get(e);function qk(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(e,t),d=xi(l);return i&&l.addEventListener("upgradeneeded",u=>{i(xi(l.result),u.oldVersion,u.newVersion,xi(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),d.then(u=>{o&&u.addEventListener("close",()=>o()),r&&u.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const Kk=["get","getKey","getAll","getAllKeys","count"],Xk=["put","add","delete","clear"],hd=new Map;function Yv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hd.get(t))return hd.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Xk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Kk.includes(n)))return;const o=async function(l,...d){const u=this.transaction(l,r?"readwrite":"readonly");let f=u.store;return i&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),r&&u.done]))[0]};return hd.set(t,o),o}Vk(e=>({...e,get:(t,n,i)=>Yv(t,n)||e.get(t,n,i),has:(t,n)=>!!Yv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Yk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Lf="@firebase/app",Qv="0.10.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Jw("@firebase/app"),Qk="@firebase/app-compat",eO="@firebase/analytics-compat",tO="@firebase/analytics",nO="@firebase/app-check-compat",iO="@firebase/app-check",rO="@firebase/auth",sO="@firebase/auth-compat",oO="@firebase/database",aO="@firebase/database-compat",lO="@firebase/functions",uO="@firebase/functions-compat",cO="@firebase/installations",dO="@firebase/installations-compat",fO="@firebase/messaging",hO="@firebase/messaging-compat",pO="@firebase/performance",mO="@firebase/performance-compat",gO="@firebase/remote-config",vO="@firebase/remote-config-compat",_O="@firebase/storage",yO="@firebase/storage-compat",wO="@firebase/firestore",xO="@firebase/vertexai-preview",SO="@firebase/firestore-compat",bO="firebase",TO="10.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="[DEFAULT]",EO={[Lf]:"fire-core",[Qk]:"fire-core-compat",[tO]:"fire-analytics",[eO]:"fire-analytics-compat",[iO]:"fire-app-check",[nO]:"fire-app-check-compat",[rO]:"fire-auth",[sO]:"fire-auth-compat",[oO]:"fire-rtdb",[aO]:"fire-rtdb-compat",[lO]:"fire-fn",[uO]:"fire-fn-compat",[cO]:"fire-iid",[dO]:"fire-iid-compat",[fO]:"fire-fcm",[hO]:"fire-fcm-compat",[pO]:"fire-perf",[mO]:"fire-perf-compat",[gO]:"fire-rc",[vO]:"fire-rc-compat",[_O]:"fire-gcs",[yO]:"fire-gcs-compat",[wO]:"fire-fst",[SO]:"fire-fst-compat",[xO]:"fire-vertex","fire-js":"fire-js",[bO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new Map,PO=new Map,Of=new Map;function e_(e,t){try{e.container.addComponent(t)}catch(n){or.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function rs(e){const t=e.name;if(Of.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;Of.set(t,e);for(const n of jl.values())e_(n,e);for(const n of PO.values())e_(n,e);return!0}function hp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Cn(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Do("app","Firebase",CO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=TO;function ex(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:kf,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Si.create("bad-app-name",{appName:String(r)});if(n||(n=Kw()),!n)throw Si.create("no-options");const o=jl.get(r);if(o){if(zl(n,o.options)&&zl(i,o.config))return o;throw Si.create("duplicate-app",{appName:r})}const l=new Mk(r);for(const u of Of.values())l.addComponent(u);const d=new IO(n,i,l);return jl.set(r,d),d}function tx(e=kf){const t=jl.get(e);if(!t&&e===kf&&Kw())return ex();if(!t)throw Si.create("no-app",{appName:e});return t}function bi(e,t,n){var i;let r=(i=EO[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&d.push("and"),l&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(d.join(" "));return}rs(new sr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="firebase-heartbeat-database",kO=1,Po="firebase-heartbeat-store";let pd=null;function nx(){return pd||(pd=qk(LO,kO,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Po)}catch(n){console.warn(n)}}}}).catch(e=>{throw Si.create("idb-open",{originalErrorMessage:e.message})})),pd}async function OO(e){try{const n=(await nx()).transaction(Po),i=await n.objectStore(Po).get(ix(e));return await n.done,i}catch(t){if(t instanceof Wn)or.warn(t.message);else{const n=Si.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(n.message)}}}async function t_(e,t){try{const i=(await nx()).transaction(Po,"readwrite");await i.objectStore(Po).put(t,ix(e)),await i.done}catch(n){if(n instanceof Wn)or.warn(n.message);else{const i=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(i.message)}}}function ix(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=1024,RO=30*24*60*60*1e3;class AO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=n_();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const d=new Date(l.date).valueOf();return Date.now()-d<=RO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=n_(),{heartbeatsToSend:i,unsentEntries:r}=MO(this._heartbeatsCache.heartbeats),o=Dl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function n_(){return new Date().toISOString().substring(0,10)}function MO(e,t=NO){const n=[];let i=e.slice();for(const r of e){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),i_(n)>t){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),i_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class DO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bk()?Tk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function i_(e){return Dl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(e){rs(new sr("platform-logger",t=>new Jk(t),"PRIVATE")),rs(new sr("heartbeat",t=>new AO(t),"PRIVATE")),bi(Lf,Qv,e),bi(Lf,Qv,"esm2017"),bi("fire-js","")}zO("");function pp(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function rx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jO=rx,sx=new Do("auth","Firebase",rx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new Jw("@firebase/auth");function UO(e,...t){Ul.logLevel<=_e.WARN&&Ul.warn(`Auth (${fs}): ${e}`,...t)}function qa(e,...t){Ul.logLevel<=_e.ERROR&&Ul.error(`Auth (${fs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e,...t){throw gp(e,...t)}function Xt(e,...t){return gp(e,...t)}function mp(e,t,n){const i=Object.assign(Object.assign({},jO()),{[t]:n});return new Do("auth","Firebase",i).create(t,{appName:e.name})}function Xi(e){return mp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BO(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&fn(e,"argument-error"),mp(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gp(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return sx.create(e,...t)}function te(e,t,...n){if(!e)throw gp(t,...n)}function In(e){const t="INTERNAL ASSERTION FAILED: "+e;throw qa(t),new Error(t)}function Un(e,t){e||In(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function FO(){return r_()==="http:"||r_()==="https:"}function r_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FO()||wk()||"connection"in navigator)?navigator.onLine:!0}function HO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,n){this.shortDelay=t,this.longDelay=n,Un(n>t,"Short delay should be less than long delay!"),this.isMobile=yk()||xk()}get(){return $O()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(e,t){Un(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new jo(3e4,6e4);function _p(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function hs(e,t,n,i,r={}){return ax(e,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const d=zo(Object.assign({key:e.config.apiKey},l)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),ox.fetch()(lx(e,e.config.apiHost,n,d),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},o))})}async function ax(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},WO),t);try{const r=new ZO(e),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Oa(e,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const d=o.ok?l.errorMessage:l.error.message,[u,f]=d.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oa(e,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw Oa(e,"email-already-in-use",l);if(u==="USER_DISABLED")throw Oa(e,"user-disabled",l);const p=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw mp(e,p,f);fn(e,p)}}catch(r){if(r instanceof Wn)throw r;fn(e,"network-request-failed",{message:String(r)})}}async function GO(e,t,n,i,r={}){const o=await hs(e,t,n,i,r);return"mfaPendingCredential"in o&&fn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function lx(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?vp(e.config,r):`${e.config.apiScheme}://${r}`}class ZO{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Xt(this.auth,"network-request-failed")),VO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oa(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Xt(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(e,t){return hs(e,"POST","/v1/accounts:delete",t)}async function ux(e,t){return hs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KO(e,t=!1){const n=pn(e),i=await n.getIdToken(t),r=yp(i);te(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:to(md(r.auth_time)),issuedAtTime:to(md(r.iat)),expirationTime:to(md(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function md(e){return Number(e)*1e3}function yp(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return qa("JWT malformed, contained fewer than 3 sections"),null;try{const r=Zw(n);return r?JSON.parse(r):(qa("Failed to decode base64 JWT payload"),null)}catch(r){return qa("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function s_(e){const t=yp(e);return te(t,"internal-error"),te(typeof t.exp<"u","internal-error"),te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Wn&&XO(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function XO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=to(this.lastLoginAt),this.creationTime=to(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Co(e,ux(n,{idToken:i}));te(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?cx(o.providerUserInfo):[],d=QO(e.providerData,l),u=e.isAnonymous,f=!(e.email&&o.passwordHash)&&!(d!=null&&d.length),p=u?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Rf(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(e,g)}async function YO(e){const t=pn(e);await Bl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QO(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function cx(e){return e.map(t=>{var{providerId:n}=t,i=pp(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(e,t){const n=await ax(e,{},async()=>{const i=zo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,l=lx(e,r,"/v1/token",`key=${o}`),d=await e._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",ox.fetch()(l,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tN(e,t){return hs(e,"POST","/v2/accounts:revokeToken",_p(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){te(t.idToken,"internal-error"),te(typeof t.idToken<"u","internal-error"),te(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):s_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){te(t.length!==0,"internal-error");const n=s_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await eN(t,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new Vr;return i&&(te(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(te(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(te(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vr,this.toJSON())}_performRefresh(){return In("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(e,t){te(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ln{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,o=pp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Co(this,this.stsTokenManager.getToken(this.auth,t));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return KO(this,t)}reload(){return YO(this)}_assign(t){this!==t&&(te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ln(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Bl(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Xi(this.auth));const t=await this.getIdToken();return await Co(this,qO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,o,l,d,u,f,p;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(l=n.photoURL)!==null&&l!==void 0?l:void 0,b=(d=n.tenantId)!==null&&d!==void 0?d:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(f=n.createdAt)!==null&&f!==void 0?f:void 0,y=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:T,emailVerified:P,isAnonymous:N,providerData:A,stsTokenManager:M}=n;te(T&&M,t,"internal-error");const B=Vr.fromJSON(this.name,M);te(typeof T=="string",t,"internal-error"),qn(g,t.name),qn(v,t.name),te(typeof P=="boolean",t,"internal-error"),te(typeof N=="boolean",t,"internal-error"),qn(w,t.name),qn(E,t.name),qn(b,t.name),qn(C,t.name),qn(x,t.name),qn(y,t.name);const z=new Ln({uid:T,auth:t,email:v,emailVerified:P,displayName:g,isAnonymous:N,photoURL:E,phoneNumber:w,tenantId:b,stsTokenManager:B,createdAt:x,lastLoginAt:y});return A&&Array.isArray(A)&&(z.providerData=A.map($=>Object.assign({},$))),C&&(z._redirectEventId=C),z}static async _fromIdTokenResponse(t,n,i=!1){const r=new Vr;r.updateFromServerResponse(n);const o=new Ln({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Bl(o),o}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];te(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?cx(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),d=new Vr;d.updateFromIdToken(i);const u=new Ln({uid:r.localId,auth:t,stsTokenManager:d,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Rf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;function kn(e){Un(e instanceof Function,"Expected a class definition");let t=o_.get(e);return t?(Un(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,o_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}dx.type="NONE";const a_=dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(e,t,n){return`firebase:${e}:${t}:${n}`}class Gr{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Ka(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ka("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ln._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Gr(kn(a_),t,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||kn(a_);const l=Ka(i,t.config.apiKey,t.name);let d=null;for(const f of n)try{const p=await f._get(l);if(p){const g=Ln._fromJSON(t,p);f!==o&&(d=g),o=f;break}}catch{}const u=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Gr(o,t,i):(o=u[0],d&&await o._set(l,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Gr(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(px(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gx(t))return"Blackberry";if(vx(t))return"Webos";if(wp(t))return"Safari";if((t.includes("chrome/")||hx(t))&&!t.includes("edge/"))return"Chrome";if(mx(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fx(e=it()){return/firefox\//i.test(e)}function wp(e=it()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hx(e=it()){return/crios\//i.test(e)}function px(e=it()){return/iemobile/i.test(e)}function mx(e=it()){return/android/i.test(e)}function gx(e=it()){return/blackberry/i.test(e)}function vx(e=it()){return/webos/i.test(e)}function Ru(e=it()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function nN(e=it()){var t;return Ru(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function iN(){return Sk()&&document.documentMode===10}function _x(e=it()){return Ru(e)||mx(e)||vx(e)||gx(e)||/windows phone/i.test(e)||px(e)}function rN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(e,t=[]){let n;switch(e){case"Browser":n=l_(it());break;case"Worker":n=`${l_(it())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=o=>new Promise((l,d)=>{try{const u=t(o);l(u)}catch(u){d(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(e,t={}){return hs(e,"GET","/v2/passwordPolicy",_p(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=6;class lN{constructor(t){var n,i,r,o;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:aN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,o,l,d;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNumericCharacter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(d=u.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u_(this),this.idTokenSubscription=new u_(this),this.beforeStateQueue=new sN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=kn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Gr.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ux(this,{idToken:t}),i=await Ln._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Cn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!l||l===d)&&(u!=null&&u.user)&&(r=u.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bl(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Cn(this.app))return Promise.reject(Xi(this));const n=t?pn(t):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Cn(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oN(this),n=new lN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Do("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await tN(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&kn(t)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Gr.create(this,[kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(d,this,"internal-error"),d.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{l=!0,u()}}else{const u=t.addObserver(n);return()=>{l=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&UO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Au(e){return pn(e)}class u_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Lk(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cN(e){xp=e}function dN(e){return xp.loadJS(e)}function fN(){return xp.gapiScript}function hN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(e,t){const n=hp(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(zl(o,t??{}))return r;fn(r,"already-initialized")}return n.initialize({options:t})}function mN(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(kn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function gN(e,t,n){const i=Au(e);te(i._canInitEmulator,i,"emulator-config-failed"),te(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=wx(t),{host:l,port:d}=vN(t),u=d===null?"":`:${d}`;i.config.emulator={url:`${o}//${l}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||_N()}function wx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function vN(e){const t=wx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:c_(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:c_(l)}}}function c_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function _N(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return In("not implemented")}_getIdTokenResponse(t){return In("not implemented")}_linkToIdToken(t,n){return In("not implemented")}_getReauthenticationResolver(t){return In("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zr(e,t){return GO(e,"POST","/v1/accounts:signInWithIdp",_p(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="http://localhost";class ar extends xx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ar(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,o=pp(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new ar(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return Zr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Zr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Zr(t,n)}buildRequest(){const t={requestUri:yN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Sp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Uo{constructor(){super("facebook.com")}static credential(t){return ar._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ti.credentialFromTaggedObject(t)}static credentialFromError(t){return ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ti.credential(t.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ar._fromParams({providerId:Tn.PROVIDER_ID,signInMethod:Tn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Tn.credentialFromTaggedObject(t)}static credentialFromError(t){return Tn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Tn.credential(n,i)}catch{return null}}}Tn.GOOGLE_SIGN_IN_METHOD="google.com";Tn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Uo{constructor(){super("github.com")}static credential(t){return ar._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ni.credentialFromTaggedObject(t)}static credentialFromError(t){return ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ni.credential(t.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Uo{constructor(){super("twitter.com")}static credential(t,n){return ar._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ii.credentialFromTaggedObject(t)}static credentialFromError(t){return ii.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return ii.credential(n,i)}catch{return null}}}ii.TWITTER_SIGN_IN_METHOD="twitter.com";ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const o=await Ln._fromIdTokenResponse(t,i,r),l=d_(i);return new ss({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=d_(i);return new ss({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function d_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Wn{constructor(t,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Fl.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new Fl(t,n,i,r)}}function Sx(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fl._fromErrorAndOperation(e,o,t,i):o})}async function wN(e,t,n=!1){const i=await Co(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ss._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(e,t,n=!1){const{auth:i}=e;if(Cn(i.app))return Promise.reject(Xi(i));const r="reauthenticate";try{const o=await Co(e,Sx(i,r,t,e),n);te(o.idToken,i,"internal-error");const l=yp(o.idToken);te(l,i,"internal-error");const{sub:d}=l;return te(e.uid===d,i,"user-mismatch"),ss._forOperation(e,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(e,t,n=!1){if(Cn(e.app))return Promise.reject(Xi(e));const i="signIn",r=await Sx(e,i,t),o=await ss._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}function bN(e,t,n,i){return pn(e).onIdTokenChanged(t,n,i)}function TN(e,t,n){return pn(e).beforeAuthStateChanged(t,n)}const $l="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($l,"1"),this.storage.removeItem($l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(){const e=it();return wp(e)||Ru(e)}const PN=1e3,CN=10;class Tx extends bx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=EN()&&rN(),this.fallbackToPolling=_x(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,d,u)=>{this.notifyListeners(l,u)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(t.newValue!==l)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);iN()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,CN):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},PN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Tx.type="LOCAL";const IN=Tx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex extends bx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Ex.type="SESSION";const Px=Ex;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Mu(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const d=Array.from(l).map(async f=>f(n.origin,o)),u=await LN(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((d,u)=>{const f=bp("",20);r.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(v.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function ON(e){dn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function NN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RN(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function AN(){return Cx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="firebaseLocalStorageDb",MN=1,Hl="firebaseLocalStorage",Lx="fbase_key";class Bo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Du(e,t){return e.transaction([Hl],t?"readwrite":"readonly").objectStore(Hl)}function DN(){const e=indexedDB.deleteDatabase(Ix);return new Bo(e).toPromise()}function Af(){const e=indexedDB.open(Ix,MN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Hl,{keyPath:Lx})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Hl)?t(i):(i.close(),await DN(),t(await Af()))})})}async function f_(e,t,n){const i=Du(e,!0).put({[Lx]:t,value:n});return new Bo(i).toPromise()}async function zN(e,t){const n=Du(e,!1).get(t),i=await new Bo(n).toPromise();return i===void 0?null:i.value}function h_(e,t){const n=Du(e,!0).delete(t);return new Bo(n).toPromise()}const jN=800,UN=3;class kx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Af(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>UN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mu._getInstance(AN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await NN(),!this.activeServiceWorker)return;this.sender=new kN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||RN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Af();return await f_(t,$l,"1"),await h_(t,$l),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>f_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>zN(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>h_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Du(r,!1).getAll();return new Bo(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kx.type="LOCAL";const BN=kx;new jo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(e,t){return t?kn(t):(te(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends xx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Zr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Zr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function FN(e){return SN(e.auth,new Tp(e),e.bypassAuthState)}function $N(e){const{auth:t,user:n}=e;return te(n,t,"internal-error"),xN(n,new Tp(e),e.bypassAuthState)}async function HN(e){const{auth:t,user:n}=e;return te(n,t,"internal-error"),wN(n,new Tp(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t,n,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:d}=t;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(u))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FN;case"linkViaPopup":case"linkViaRedirect":return HN;case"reauthViaPopup":case"reauthViaRedirect":return $N;default:fn(this.auth,"internal-error")}}resolve(t){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new jo(2e3,1e4);async function VN(e,t,n){if(Cn(e.app))return Promise.reject(Xt(e,"operation-not-supported-in-this-environment"));const i=Au(e);BO(e,t,Sp);const r=Ox(i,n);return new Gi(i,"signInViaPopup",t,r).executeNotNull()}class Gi extends Nx{constructor(t,n,i,r,o){super(t,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Gi.currentPopupAction&&Gi.currentPopupAction.cancel(),Gi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return te(t,this.auth,"internal-error"),t}async onExecution(){Un(this.filter.length===1,"Popup operations only handle one event");const t=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WN.get())};t()}}Gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="pendingRedirect",Xa=new Map;class ZN extends Nx{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Xa.get(this.auth._key());if(!t){try{const i=await qN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Xa.set(this.auth._key(),t)}return this.bypassAuthState||Xa.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qN(e,t){const n=JN(t),i=XN(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function KN(e,t){Xa.set(e._key(),t)}function XN(e){return kn(e._redirectPersistence)}function JN(e){return Ka(GN,e.config.apiKey,e.name)}async function YN(e,t,n=!1){if(Cn(e.app))return Promise.reject(Xi(e));const i=Au(e),r=Ox(i,t),l=await new ZN(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=10*60*1e3;class eR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!tR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!Rx(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Xt(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=QN&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(t))}saveEventToCache(t){this.cachedEventUids.add(p_(t)),this.lastProcessedEventTime=Date.now()}}function p_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Rx({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function tR(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rx(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(e,t={}){return hs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rR=/^https?/;async function sR(e){if(e.config.emulator)return;const{authorizedDomains:t}=await nR(e);for(const n of t)try{if(oR(n))return}catch{}fn(e,"unauthorized-domain")}function oR(e){const t=Nf(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!rR.test(n))return!1;if(iR.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new jo(3e4,6e4);function m_(){const e=dn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function lR(e){return new Promise((t,n)=>{var i,r,o;function l(){m_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{m_(),n(Xt(e,"network-request-failed"))},timeout:aR.get()})}if(!((r=(i=dn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=dn().gapi)===null||o===void 0)&&o.load)l();else{const d=hN("iframefcb");return dn()[d]=()=>{gapi.load?l():n(Xt(e,"network-request-failed"))},dN(`${fN()}?onload=${d}`).catch(u=>n(u))}}).catch(t=>{throw Ja=null,t})}let Ja=null;function uR(e){return Ja=Ja||lR(e),Ja}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new jo(5e3,15e3),dR="__/auth/iframe",fR="emulator/auth/iframe",hR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mR(e){const t=e.config;te(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vp(t,fR):`https://${e.config.authDomain}/${dR}`,i={apiKey:t.apiKey,appName:e.name,v:fs},r=pR.get(e.config.apiHost);r&&(i.eid=r);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${zo(i).slice(1)}`}async function gR(e){const t=await uR(e),n=dn().gapi;return te(n,e,"internal-error"),t.open({where:document.body,url:mR(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hR,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Xt(e,"network-request-failed"),d=dn().setTimeout(()=>{o(l)},cR.get());function u(){dn().clearTimeout(d),r(i)}i.ping(u).then(u,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_R=500,yR=600,wR="_blank",xR="http://localhost";class g_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SR(e,t,n,i=_R,r=yR){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const u=Object.assign(Object.assign({},vR),{width:i.toString(),height:r.toString(),top:o,left:l}),f=it().toLowerCase();n&&(d=hx(f)?wR:n),fx(f)&&(t=t||xR,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[w,E])=>`${v}${w}=${E},`,"");if(nN(f)&&d!=="_self")return bR(t||"",d),new g_(null);const g=window.open(t||"",d,p);te(g,e,"popup-blocked");try{g.focus()}catch{}return new g_(g)}function bR(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="__/auth/handler",ER="emulator/auth/handler",PR=encodeURIComponent("fac");async function v_(e,t,n,i,r,o){te(e.config.authDomain,e,"auth-domain-config-required"),te(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:fs,eventId:r};if(t instanceof Sp){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",Ik(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,g]of Object.entries(o||{}))l[p]=g}if(t instanceof Uo){const p=t.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const d=l;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const u=await e._getAppCheckToken(),f=u?`#${PR}=${encodeURIComponent(u)}`:"";return`${CR(e)}?${zo(d).slice(1)}${f}`}function CR({config:e}){return e.emulator?vp(e,ER):`https://${e.authDomain}/${TR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="webStorageSupport";class IR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Px,this._completeRedirectFn=YN,this._overrideRedirectResult=KN}async _openPopup(t,n,i,r){var o;Un((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await v_(t,n,i,Nf(),r);return SR(t,l,bp())}async _openRedirect(t,n,i,r){await this._originValidation(t);const o=await v_(t,n,i,Nf(),r);return ON(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Un(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await gR(t),i=new eR(t);return n.register("authEvent",r=>(te(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gd,{type:gd},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[gd];l!==void 0&&n(!!l),fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _x()||wp()||Ru()}}const LR=IR;var __="@firebase/auth",y_="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NR(e){rs(new sr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=i.options;te(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:l,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yx(e)},f=new uN(i,r,o,u);return mN(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),rs(new sr("auth-internal",t=>{const n=Au(t.getProvider("auth").getImmediate());return(i=>new kR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(__,y_,OR(e)),bi(__,y_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=5*60,AR=Xw("authIdTokenMaxAge")||RR;let w_=null;const MR=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>AR)return;const r=n==null?void 0:n.token;w_!==r&&(w_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function DR(e=tx()){const t=hp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=pN(e,{popupRedirectResolver:LR,persistence:[BN,IN,Px]}),i=Xw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=MR(o.toString());TN(n,l,()=>l(n.currentUser)),bN(n,d=>l(d))}}const r=qw("auth");return r&&gN(n,`http://${r}`),n}function zR(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}cN({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const o=Xt("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",zR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NR("Browser");var jR="firebase",UR="10.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(jR,UR,"app");const BR={apiKey:"AIzaSyCN9AYYf9YRLaBrhX5F4CCePdyefP1CGxA",authDomain:"nha-tot-65133.firebaseapp.com",projectId:"nha-tot-65133",storageBucket:"nha-tot-65133.appspot.com",messagingSenderId:"832633517956",appId:"1:832633517956:web:edccb1b540115163114fd1"},zu=ex(BR);function Ax(){const e=np(),t=$n(),n=async()=>{try{const i=new Tn,r=DR(zu),o=await VN(r,i),d=await(await fetch("/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.user.displayName,email:o.user.email,photo:o.user.photoURL})})).json();e(Ww(d)),t("/")}catch(i){console.log("could not sign in with google",i)}};return _.jsx("button",{onClick:n,type:"button",className:"w-full rounded-lg bg-rose-500 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-rose-600 focus:outline-none focus:ring-4 focus:ring-rose-300",children:"Tiếp tục với Google"})}function FR(){const[e,t]=k.useState({}),{loading:n,error:i}=fr(u=>u.user),r=$n(),o=np(),l=u=>{t({...e,[u.target.id]:u.target.value})},d=async u=>{u.preventDefault();try{o(ik());const p=await(await fetch("/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();if(console.log(p),p.success===!1){o(Gv(p.message));return}o(Ww(p)),r("/")}catch(f){o(Gv(f.message))}};return _.jsx("div",{className:"mx-auto flex flex-col items-center justify-center px-6 py-8 md:h-screen lg:py-0",children:_.jsx("div",{className:"w-full rounded-lg bg-emerald-50 shadow sm:max-w-md md:mt-0 xl:p-0",children:_.jsxs("div",{className:"space-y-4 p-6 sm:p-8 md:space-y-6",children:[_.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-emerald-700 md:text-2xl",children:"Đăng nhập"}),_.jsxs("form",{onSubmit:d,className:"space-y-4 md:space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"mb-2 block text-sm font-medium text-emerald-900",children:"Email"}),_.jsx("input",{type:"email",placeholder:"abc@example.com",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-emerald-900 focus:border-emerald-600 focus:ring-emerald-600 sm:text-sm",id:"email",onChange:l,required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-2 block text-sm font-medium text-emerald-900",children:"Mật khẩu"}),_.jsx("input",{type:"password",placeholder:"Password",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-emerald-900 focus:border-emerald-600 focus:ring-emerald-600 sm:text-sm",id:"password",onChange:l,required:!0,autoComplete:"on"})]}),_.jsx("button",{disabled:n,className:"w-full rounded-lg bg-emerald-500 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-emerald-600 focus:outline-none focus:ring-4 focus:ring-emerald-300",children:n?"Đang đăng nhập...":"Đăng nhập"}),_.jsx(Ax,{}),_.jsxs("p",{className:"text-sm font-medium text-emerald-700",children:["Bạn chưa có tài khoản?"," ",_.jsx(We,{to:"/sign-up",className:"text-emerald-900 font-medium hover:underline","aria-label":"Sign Up",children:"Đăng ký ngay"})]})]}),i&&_.jsx("p",{className:"text-sm font-bold text-red-500",children:i})]})})})}function $R(){const[e,t]=k.useState({}),[n,i]=k.useState(null),[r,o]=k.useState(!1),l=$n(),d=f=>{t({...e,[f.target.id]:f.target.value})},u=async f=>{f.preventDefault();try{o(!0);const g=await(await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();if(console.log(g),g.success===!1){o(!1),i(g.message);return}o(!1),i(null),l("/sign-in")}catch(p){o(!1),i(p.message)}};return _.jsx("div",{className:"mx-auto flex flex-col items-center justify-center px-6 py-8 md:h-screen lg:py-0",children:_.jsx("div",{className:"w-full rounded-lg bg-emerald-50 shadow sm:max-w-md md:mt-0 xl:p-0",children:_.jsxs("div",{className:"space-y-4 p-6 sm:p-8 md:space-y-6",children:[_.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-emerald-700 md:text-2xl",children:"Tạo tài khoản"}),_.jsxs("form",{onSubmit:u,className:"space-y-4 md:space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"mb-2 block text-sm font-medium text-emerald-900",children:"Họ và tên"}),_.jsx("input",{type:"text",placeholder:"Nguyễn Văn A",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-emerald-900 focus:border-emerald-600 focus:ring-emerald-600 sm:text-sm",id:"username",onChange:d,required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-2 block text-sm font-medium text-emerald-900",children:"Email"}),_.jsx("input",{type:"email",placeholder:"abc@example.com",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-emerald-900 focus:border-emerald-600 focus:ring-emerald-600 sm:text-sm",id:"email",onChange:d,required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-2 block text-sm font-medium text-emerald-900",children:"Mật khẩu"}),_.jsx("input",{type:"password",placeholder:"Password",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-emerald-900 focus:border-emerald-600 focus:ring-emerald-600 sm:text-sm",id:"password",onChange:d,required:!0,autoComplete:"on"})]}),_.jsx("button",{disabled:r,className:"w-full rounded-lg bg-emerald-500 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-emerald-600 focus:outline-none focus:ring-4 focus:ring-emerald-300",children:r?"Đang tạo tài khoản...":"Tạo tài khoản"}),_.jsx(Ax,{}),_.jsxs("p",{className:"text-sm font-medium text-emerald-700",children:["Bạn đã có tài khoản?"," ",_.jsx(We,{to:"/sign-in",className:"text-emerald-900 font-medium hover:underline","aria-label":"Sign In",children:"Đăng nhập ngay"})]})]}),n&&_.jsx("p",{className:"mt-5 text-rose-500",children:n})]})})})}function HR(){return _.jsx("div",{className:"bg-emerald-50 p-6",children:_.jsxs("div",{className:"container mx-auto rounded-lg bg-white p-6 shadow-md",children:[_.jsx("h1",{className:"mb-6 text-center text-3xl font-bold text-emerald-700",children:"Chào mừng đến với Trang Web Cho Thuê và Bán Nhà Đất của Chúng Tôi!"}),_.jsxs("p",{className:"mb-4 text-lg text-emerald-700",children:["Chào mừng bạn đến với ",_.jsx("strong",{children:"NhaTot"}),", nơi mang đến giải pháp toàn diện cho nhu cầu tìm kiếm và đăng tin cho thuê hoặc bán nhà đất, phòng trọ, và căn hộ. Chúng tôi hiểu rằng việc tìm kiếm một ngôi nhà mới hoặc một người thuê nhà đáng tin cậy có thể là một quá trình đầy thách thức. Vì vậy, chúng tôi đã xây dựng một nền tảng trực tuyến tiện lợi và hiệu quả để kết nối người mua, người bán, người thuê và chủ nhà một cách dễ dàng."]}),_.jsx("h2",{className:"mb-4 text-2xl font-semibold text-emerald-700",children:"Tại Sao Chọn Chúng Tôi?"}),_.jsxs("ul",{className:"mb-4 list-inside list-disc text-emerald-700",children:[_.jsxs("li",{children:[_.jsx("strong",{children:"Giao Diện Thân Thiện:"})," Giao diện trực quan và dễ sử dụng của chúng tôi giúp bạn dễ dàng đăng tin hoặc tìm kiếm bất động sản chỉ với vài bước đơn giản."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Đa Dạng Lựa Chọn:"})," Hàng nghìn tin đăng từ các căn hộ chung cư, nhà ở, đến các phòng trọ với nhiều mức giá và vị trí khác nhau, phù hợp với nhu cầu đa dạng của bạn."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Tìm Kiếm Thông Minh:"})," Công cụ tìm kiếm mạnh mẽ cho phép bạn lọc kết quả theo vị trí, giá cả, diện tích, và nhiều tiêu chí khác, giúp bạn nhanh chóng tìm thấy bất động sản mong muốn."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"An Toàn và Đáng Tin Cậy:"})," Chúng tôi cam kết bảo mật thông tin cá nhân của bạn và đảm bảo mọi tin đăng đều được kiểm duyệt kỹ lưỡng để tránh các tin giả và lừa đảo."]})]}),_.jsx("h2",{className:"mb-4 text-2xl font-semibold text-emerald-700",children:"Cách Thức Hoạt Động"}),_.jsxs("ol",{className:"mb-4 list-inside list-decimal text-emerald-700",children:[_.jsxs("li",{children:[_.jsx("strong",{children:"Đăng Ký Tài Khoản:"})," Đăng ký một tài khoản miễn phí để bắt đầu đăng tin hoặc tìm kiếm bất động sản."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Đăng Tin Dễ Dàng:"})," Đối với người bán hoặc cho thuê, chỉ cần vài bước đơn giản để đăng tin với đầy đủ thông tin và hình ảnh minh họa."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Tìm Kiếm và Liên Hệ:"})," Đối với người mua hoặc thuê, sử dụng công cụ tìm kiếm để duyệt qua các tin đăng và liên hệ trực tiếp với chủ nhà hoặc người bán thông qua thông tin liên lạc được cung cấp."]})]}),_.jsx("h2",{className:"mb-4 text-2xl font-semibold text-emerald-700",children:"Dịch Vụ Hỗ Trợ"}),_.jsx("p",{className:"mb-4 text-lg text-emerald-700",children:"Đội ngũ hỗ trợ khách hàng của chúng tôi luôn sẵn sàng giúp đỡ bạn 24/7 qua email, điện thoại, và chat trực tuyến. Chúng tôi ở đây để giải đáp mọi thắc mắc và giúp bạn giải quyết mọi vấn đề phát sinh trong quá trình sử dụng trang web."}),_.jsx("h2",{className:"mb-4 text-2xl font-semibold text-emerald-700",children:"Câu Chuyện Thành Công"}),_.jsx("p",{className:"mb-4 text-lg text-emerald-700",children:"Hàng nghìn khách hàng đã tìm thấy ngôi nhà mơ ước hoặc những người thuê nhà hoàn hảo thông qua nền tảng của chúng tôi. Hãy tham gia cùng cộng đồng của chúng tôi và trải nghiệm dịch vụ tuyệt vời mà chúng tôi mang lại."}),_.jsx("div",{className:"mt-6 text-center",children:_.jsx(We,{to:"/","aria-label":"Home",children:_.jsx("button",{className:"rounded-lg bg-emerald-500 px-4 py-2 text-white transition-all hover:scale-110 hover:bg-emerald-600",children:"Khám Phá Ngay"})})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="firebasestorage.googleapis.com",Dx="storageBucket",WR=2*60*1e3,VR=10*60*1e3,GR=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe extends Wn{constructor(t,n,i=0){super(vd(t),`Firebase Storage: ${n} (${vd(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return vd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function vd(e){return"storage/"+e}function Ep(){const e="An unknown error occurred, please check the error payload for server response.";return new Oe(Te.UNKNOWN,e)}function ZR(e){return new Oe(Te.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function qR(e){return new Oe(Te.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KR(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Oe(Te.UNAUTHENTICATED,e)}function XR(){return new Oe(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JR(e){return new Oe(Te.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function zx(){return new Oe(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jx(){return new Oe(Te.CANCELED,"User canceled the upload/download.")}function YR(e){return new Oe(Te.INVALID_URL,"Invalid URL '"+e+"'.")}function QR(e){return new Oe(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function eA(){return new Oe(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Dx+"' property when initializing the app?")}function Ux(){return new Oe(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tA(){return new Oe(Te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function nA(){return new Oe(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iA(e){return new Oe(Te.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mf(e){return new Oe(Te.INVALID_ARGUMENT,e)}function Bx(){return new Oe(Te.APP_DELETED,"The Firebase app was deleted.")}function rA(e){return new Oe(Te.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function no(e,t){return new Oe(Te.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function js(e){throw new Oe(Te.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=xt.makeFromUrl(t,n)}catch{return new xt(t,"")}if(i.path==="")return i;throw QR(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+r+l,"i"),u={bucket:1,path:3};function f(P){P.path_=decodeURIComponent(P.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${r}/o${v}`,"i"),E={bucket:1,path:3},b=n===Mx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",x=new RegExp(`^https?://${b}/${r}/${C}`,"i"),T=[{regex:d,indices:u,postModify:o},{regex:w,indices:E,postModify:f},{regex:x,indices:{bucket:1,path:2},postModify:f}];for(let P=0;P<T.length;P++){const N=T[P],A=N.regex.exec(t);if(A){const M=A[N.indices.bucket];let B=A[N.indices.path];B||(B=""),i=new xt(M,B),N.postModify(i);break}}if(i==null)throw YR(t);return i}}class sA{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(e,t,n){let i=1,r=null,o=null,l=!1,d=0;function u(){return d===2}let f=!1;function p(...C){f||(f=!0,t.apply(null,C))}function g(C){r=setTimeout(()=>{r=null,e(w,u())},C)}function v(){o&&clearTimeout(o)}function w(C,...x){if(f){v();return}if(C){v(),p.call(null,C,...x);return}if(u()||l){v(),p.call(null,C,...x);return}i<64&&(i*=2);let T;d===1?(d=2,T=0):T=(i+Math.random())*1e3,g(T)}let E=!1;function b(C){E||(E=!0,v(),!f&&(r!==null?(C||(d=2),clearTimeout(r),g(0)):C||(d=1)))}return g(0),o=setTimeout(()=>{l=!0,b(!0)},n),b}function aA(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(e){return e!==void 0}function uA(e){return typeof e=="function"}function cA(e){return typeof e=="object"&&!Array.isArray(e)}function ju(e){return typeof e=="string"||e instanceof String}function x_(e){return Pp()&&e instanceof Blob}function Pp(){return typeof Blob<"u"}function S_(e,t,n,i){if(i<t)throw Mf(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw Mf(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function Fx(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ji;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ji||(Ji={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,n,i,r,o,l,d,u,f,p,g,v=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,E)=>{this.resolve_=w,this.reject_=E,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Na(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=d=>{const u=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const d=o.getErrorCode()===Ji.NO_ERROR,u=o.getStatus();if(!d||$x(u,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===Ji.ABORT;i(!1,new Na(!1,null,p));return}const f=this.successCodes_.indexOf(u)!==-1;i(!0,new Na(f,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(d,d.getResponse());lA(u)?o(u):o()}catch(u){l(u)}else if(d!==null){const u=Ep();u.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,u)):l(u)}else if(r.canceled){const u=this.appDelete_?Bx():jx();l(u)}else{const u=zx();l(u)}};this.canceled_?n(!1,new Na(!1,null,!0)):this.backoffId_=oA(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&aA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Na{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function fA(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function hA(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function pA(e,t){t&&(e["X-Firebase-GMPID"]=t)}function mA(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function gA(e,t,n,i,r,o,l=!0){const d=Fx(e.urlParams),u=e.url+d,f=Object.assign({},e.headers);return pA(f,t),fA(f,n),hA(f,o),mA(f,i),new dA(u,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _A(...e){const t=vA();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(Pp())return new Blob(e);throw new Oe(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yA(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(e){if(typeof atob>"u")throw iA("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _d{constructor(t,n){this.data=t,this.contentType=n||null}}function xA(e,t){switch(e){case an.RAW:return new _d(Hx(t));case an.BASE64:case an.BASE64URL:return new _d(Wx(e,t));case an.DATA_URL:return new _d(bA(t),TA(t))}throw Ep()}function Hx(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=i,l=e.charCodeAt(++n);i=65536|(o&1023)<<10|l&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function SA(e){let t;try{t=decodeURIComponent(e)}catch{throw no(an.DATA_URL,"Malformed data URL.")}return Hx(t)}function Wx(e,t){switch(e){case an.BASE64:{const r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw no(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case an.BASE64URL:{const r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw no(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wA(t)}catch(r){throw r.message.includes("polyfill")?r:no(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class Vx{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw no(an.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=EA(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function bA(e){const t=new Vx(e);return t.base64?Wx(an.BASE64,t.rest):SA(t.rest)}function TA(e){return new Vx(e).contentType}function EA(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t,n){let i=0,r="";x_(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,n){if(x_(this.data_)){const i=this.data_,r=yA(i,t,n);return r===null?null:new ri(r)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new ri(i,!0)}}static getBlob(...t){if(Pp()){const n=t.map(i=>i instanceof ri?i.data_:i);return new ri(_A.apply(null,n))}else{const n=t.map(l=>ju(l)?xA(an.RAW,l).data:l.data_);let i=0;n.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(l=>{for(let d=0;d<l.length;d++)r[o++]=l[d]}),new ri(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(e){let t;try{t=JSON.parse(e)}catch{return null}return cA(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function CA(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function Zx(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(e,t){return t}class ot{constructor(t,n,i,r){this.server=t,this.local=n||t,this.writable=!!i,this.xform=r||IA}}let Ra=null;function LA(e){return!ju(e)||e.length<2?e:Zx(e)}function qx(){if(Ra)return Ra;const e=[];e.push(new ot("bucket")),e.push(new ot("generation")),e.push(new ot("metageneration")),e.push(new ot("name","fullPath",!0));function t(o,l){return LA(l)}const n=new ot("name");n.xform=t,e.push(n);function i(o,l){return l!==void 0?Number(l):l}const r=new ot("size");return r.xform=i,e.push(r),e.push(new ot("timeCreated")),e.push(new ot("updated")),e.push(new ot("md5Hash",null,!0)),e.push(new ot("cacheControl",null,!0)),e.push(new ot("contentDisposition",null,!0)),e.push(new ot("contentEncoding",null,!0)),e.push(new ot("contentLanguage",null,!0)),e.push(new ot("contentType",null,!0)),e.push(new ot("metadata","customMetadata",!0)),Ra=e,Ra}function kA(e,t){function n(){const i=e.bucket,r=e.fullPath,o=new xt(i,r);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function OA(e,t,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const l=n[o];i[l.local]=l.xform(i,t[l.server])}return kA(i,e),i}function Kx(e,t,n){const i=Gx(t);return i===null?null:OA(e,i,n)}function NA(e,t,n,i){const r=Gx(t);if(r===null||!ju(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const p=e.bucket,g=e.fullPath,v="/b/"+l(p)+"/o/"+l(g),w=Fo(v,n,i),E=Fx({alt:"media",token:f});return w+E})[0]}function Xx(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class ps{constructor(t,n,i,r){this.url=t,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(e){if(!e)throw Ep()}function Cp(e,t){function n(i,r){const o=Kx(e,r,t);return Nn(o!==null),o}return n}function RA(e,t){function n(i,r){const o=Kx(e,r,t);return Nn(o!==null),NA(o,r,e.host,e._protocol)}return n}function $o(e){function t(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=XR():r=KR():n.getStatus()===402?r=qR(e.bucket):n.getStatus()===403?r=JR(e.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return t}function Jx(e){const t=$o(e);function n(i,r){let o=t(i,r);return i.getStatus()===404&&(o=ZR(e.path)),o.serverResponse=r.serverResponse,o}return n}function AA(e,t,n){const i=t.fullServerUrl(),r=Fo(i,e.host,e._protocol),o="GET",l=e.maxOperationRetryTime,d=new ps(r,o,Cp(e,n),l);return d.errorHandler=Jx(t),d}function MA(e,t,n){const i=t.fullServerUrl(),r=Fo(i,e.host,e._protocol),o="GET",l=e.maxOperationRetryTime,d=new ps(r,o,RA(e,n),l);return d.errorHandler=Jx(t),d}function DA(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Yx(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=DA(null,t)),i}function zA(e,t,n,i,r){const o=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let T="";for(let P=0;P<2;P++)T=T+Math.random().toString().slice(2);return T}const u=d();l["Content-Type"]="multipart/related; boundary="+u;const f=Yx(t,i,r),p=Xx(f,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+u+"--",w=ri.getBlob(g,i,v);if(w===null)throw Ux();const E={name:f.fullPath},b=Fo(o,e.host,e._protocol),C="POST",x=e.maxUploadRetryTime,y=new ps(b,C,Cp(e,n),x);return y.urlParams=E,y.headers=l,y.body=w.uploadData(),y.errorHandler=$o(t),y}class Wl{constructor(t,n,i,r){this.current=t,this.total=n,this.finalized=!!i,this.metadata=r||null}}function Ip(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Nn(!1)}return Nn(!!n&&(t||["active"]).indexOf(n)!==-1),n}function jA(e,t,n,i,r){const o=t.bucketOnlyServerUrl(),l=Yx(t,i,r),d={name:l.fullPath},u=Fo(o,e.host,e._protocol),f="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},g=Xx(l,n),v=e.maxUploadRetryTime;function w(b){Ip(b);let C;try{C=b.getResponseHeader("X-Goog-Upload-URL")}catch{Nn(!1)}return Nn(ju(C)),C}const E=new ps(u,f,w,v);return E.urlParams=d,E.headers=p,E.body=g,E.errorHandler=$o(t),E}function UA(e,t,n,i){const r={"X-Goog-Upload-Command":"query"};function o(f){const p=Ip(f,["active","final"]);let g=null;try{g=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Nn(!1)}g||Nn(!1);const v=Number(g);return Nn(!isNaN(v)),new Wl(v,i.size(),p==="final")}const l="POST",d=e.maxUploadRetryTime,u=new ps(n,l,o,d);return u.headers=r,u.errorHandler=$o(t),u}const b_=256*1024;function BA(e,t,n,i,r,o,l,d){const u=new Wl(0,0);if(l?(u.current=l.current,u.total=l.total):(u.current=0,u.total=i.size()),i.size()!==u.total)throw tA();const f=u.total-u.current;let p=f;r>0&&(p=Math.min(p,r));const g=u.current,v=g+p;let w="";p===0?w="finalize":f===p?w="upload, finalize":w="upload";const E={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${u.current}`},b=i.slice(g,v);if(b===null)throw Ux();function C(P,N){const A=Ip(P,["active","final"]),M=u.current+p,B=i.size();let z;return A==="final"?z=Cp(t,o)(P,N):z=null,new Wl(M,B,A==="final",z)}const x="POST",y=t.maxUploadRetryTime,T=new ps(n,x,C,y);return T.headers=E,T.body=b.uploadData(),T.progressCallback=d||null,T.errorHandler=$o(e),T}const ft={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yd(e){switch(e){case"running":case"pausing":case"canceling":return ft.RUNNING;case"paused":return ft.PAUSED;case"success":return ft.SUCCESS;case"canceled":return ft.CANCELED;case"error":return ft.ERROR;default:return ft.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t,n,i){if(uA(t)||n!=null||i!=null)this.next=t,this.error=n??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class $A{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ji.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ji.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ji.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,r){if(this.sent_)throw js("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw js("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw js("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw js("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw js("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class HA extends $A{initXhr(){this.xhr_.responseType="text"}}function Tr(){return new HA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=qx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Te.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if($x(r.status,[]))if(o)r=zx();else{this.sleepTime=Math.max(this.sleepTime*2,GR),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Te.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return n=>this._updateProgress(t+n)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":t(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,n)=>{const i=jA(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Tr,t,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((n,i)=>{const r=UA(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,Tr,n,i);this._request=o,o.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=b_*this._chunkMultiplier,n=new Wl(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let l;try{l=BA(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const d=this._ref.storage._makeRequest(l,Tr,r,o,!1);this._request=d,d.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){b_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,n)=>{const i=AA(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Tr,t,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,n)=>{const i=zA(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Tr,t,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=jx(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=yd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,n,i,r){const o=new FA(n||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,n){return this._promise.then(t,n)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(yd(this._state)){case ft.SUCCESS:br(this._resolve.bind(null,this.snapshot))();break;case ft.CANCELED:case ft.ERROR:const n=this._reject;br(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(yd(this._state)){case ft.RUNNING:case ft.PAUSED:t.next&&br(t.next.bind(t,this.snapshot))();break;case ft.SUCCESS:t.complete&&br(t.complete.bind(t))();break;case ft.CANCELED:case ft.ERROR:t.error&&br(t.error.bind(t,this._error))();break;default:t.error&&br(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,n){this._service=t,n instanceof xt?this._location=n:this._location=xt.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new lr(t,n)}get root(){const t=new xt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zx(this._location.path)}get storage(){return this._service}get parent(){const t=PA(this._location.path);if(t===null)return null;const n=new xt(this._location.bucket,t);return new lr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw rA(t)}}function VA(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new WA(e,new ri(t),n)}function GA(e){e._throwIfRoot("getDownloadURL");const t=MA(e.storage,e._location,qx());return e.storage.makeRequestWithTokens(t,Tr).then(n=>{if(n===null)throw nA();return n})}function ZA(e,t){const n=CA(e._location.path,t),i=new xt(e._location.bucket,n);return new lr(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(e){return/^[A-Za-z]+:\/\//.test(e)}function KA(e,t){return new lr(e,t)}function Qx(e,t){if(e instanceof Lp){const n=e;if(n._bucket==null)throw eA();const i=new lr(n,n._bucket);return t!=null?Qx(i,t):i}else return t!==void 0?ZA(e,t):e}function XA(e,t){if(t&&qA(t)){if(e instanceof Lp)return KA(e,t);throw Mf("To use ref(service, url), the first argument must be a Storage instance.")}else return Qx(e,t)}function T_(e,t){const n=t==null?void 0:t[Dx];return n==null?null:xt.makeFromBucketSpec(n,e)}function JA(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:r}=i;r&&(e._overrideAuthToken=typeof r=="string"?r:_k(r,e.app.options.projectId))}class Lp{constructor(t,n,i,r,o){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Mx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WR,this._maxUploadRetryTime=VR,this._requests=new Set,r!=null?this._bucket=xt.makeFromBucketSpec(r,this._host):this._bucket=T_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=xt.makeFromBucketSpec(this._url,t):this._bucket=T_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){S_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){S_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new lr(this,t)}_makeRequest(t,n,i,r,o=!0){if(this._deleted)return new sA(Bx());{const l=gA(t,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const E_="@firebase/storage",P_="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="storage";function kp(e,t,n){return e=pn(e),VA(e,t,n)}function Op(e){return e=pn(e),GA(e)}function Np(e,t){return e=pn(e),XA(e,t)}function Rp(e=tx(),t){e=pn(e);const i=hp(e,eS).getImmediate({identifier:t}),r=gk("storage");return r&&YA(i,...r),i}function YA(e,t,n,i={}){JA(e,t,n,i)}function QA(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new Lp(n,i,r,t,fs)}function eM(){rs(new sr(eS,QA,"PUBLIC").setMultipleInstances(!0)),bi(E_,P_,""),bi(E_,P_,"esm2017")}eM();function tM(){const e=k.useRef(null),{currentUser:t,loading:n,error:i}=fr($=>$.user),[r,o]=k.useState(void 0),[l,d]=k.useState(0),[u,f]=k.useState(!1),[p,g]=k.useState({}),[v,w]=k.useState(!1),[E,b]=k.useState(!1),[C,x]=k.useState([]),y=np();k.useEffect(()=>{r&&T(r)},[r]);const T=$=>{const j=Rp(zu),G=new Date().getTime()+$.name,Q=Np(j,G),ce=kp(Q,$);ce.on("state_changed",pe=>{const ye=pe.bytesTransferred/pe.totalBytes*100;d(Math.round(ye))},pe=>{console.log(pe.message),f(!0)},()=>{Op(ce.snapshot.ref).then(pe=>g({...p,avatar:pe}))})},P=$=>{g({...p,[$.target.id]:$.target.value})},N=async $=>{$.preventDefault();try{y(sk());const G=await(await fetch(`/api/user/update/${t._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).json();if(G.success===!1){y(Zv(G.message));return}y(rk(G)),w(!0)}catch(j){y(Zv(j.message))}},A=async()=>{try{y(ok());const j=await(await fetch(`/api/user/delete/${t._id}`,{method:"DELETE"})).json();if(j.success===!1){y(ka(j.message));return}y(qv(j))}catch($){y(ka($.message))}},M=async()=>{try{y(ak());const j=await(await fetch("/api/auth/signout")).json();if(j.success===!1){y(ka(j.message));return}y(qv(j))}catch($){y(ka($.message))}},B=async()=>{try{b(!1);const j=await(await fetch(`/api/user/listings/${t._id}`)).json();if(j.success===!1){b(!0);return}x(j)}catch{b(!0)}},z=async $=>{try{const G=await(await fetch(`/api/listing/delete/${$}`,{method:"DELETE"})).json();if(G.success===!1){console.log(G.message);return}x(Q=>Q.filter(ce=>ce._id!==$))}catch(j){console.log(j.message)}};return _.jsxs("div",{className:"mx-auto max-w-lg p-3",children:[_.jsx("h1",{className:"my-7 text-center text-3xl font-semibold text-emerald-700",children:"Thông tin cá nhân"}),_.jsxs("form",{onSubmit:N,className:"space-y-4 md:space-y-6",children:[_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsx("input",{onChange:$=>o($.target.files[0]),type:"file",ref:e,hidden:!0,accept:"image/*"}),_.jsx("img",{onClick:()=>e.current.click(),src:p.avatar||t.avatar,alt:"profile",className:"mt-2 h-48 w-48 cursor-pointer self-center rounded-full object-cover"}),_.jsx("p",{className:"self-center text-sm",children:u?_.jsx("span",{className:"text-rose-700 font-semibold",children:"Lỗi khi tải ảnh lên (Ảnh phải nhỏ hơn 2MB và phải là ảnh)"}):l>0&&l<100?_.jsx("span",{className:"text-emerald-600",children:`Đang tải ${l}%`}):l===100?_.jsx("span",{className:"text-emerald-700 font-semibold",children:"Tải ảnh lên thành công"}):""})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-2 block text-sm font-medium text-emerald-900",children:"Email"}),_.jsx("input",{type:"email",placeholder:"abc@example.com",defaultValue:t.email,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-emerald-900 focus:border-emerald-600 focus:ring-emerald-600 sm:text-sm",id:"email",onChange:P})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-2 block text-sm font-medium text-emerald-900",children:"Họ và tên"}),_.jsx("input",{type:"text",placeholder:"Username",defaultValue:t.username,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-emerald-900 focus:border-emerald-600 focus:ring-emerald-600 sm:text-sm",id:"username",onChange:P})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-2 block text-sm font-medium text-emerald-900",children:"Mật khẩu"}),_.jsx("input",{type:"password",placeholder:"Password",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-emerald-900 focus:border-emerald-600 focus:ring-emerald-600 sm:text-sm",id:"password",onChange:P,autoComplete:"on"})]}),_.jsx("button",{disabled:n,className:"w-full rounded-lg bg-emerald-500 px-5 py-2 text-center text-sm font-medium text-white hover:bg-emerald-600 focus:outline-none focus:ring-4 focus:ring-emerald-300",children:n?"Loading...":"Cập nhật thông tin"}),_.jsx(We,{to:"/create-listing","aria-label":"Create listing",children:_.jsx("button",{className:"mt-5 w-full rounded-lg bg-teal-500 px-5 py-2 text-center text-sm font-medium text-white hover:bg-teal-600 focus:outline-none focus:ring-4 focus:ring-emerald-300",children:"Thêm bài đăng"})})]}),_.jsxs("div",{className:"mt-5 flex justify-between",children:[_.jsx("button",{onClick:A,className:"transition-color cursor-pointer rounded-lg bg-rose-500 px-5 py-2 text-sm font-medium text-white hover:bg-rose-600",children:"Xóa tài khoản"}),_.jsx("button",{onClick:M,className:"transition-color cursor-pointer rounded-lg bg-yellow-500 px-5 py-2 text-sm font-medium text-white hover:bg-yellow-600",children:"Đăng xuất"})]}),_.jsx("p",{className:"my-5 font-semibold text-rose-700",children:i||""}),_.jsx("p",{className:"my-5 font-semibold text-emerald-700",children:v?"Cập nhật thông tin thành công!":""}),_.jsx("button",{onClick:B,className:"transition-color w-full cursor-pointer rounded-lg bg-cyan-500 px-5 py-2 text-sm font-medium text-white hover:bg-cyan-600",children:"Xem bài đăng của bạn"}),_.jsx("p",{className:"mt-5 text-rose-700",children:E?"Error showing listings":""}),C&&C.length>0&&_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsx("h1",{className:"mt-7 text-center text-2xl font-semibold",children:"Bài đăng của bạn"}),C.map($=>_.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border p-3 focus:outline-none focus:ring-4 focus:ring-emerald-300",children:[_.jsx(We,{to:`/listing/${$.slug}`,"aria-label":`${$.name}`,children:_.jsx("img",{src:$.imageUrls[0],alt:"listing cover",className:"h-24 w-24 rounded-lg border border-emerald-200 object-contain hover:opacity-75"})}),_.jsx(We,{className:"flex-1 truncate font-semibold text-emerald-700 hover:underline",to:`/listing/${$.slug}`,"aria-label":`${$.name}`,children:_.jsx("p",{children:$.name})}),_.jsxs("div",{className:"item-center flex flex-col",children:[_.jsx("button",{onClick:()=>z($.slug),className:"transition-color w-full cursor-pointer rounded-lg bg-rose-500 px-5 py-2 text-sm font-medium text-white hover:opacity-75",children:"Xóa"}),_.jsx(We,{to:`/update-listing/${$.slug}`,"aria-label":`${$.name}`,children:_.jsx("button",{className:"transition-color mt-4 w-full cursor-pointer rounded-lg bg-yellow-500 px-5 py-2 text-sm font-medium text-white hover:opacity-75",children:"Cập nhật"})})]})]},$.slug))]})]})}function nM(e){return Hn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}function iM(e){return Hn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"}}]})(e)}function rM(){const[e,t]=k.useState(""),[n,i]=k.useState([]),[r,o]=k.useState(-1),l=f=>{t(f.target.value)},d=()=>{t(""),i([]),o(-1)},u=f=>{r<n.length?f.key==="ArrowUp"&&r>0?o(p=>p-1):f.key==="ArrowDown"&&r<n.length-1?o(p=>p+1):f.key==="Enter"&&r>=0&&window.open(n[r].show.url,"_blank"):o(-1)};return k.useEffect(()=>{e!==""?fetch("/api/listing/get").then(f=>f.json()).then(f=>{const p=f.filter(g=>g.name.toLowerCase().includes(e.toLowerCase()));console.log(f),i(p)}):i([])},[e]),_.jsxs("section",{className:"hidden py-2 px-5 h-15 md:flex flex-col items-center relative",children:[_.jsxs("div",{className:"bg-white rounded-xl w-96 overflow-hidden flex items-center justify-between shadow-inner",children:[_.jsx("input",{type:"text",className:"flex-1 px-5 py-2 bg-transparent focus:outline-none",placeholder:"Tìm kiếm...",autoComplete:"off",onChange:l,value:e,onKeyDown:u}),_.jsx("div",{className:"px-5 h-full flex items-center cursor-pointer text-emerald-900",children:e===""?_.jsx(iM,{}):_.jsx(nM,{onClick:d})})]}),_.jsx("div",{className:"bg-white w-96 mt-2 absolute top-11 rounded-xl text-emerald-900 shadow-2xl",children:n.slice(0,10).map((f,p)=>_.jsx(_.Fragment,{children:_.jsx(We,{to:`/listing/${f.slug}`,"aria-label":`${f.name}`,className:r===p?"hover:bg-emerald-200 bg-emerald-200 px-5 py-2.5 cursor-pointer block":"hover:bg-emerald-200 px-5 py-2.5 cursor-pointer block",target:"_blank",children:f.name},p)}))})]})}function sM(){const{currentUser:e}=fr(i=>i.user),[t,n]=k.useState("");return $n(),k.useEffect(()=>{const r=new URLSearchParams(location.search).get("searchTerm");r&&n(r)},[location.search]),_.jsx("header",{className:"sticky top-0 z-50 shadow-md bg-gradient-to-r from-emerald-100 to-transparent hover:from-transparent hover:to-emerald-100",children:_.jsxs("div",{className:"flex justify-between items-center max-w-6xl mx-auto p-3",children:[_.jsx(We,{to:"/","aria-label":"Home",children:_.jsxs("h1",{className:"font-bold text-sm sm:text-xl flex flex-wrap transition-transform hover:scale-110",children:[_.jsx("span",{className:"text-emerald-700 hover:opacity-75",children:"Nhà"}),_.jsx("span",{className:"text-emerald-900 hover:opacity-75",children:"Tốt"})]})}),_.jsx(rM,{}),_.jsxs("ul",{className:"flex gap-12 text-emerald-800",children:[_.jsx("li",{children:_.jsx(We,{to:"/","aria-label":"Home",children:_.jsx("span",{className:"hidden font-semibold transition-transform hover:scale-110 sm:block",children:"Trang chủ"})})}),_.jsx("li",{children:_.jsx(We,{to:"/about","aria-label":"About",children:_.jsx("span",{className:"hidden font-semibold transition-transform hover:scale-110 sm:block",children:"Về chúng tôi"})})}),_.jsx("li",{children:_.jsx(We,{to:"/profile","aria-label":"Profile",children:e?_.jsx("img",{className:"h-7 w-7 rounded-full border-2 border-emerald-800 object-cover transition-transform hover:scale-110",src:e.avatar,alt:"profile"}):_.jsx("span",{className:"text-emerald-800 font-bold transition-transform hover:scale-110",children:"Đăng nhập"})})})]})]})})}function oM(){const{currentUser:e}=fr(t=>t.user);return e?_.jsx(IP,{}):_.jsx(CP,{to:"/sign-in"})}function aM(){var K,W,J;const{currentUser:e}=fr(H=>H.user),t=$n(),[n,i]=k.useState([]),[r,o]=k.useState([]),[l,d]=k.useState([]),[u,f]=k.useState(""),[p,g]=k.useState(""),[v,w]=k.useState(""),[E,b]=k.useState(""),[C,x]=k.useState([]),[y,T]=k.useState({imageUrls:[],name:"",description:"",address:"",type:"rent",bedrooms:1,bathrooms:1,regularPrice:50,discountPrice:0,offer:!1,parking:!1,furnished:!1}),[P,N]=k.useState(!1),[A,M]=k.useState(!1),[B,z]=k.useState(!1),[$,j]=k.useState(!1);y.address=`${u}, ${((K=l.find(H=>H.Id===p))==null?void 0:K.Name)||""}, ${((W=r.find(H=>H.Id===E))==null?void 0:W.Name)||""}, ${((J=n.find(H=>H.Id===v))==null?void 0:J.Name)||""}`;const G=()=>{if(C.length>0&&C.length+y.imageUrls.length<7){M(!0),N(!1);const H=[];for(let ne=0;ne<C.length;ne++)H.push(Q(C[ne]));Promise.all(H).then(ne=>{T({...y,imageUrls:y.imageUrls.concat(ne)}),N(!1),M(!1)}).catch(ne=>{console.log(ne.message),N("Lỗi khi tải ảnh lên (Ảnh phải nhỏ hơn 2MB)"),M(!1)})}else N("Bạn chỉ có thể tải lên tối đa 6 ảnh"),M(!1)},Q=async H=>new Promise((ne,ie)=>{const se=Rp(zu),ee=new Date().getTime()+H.name,Je=Np(se,ee),Ut=kp(Je,H);Ut.on("state_changed",mn=>{const ms=mn.bytesTransferred/mn.totalBytes*100;console.log(`Upload is ${ms}% done`)},mn=>{ie(mn)},()=>{Op(Ut.snapshot.ref).then(mn=>{ne(mn)})})}),ce=H=>{T({...y,imageUrls:y.imageUrls.filter((ne,ie)=>ie!==H)})},pe=H=>{(H.target.id==="sale"||H.target.id==="rent")&&T({...y,type:H.target.id}),(H.target.id==="parking"||H.target.id==="furnished"||H.target.id==="offer")&&T({...y,[H.target.id]:H.target.checked}),(H.target.type==="number"||H.target.type==="text"||H.target.type==="textarea")&&T({...y,[H.target.id]:H.target.value})},ye=async H=>{H.preventDefault();try{if(y.imageUrls.length<1)return z("Vui lòng tải lên ít nhất 1 ảnh");if(+y.regularPrice<+y.discountPrice)return z("Giá giảm phải nhỏ hơn giá gốc");j(!0),z(!1);const ie=await(await fetch("/api/listing/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...y,userRef:e._id})})).json();j(!1),ie.success===!1&&z(ie.message),t(`/listing/${ie.slug}`)}catch(ne){z(ne.message),j(!1)}};k.useEffect(()=>{fetch("https://raw.githubusercontent.com/kenzouno1/DiaGioiHanhChinhVN/master/data.json").then(H=>{if(!H.ok)throw new Error("Lỗi khi fetch dữ liệu thành phố!");return H.json()}).then(H=>{i(H)}).catch(H=>{console.error("Lỗi khi fetch dữ liệu thành phố",H)})},[]);const rt=H=>{const ne=H.target.value;if(w(ne),o([]),d([]),ne){const ie=n.find(se=>se.Id===ne);ie&&o(ie.Districts)}},U=H=>{const ne=H.target.value;if(b(ne),d([]),ne){const ie=n.find(se=>se.Id===v);if(ie){const se=ie.Districts.find(ee=>ee.Id===ne);se&&d(se.Wards)}}};return _.jsxs("main",{className:"mx-auto max-w-4xl p-3",children:[_.jsx("h1",{className:"my-7 text-center text-3xl font-bold text-emerald-700",children:"Tạo bài đăng"}),_.jsxs("form",{onSubmit:ye,className:"flex flex-col sm:flex-row gap-4",children:[_.jsxs("div",{className:"flex flex-col gap-4 flex-1 text-emerald-700",children:[_.jsx("input",{type:"text",placeholder:"Tên bài đăng",className:"border p-3 rounded-lg",id:"name",maxLength:"255",minLength:"6",required:!0,onChange:pe,value:y.name}),_.jsx("textarea",{type:"text",placeholder:"Mô tả",className:"border p-3 rounded-lg",id:"description",required:!0,onChange:pe,value:y.description}),_.jsxs("div",{className:"flex flex-col gap-y-6 text-emerald-700",children:[_.jsxs("select",{className:"rounded-lg border p-3",value:v,onChange:rt,required:!0,children:[_.jsx("option",{value:"",children:"Chọn tỉnh thành"}),n.map(H=>_.jsx("option",{value:H.Id,children:H.Name},H.Id))]}),_.jsxs("select",{className:"rounded-lg border p-3",value:E,onChange:U,"aria-label":".form-select-sm",children:[_.jsx("option",{value:"",children:"Chọn quận huyện"}),r.map(H=>_.jsx("option",{value:H.Id,children:H.Name},H.Id))]}),_.jsxs("select",{className:"rounded-lg border p-3",value:p,onChange:H=>g(H.target.value),"aria-label":".form-select-sm",children:[_.jsx("option",{value:"",children:"Chọn phường xã"}),l.map(H=>_.jsx("option",{value:H.Id,children:H.Name},H.Id))]}),_.jsx("input",{type:"text",placeholder:"Số nhà, tên đường",className:"rounded-lg border p-3",required:!0,onChange:H=>f(H.target.value),value:u})]}),_.jsxs("div",{className:"flex flex-wrap gap-6 text-emerald-700",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"sale",className:"w-5",onChange:pe,checked:y.type==="sale"}),_.jsx("span",{children:"Bán"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"rent",className:"w-5",onChange:pe,checked:y.type==="rent"}),_.jsx("span",{children:"Thuê"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"parking",className:"w-5",onChange:pe,checked:y.parking}),_.jsx("span",{children:"Bãi xe"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"furnished",className:"w-5",onChange:pe,checked:y.furnished}),_.jsx("span",{children:"Nội thất"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"offer",className:"w-5",onChange:pe,checked:y.offer}),_.jsx("span",{children:"Giảm giá"})]})]}),_.jsxs("div",{className:"flex flex-wrap gap-6 text-emerald-700",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",id:"bedrooms",min:"1",max:"10",required:!0,className:"rounded-lg border border-gray-300 px-5 py-2",onChange:pe,value:y.bedrooms}),_.jsx("p",{children:"Phòng ngủ"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",id:"bathrooms",min:"1",max:"10",required:!0,className:"rounded-lg border border-gray-300 px-5 py-2",onChange:pe,value:y.bathrooms}),_.jsx("p",{children:"Phòng tắm"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",id:"regularPrice",min:"1",max:"100000000000",required:!0,className:"rounded-lg border border-gray-300 px-5 py-2",onChange:pe,value:y.regularPrice}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsxs("p",{children:["Giá (",_.jsx("strong",{children:"VND"}),")"]}),y.type==="rent"&&_.jsx("span",{className:"text-xs",children:"/tháng"})]})]}),y.offer&&_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",id:"discountPrice",min:"0",max:"100000000000",required:!0,className:"rounded-lg border border-gray-300 px-5 py-2",onChange:pe,value:y.discountPrice}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsxs("p",{children:["Giảm giá (",_.jsx("strong",{children:"VND"}),")"]}),y.type==="rent"&&_.jsx("span",{className:"text-xs",children:"/tháng"})]})]})]})]}),_.jsxs("div",{className:"flex flex-1 flex-col gap-4 text-emerald-700",children:[_.jsxs("p",{className:"font-semibold",children:["Hình ảnh (tối đa 6):",_.jsx("span",{className:"ml-2 font-normal text-emerald-600",children:"Ảnh đầu tiên sẽ được làm thumbnail cho bài đăng"})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("input",{onChange:H=>x(H.target.files),className:"w-full rounded-lg border border-gray-300 px-5 py-2",type:"file",id:"images",accept:"image/*",multiple:!0}),_.jsx("button",{type:"button",disabled:A,onClick:G,className:"w-28 rounded-lg bg-green-500 px-5 py-2 text-sm font-medium text-white hover:bg-green-600 disabled:cursor-not-allowed disabled:opacity-50",children:A?"Đang tải...":"Tải lên"})]}),_.jsx("p",{className:"text-sm text-rose-700",children:P&&P}),y.imageUrls.length>0&&y.imageUrls.map((H,ne)=>_.jsxs("div",{className:"duration flex items-center justify-between gap-4 rounded-lg border bg-gray-100 px-5 py-2 transition hover:shadow-md",children:[_.jsx("img",{src:H,alt:"listing image",className:"h-20 w-20 rounded-lg object-contain"}),_.jsx("button",{type:"button",onClick:()=>ce(ne),className:"rounded-lg bg-rose-500 px-5 py-2 text-sm font-medium text-white hover:opacity-75 hover:shadow-lg",children:"Xóa"})]},H)),_.jsx("button",{disabled:$||A,className:"rounded-lg bg-emerald-500 px-5 py-4 text-sm font-medium text-white hover:bg-emerald-600 disabled:opacity-50",children:$?"Đang tạo...":"Tạo bài đăng"}),B&&_.jsx("p",{className:"text-sm text-rose-700",children:B})]})]})]})}function lM(){const{currentUser:e}=fr(P=>P.user),t=$n(),n=Y0(),[i,r]=k.useState([]),[o,l]=k.useState({imageUrls:[],name:"",description:"",address:"",type:"rent",bedrooms:1,bathrooms:1,regularPrice:50,discountPrice:0,offer:!1,parking:!1,furnished:!1}),[d,u]=k.useState(!1),[f,p]=k.useState(!1),[g,v]=k.useState(!1),[w,E]=k.useState(!1);k.useEffect(()=>{(async()=>{const N=n.listingSlug,M=await(await fetch(`/api/listing/get/${N}`)).json();if(M.success===!1){console.log(M.message);return}l(M)})()},[n.listingSlug]);const b=P=>{if(i.length>0&&i.length+o.imageUrls.length<7){p(!0),u(!1);const N=[];for(let A=0;A<i.length;A++)N.push(C(i[A]));Promise.all(N).then(A=>{l({...o,imageUrls:o.imageUrls.concat(A)}),u(!1),p(!1)}).catch(A=>{u("Image upload failed (2 mb max per image)"),p(!1)})}else u("You can only upload 6 images per listing"),p(!1)},C=async P=>new Promise((N,A)=>{const M=Rp(zu),B=new Date().getTime()+P.name,z=Np(M,B),$=kp(z,P);$.on("state_changed",j=>{const G=j.bytesTransferred/j.totalBytes*100;console.log(`Upload is ${G}% done`)},j=>{A(j)},()=>{Op($.snapshot.ref).then(j=>{N(j)})})}),x=P=>{l({...o,imageUrls:o.imageUrls.filter((N,A)=>A!==P)})},y=P=>{(P.target.id==="sale"||P.target.id==="rent")&&l({...o,type:P.target.id}),(P.target.id==="parking"||P.target.id==="furnished"||P.target.id==="offer")&&l({...o,[P.target.id]:P.target.checked}),(P.target.type==="number"||P.target.type==="text"||P.target.type==="textarea")&&l({...o,[P.target.id]:P.target.value})},T=async P=>{P.preventDefault();try{if(o.imageUrls.length<1)return v("Vui lòng tải lên ít nhất 1 hình ảnh");if(+o.regularPrice<+o.discountPrice)return v("Giá giảm phải nhỏ hơn giá thường");E(!0),v(!1);const A=await(await fetch(`/api/listing/update/${n.listingSlug}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,userRef:e._id})})).json();E(!1),A.success===!1&&v(A.message),t(`/listing/${A.slug}`)}catch(N){v(N.message),E(!1)}};return _.jsxs("main",{className:"mx-auto max-w-4xl p-3",children:[_.jsx("h1",{className:"my-7 text-center text-3xl font-bold text-emerald-700",children:"Cập nhật bài đăng"}),_.jsxs("form",{onSubmit:T,className:"flex flex-col gap-4 sm:flex-row",children:[_.jsxs("div",{className:"flex flex-1 flex-col gap-4 text-emerald-700",children:[_.jsx("input",{type:"text",placeholder:"Tên bài đăng",className:"rounded-lg border border-gray-300 p-3",id:"name",maxLength:"255",minLength:"6",required:!0,onChange:y,value:o.name}),_.jsx("textarea",{type:"text",placeholder:"Mô tả",className:"rounded-lg border border-gray-300 p-3",id:"description",required:!0,onChange:y,value:o.description}),_.jsx("input",{type:"text",placeholder:"Địa chỉ",className:"rounded-lg border border-gray-300 px-5 py-2",id:"address",required:!0,onChange:y,value:o.address}),_.jsxs("div",{className:"flex gap-6 flex-wrap text-emerald-700",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"sale",className:"w-5",onChange:y,checked:o.type==="sale"}),_.jsx("span",{children:"Bán"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"rent",className:"w-5",onChange:y,checked:o.type==="rent"}),_.jsx("span",{children:"Thuê"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"parking",className:"w-5",onChange:y,checked:o.parking}),_.jsx("span",{children:"Bãi xe"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"furnished",className:"w-5",onChange:y,checked:o.furnished}),_.jsx("span",{children:"Nội thất"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"offer",className:"w-5",onChange:y,checked:o.offer}),_.jsx("span",{children:"Giảm giá"})]})]}),_.jsxs("div",{className:"flex flex-wrap gap-6 text-emerald-700",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",id:"bedrooms",min:"1",max:"10",required:!0,className:"rounded-lg border border-gray-300 px-5 py-2",onChange:y,value:o.bedrooms}),_.jsx("p",{children:"Phòng ngủ"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",id:"bathrooms",min:"1",max:"10",required:!0,className:"rounded-lg border border-gray-300 px-5 py-2",onChange:y,value:o.bathrooms}),_.jsx("p",{children:"Phòng tắm"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",id:"regularPrice",min:"1",max:"100000000000",required:!0,className:"rounded-lg border border-gray-300 px-5 py-2",onChange:y,value:o.regularPrice}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsxs("p",{children:["Giá (",_.jsx("strong",{children:"VND"}),")"]}),o.type==="rent"&&_.jsx("span",{className:"text-xs",children:"/tháng"})]})]}),o.offer&&_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",id:"discountPrice",min:"0",max:"10000000",required:!0,className:"rounded-lg border border-gray-300 px-5 py-2",onChange:y,value:o.discountPrice}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsxs("p",{children:["Giảm giá (",_.jsx("strong",{children:"VND"}),")"]}),o.type==="rent"&&_.jsx("span",{className:"text-xs",children:"/tháng"})]})]})]})]}),_.jsxs("div",{className:"flex flex-col flex-1 gap-4 text-emerald-700",children:[_.jsxs("p",{className:"font-semibold",children:["Hình ảnh (tối đa 6):",_.jsx("span",{className:"font-medium text-emerald-700 ml-2",children:"Ảnh đầu tiên sẽ được làm thumbnail cho bài đăng"})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("input",{onChange:P=>r(P.target.files),className:"w-full rounded-lg border border-gray-300 px-5 py-2",type:"file",id:"images",accept:"image/*",multiple:!0}),_.jsx("button",{type:"button",disabled:f,onClick:b,className:"w-28 rounded-lg bg-green-500 px-5 py-2 text-sm font-medium text-white hover:bg-green-600 disabled:cursor-not-allowed disabled:opacity-50",children:f?"Đang tải...":"Tải lên"})]}),_.jsx("p",{className:"text-rose-700 text-sm",children:d&&d}),o.imageUrls.length>0&&o.imageUrls.map((P,N)=>_.jsxs("div",{className:"duration flex items-center justify-between gap-4 rounded-lg border bg-gray-100 px-5 py-2 transition hover:shadow-md",children:[_.jsx("img",{src:P,alt:"listing image",className:"w-20 h-20 object-contain rounded-lg"}),_.jsx("button",{type:"button",onClick:()=>x(N),className:"rounded-lg bg-rose-500 px-5 py-2 text-sm font-medium text-white hover:opacity-75 hover:shadow-lg",children:"Xóa"})]},P)),_.jsx("button",{disabled:w||f,className:"rounded-lg bg-emerald-500 px-5 py-4 text-sm font-medium text-white hover:opacity-95 disabled:opacity-50",children:w?"Đang cập nhật...":"Cập nhật bài đăng"}),g&&_.jsx("p",{className:"text-rose-700 text-sm",children:g})]})]})]})}function uM({listing:e}){const[t,n]=k.useState(null),[i,r]=k.useState(""),o=l=>{r(l.target.value)};return k.useEffect(()=>{(async()=>{try{const u=await(await fetch(`/api/user/${e.userRef}`)).json();console.log(u),n(u)}catch(d){console.log(d)}})()},[e.userRef]),_.jsx(_.Fragment,{children:t&&_.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsxs("p",{children:["Liên hệ ",_.jsx("span",{className:"font-semibold",children:t.username})," ","cho"," ",_.jsx("span",{className:"font-semibold",children:e.name.toLowerCase()})]}),_.jsx("textarea",{name:"message",id:"message",rows:"2",value:i,onChange:o,placeholder:"Nhập tin nhắn của bạn ở đây",className:"w-full border p-3 rounded-lg"}),_.jsx(We,{to:`mailto:${t.email}?subject=Về ${e.name.toLowerCase()}&body=${i}`,className:"bg-emerald-500 text-white font-medium text-center py-2 px-5 rounded-lg hover:bg-emerald-600 transition-all","aria-label":"Gửi tin nhắn",children:"Gửi tin nhắn"})]})})}function tS(e,t){const n=k.useRef(t);k.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const cM=1;function dM(e){return Object.freeze({__version:cM,map:e})}function fM(e,t){return Object.freeze({...e,...t})}const nS=k.createContext(null),iS=nS.Provider;function Ap(){const e=k.useContext(nS);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function hM(e){function t(n,i){const{instance:r,context:o}=e(n).current;return k.useImperativeHandle(i,()=>r),n.children==null?null:he.createElement(iS,{value:o},n.children)}return k.forwardRef(t)}function pM(e){function t(n,i){const[r,o]=k.useState(!1),{instance:l}=e(n,o).current;k.useImperativeHandle(i,()=>l),k.useEffect(function(){r&&l.update()},[l,r,n.children]);const d=l._contentNode;return d?$h.createPortal(n.children,d):null}return k.forwardRef(t)}function mM(e){function t(n,i){const{instance:r}=e(n).current;return k.useImperativeHandle(i,()=>r),null}return k.forwardRef(t)}function rS(e,t){const n=k.useRef();k.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Mp(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function gM(e,t){return function(i,r){const o=Ap(),l=e(Mp(i,o),o);return tS(o.map,i.attribution),rS(l.current,i.eventHandlers),t(l.current,o,i,r),l}}var Df={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(d1,function(n){var i="1.9.4";function r(s){var a,c,h,m;for(c=1,h=arguments.length;c<h;c++){m=arguments[c];for(a in m)s[a]=m[a]}return s}var o=Object.create||function(){function s(){}return function(a){return s.prototype=a,new s}}();function l(s,a){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var h=c.call(arguments,2);return function(){return s.apply(a,h.length?h.concat(c.call(arguments)):arguments)}}var d=0;function u(s){return"_leaflet_id"in s||(s._leaflet_id=++d),s._leaflet_id}function f(s,a,c){var h,m,S,I;return I=function(){h=!1,m&&(S.apply(c,m),m=!1)},S=function(){h?m=arguments:(s.apply(c,arguments),setTimeout(I,a),h=!0)},S}function p(s,a,c){var h=a[1],m=a[0],S=h-m;return s===h&&c?s:((s-m)%S+S)%S+m}function g(){return!1}function v(s,a){if(a===!1)return s;var c=Math.pow(10,a===void 0?6:a);return Math.round(s*c)/c}function w(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function E(s){return w(s).split(/\s+/)}function b(s,a){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var c in a)s.options[c]=a[c];return s.options}function C(s,a,c){var h=[];for(var m in s)h.push(encodeURIComponent(c?m.toUpperCase():m)+"="+encodeURIComponent(s[m]));return(!a||a.indexOf("?")===-1?"?":"&")+h.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function y(s,a){return s.replace(x,function(c,h){var m=a[h];if(m===void 0)throw new Error("No value provided for variable "+c);return typeof m=="function"&&(m=m(a)),m})}var T=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function P(s,a){for(var c=0;c<s.length;c++)if(s[c]===a)return c;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var M=0;function B(s){var a=+new Date,c=Math.max(0,16-(a-M));return M=a+c,window.setTimeout(s,c)}var z=window.requestAnimationFrame||A("RequestAnimationFrame")||B,$=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function j(s,a,c){if(c&&z===B)s.call(a);else return z.call(window,l(s,a))}function G(s){s&&$.call(window,s)}var Q={__proto__:null,extend:r,create:o,bind:l,get lastId(){return d},stamp:u,throttle:f,wrapNum:p,falseFn:g,formatNum:v,trim:w,splitWords:E,setOptions:b,getParamString:C,template:y,isArray:T,indexOf:P,emptyImageUrl:N,requestFn:z,cancelFn:$,requestAnimFrame:j,cancelAnimFrame:G};function ce(){}ce.extend=function(s){var a=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,h=o(c);h.constructor=a,a.prototype=h;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(a[m]=this[m]);return s.statics&&r(a,s.statics),s.includes&&(pe(s.includes),r.apply(null,[h].concat(s.includes))),r(h,s),delete h.statics,delete h.includes,h.options&&(h.options=c.options?o(c.options):{},r(h.options,s.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,I=h._initHooks.length;S<I;S++)h._initHooks[S].call(this)}},a},ce.include=function(s){var a=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=a,this.mergeOptions(s.options)),this},ce.mergeOptions=function(s){return r(this.prototype.options,s),this},ce.addInitHook=function(s){var a=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function pe(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=T(s)?s:[s];for(var a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ye={on:function(s,a,c){if(typeof s=="object")for(var h in s)this._on(h,s[h],a);else{s=E(s);for(var m=0,S=s.length;m<S;m++)this._on(s[m],a,c)}return this},off:function(s,a,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var h in s)this._off(h,s[h],a);else{s=E(s);for(var m=arguments.length===1,S=0,I=s.length;S<I;S++)m?this._off(s[S]):this._off(s[S],a,c)}return this},_on:function(s,a,c,h){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(s,a,c)===!1){c===this&&(c=void 0);var m={fn:a,ctx:c};h&&(m.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(m)}},_off:function(s,a,c){var h,m,S;if(this._events&&(h=this._events[s],!!h)){if(arguments.length===1){if(this._firingCount)for(m=0,S=h.length;m<S;m++)h[m].fn=g;delete this._events[s];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var I=this._listens(s,a,c);if(I!==!1){var R=h[I];this._firingCount&&(R.fn=g,this._events[s]=h=h.slice()),h.splice(I,1)}}},fire:function(s,a,c){if(!this.listens(s,c))return this;var h=r({},a,{type:s,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var m=this._events[s];if(m){this._firingCount=this._firingCount+1||1;for(var S=0,I=m.length;S<I;S++){var R=m[S],D=R.fn;R.once&&this.off(s,D,R.ctx),D.call(R.ctx||this,h)}this._firingCount--}}return c&&this._propagateEvent(h),this},listens:function(s,a,c,h){typeof s!="string"&&console.warn('"string" type argument expected');var m=a;typeof a!="function"&&(h=!!a,m=void 0,c=void 0);var S=this._events&&this._events[s];if(S&&S.length&&this._listens(s,m,c)!==!1)return!0;if(h){for(var I in this._eventParents)if(this._eventParents[I].listens(s,a,c,h))return!0}return!1},_listens:function(s,a,c){if(!this._events)return!1;var h=this._events[s]||[];if(!a)return!!h.length;c===this&&(c=void 0);for(var m=0,S=h.length;m<S;m++)if(h[m].fn===a&&h[m].ctx===c)return m;return!1},once:function(s,a,c){if(typeof s=="object")for(var h in s)this._on(h,s[h],a,!0);else{s=E(s);for(var m=0,S=s.length;m<S;m++)this._on(s[m],a,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[u(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[u(s)],this},_propagateEvent:function(s){for(var a in this._eventParents)this._eventParents[a].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};ye.addEventListener=ye.on,ye.removeEventListener=ye.clearAllEventListeners=ye.off,ye.addOneTimeEventListener=ye.once,ye.fireEvent=ye.fire,ye.hasEventListeners=ye.listens;var rt=ce.extend(ye);function U(s,a,c){this.x=c?Math.round(s):s,this.y=c?Math.round(a):a}var K=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(s){return this.clone()._add(W(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(W(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new U(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new U(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(s){s=W(s);var a=s.x-this.x,c=s.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(s){return s=W(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=W(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function W(s,a,c){return s instanceof U?s:T(s)?new U(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new U(s.x,s.y):new U(s,a,c)}function J(s,a){if(s)for(var c=a?[s,a]:s,h=0,m=c.length;h<m;h++)this.extend(c[h])}J.prototype={extend:function(s){var a,c;if(!s)return this;if(s instanceof U||typeof s[0]=="number"||"x"in s)a=c=W(s);else if(s=H(s),a=s.min,c=s.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var a,c;return typeof s[0]=="number"||s instanceof U?s=W(s):s=H(s),s instanceof J?(a=s.min,c=s.max):a=c=s,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=H(s);var a=this.min,c=this.max,h=s.min,m=s.max,S=m.x>=a.x&&h.x<=c.x,I=m.y>=a.y&&h.y<=c.y;return S&&I},overlaps:function(s){s=H(s);var a=this.min,c=this.max,h=s.min,m=s.max,S=m.x>a.x&&h.x<c.x,I=m.y>a.y&&h.y<c.y;return S&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var a=this.min,c=this.max,h=Math.abs(a.x-c.x)*s,m=Math.abs(a.y-c.y)*s;return H(W(a.x-h,a.y-m),W(c.x+h,c.y+m))},equals:function(s){return s?(s=H(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function H(s,a){return!s||s instanceof J?s:new J(s,a)}function ne(s,a){if(s)for(var c=a?[s,a]:s,h=0,m=c.length;h<m;h++)this.extend(c[h])}ne.prototype={extend:function(s){var a=this._southWest,c=this._northEast,h,m;if(s instanceof se)h=s,m=s;else if(s instanceof ne){if(h=s._southWest,m=s._northEast,!h||!m)return this}else return s?this.extend(ee(s)||ie(s)):this;return!a&&!c?(this._southWest=new se(h.lat,h.lng),this._northEast=new se(m.lat,m.lng)):(a.lat=Math.min(h.lat,a.lat),a.lng=Math.min(h.lng,a.lng),c.lat=Math.max(m.lat,c.lat),c.lng=Math.max(m.lng,c.lng)),this},pad:function(s){var a=this._southWest,c=this._northEast,h=Math.abs(a.lat-c.lat)*s,m=Math.abs(a.lng-c.lng)*s;return new ne(new se(a.lat-h,a.lng-m),new se(c.lat+h,c.lng+m))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof se||"lat"in s?s=ee(s):s=ie(s);var a=this._southWest,c=this._northEast,h,m;return s instanceof ne?(h=s.getSouthWest(),m=s.getNorthEast()):h=m=s,h.lat>=a.lat&&m.lat<=c.lat&&h.lng>=a.lng&&m.lng<=c.lng},intersects:function(s){s=ie(s);var a=this._southWest,c=this._northEast,h=s.getSouthWest(),m=s.getNorthEast(),S=m.lat>=a.lat&&h.lat<=c.lat,I=m.lng>=a.lng&&h.lng<=c.lng;return S&&I},overlaps:function(s){s=ie(s);var a=this._southWest,c=this._northEast,h=s.getSouthWest(),m=s.getNorthEast(),S=m.lat>a.lat&&h.lat<c.lat,I=m.lng>a.lng&&h.lng<c.lng;return S&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,a){return s?(s=ie(s),this._southWest.equals(s.getSouthWest(),a)&&this._northEast.equals(s.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(s,a){return s instanceof ne?s:new ne(s,a)}function se(s,a,c){if(isNaN(s)||isNaN(a))throw new Error("Invalid LatLng object: ("+s+", "+a+")");this.lat=+s,this.lng=+a,c!==void 0&&(this.alt=+c)}se.prototype={equals:function(s,a){if(!s)return!1;s=ee(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(a===void 0?1e-9:a)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return Ut.distance(this,ee(s))},wrap:function(){return Ut.wrapLatLng(this)},toBounds:function(s){var a=180*s/40075017,c=a/Math.cos(Math.PI/180*this.lat);return ie([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function ee(s,a,c){return s instanceof se?s:T(s)&&typeof s[0]!="object"?s.length===3?new se(s[0],s[1],s[2]):s.length===2?new se(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new se(s.lat,"lng"in s?s.lng:s.lon,s.alt):a===void 0?null:new se(s,a,c)}var Je={latLngToPoint:function(s,a){var c=this.projection.project(s),h=this.scale(a);return this.transformation._transform(c,h)},pointToLatLng:function(s,a){var c=this.scale(a),h=this.transformation.untransform(s,c);return this.projection.unproject(h)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(s),h=this.transformation.transform(a.min,c),m=this.transformation.transform(a.max,c);return new J(h,m)},infinite:!1,wrapLatLng:function(s){var a=this.wrapLng?p(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?p(s.lat,this.wrapLat,!0):s.lat,h=s.alt;return new se(c,a,h)},wrapLatLngBounds:function(s){var a=s.getCenter(),c=this.wrapLatLng(a),h=a.lat-c.lat,m=a.lng-c.lng;if(h===0&&m===0)return s;var S=s.getSouthWest(),I=s.getNorthEast(),R=new se(S.lat-h,S.lng-m),D=new se(I.lat-h,I.lng-m);return new ne(R,D)}},Ut=r({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(s,a){var c=Math.PI/180,h=s.lat*c,m=a.lat*c,S=Math.sin((a.lat-s.lat)*c/2),I=Math.sin((a.lng-s.lng)*c/2),R=S*S+Math.cos(h)*Math.cos(m)*I*I,D=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*D}}),mn=6378137,ms={R:mn,MAX_LATITUDE:85.0511287798,project:function(s){var a=Math.PI/180,c=this.MAX_LATITUDE,h=Math.max(Math.min(c,s.lat),-c),m=Math.sin(h*a);return new U(this.R*s.lng*a,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(s){var a=180/Math.PI;return new se((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*a,s.x*a/this.R)},bounds:function(){var s=mn*Math.PI;return new J([-s,-s],[s,s])}()};function Wu(s,a,c,h){if(T(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=a,this._c=c,this._d=h}Wu.prototype={transform:function(s,a){return this._transform(s.clone(),a)},_transform:function(s,a){return a=a||1,s.x=a*(this._a*s.x+this._b),s.y=a*(this._c*s.y+this._d),s},untransform:function(s,a){return a=a||1,new U((s.x/a-this._b)/this._a,(s.y/a-this._d)/this._c)}};function gs(s,a,c,h){return new Wu(s,a,c,h)}var Vu=r({},Ut,{code:"EPSG:3857",projection:ms,transformation:function(){var s=.5/(Math.PI*ms.R);return gs(s,.5,-s,.5)}()}),BS=r({},Vu,{code:"EPSG:900913"});function qp(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Kp(s,a){var c="",h,m,S,I,R,D;for(h=0,S=s.length;h<S;h++){for(R=s[h],m=0,I=R.length;m<I;m++)D=R[m],c+=(m?"L":"M")+D.x+" "+D.y;c+=a?X.svg?"z":"x":""}return c||"M0 0"}var Gu=document.documentElement.style,Go="ActiveXObject"in window,FS=Go&&!document.addEventListener,Xp="msLaunchUri"in navigator&&!("documentMode"in document),Zu=Yt("webkit"),Jp=Yt("android"),Yp=Yt("android 2")||Yt("android 3"),$S=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),HS=Jp&&Yt("Google")&&$S<537&&!("AudioNode"in window),qu=!!window.opera,Qp=!Xp&&Yt("chrome"),em=Yt("gecko")&&!Zu&&!qu&&!Go,WS=!Qp&&Yt("safari"),tm=Yt("phantom"),nm="OTransition"in Gu,VS=navigator.platform.indexOf("Win")===0,im=Go&&"transition"in Gu,Ku="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Yp,rm="MozPerspective"in Gu,GS=!window.L_DISABLE_3D&&(im||Ku||rm)&&!nm&&!tm,vs=typeof orientation<"u"||Yt("mobile"),ZS=vs&&Zu,qS=vs&&Ku,sm=!window.PointerEvent&&window.MSPointerEvent,om=!!(window.PointerEvent||sm),am="ontouchstart"in window||!!window.TouchEvent,KS=!window.L_NO_TOUCH&&(am||om),XS=vs&&qu,JS=vs&&em,YS=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,QS=function(){var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",g,a),window.removeEventListener("testPassiveEventSupport",g,a)}catch{}return s}(),eb=function(){return!!document.createElement("canvas").getContext}(),Xu=!!(document.createElementNS&&qp("svg").createSVGRect),tb=!!Xu&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),nb=!Xu&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var a=s.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),ib=navigator.platform.indexOf("Mac")===0,rb=navigator.platform.indexOf("Linux")===0;function Yt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var X={ie:Go,ielt9:FS,edge:Xp,webkit:Zu,android:Jp,android23:Yp,androidStock:HS,opera:qu,chrome:Qp,gecko:em,safari:WS,phantom:tm,opera12:nm,win:VS,ie3d:im,webkit3d:Ku,gecko3d:rm,any3d:GS,mobile:vs,mobileWebkit:ZS,mobileWebkit3d:qS,msPointer:sm,pointer:om,touch:KS,touchNative:am,mobileOpera:XS,mobileGecko:JS,retina:YS,passiveEvents:QS,canvas:eb,svg:Xu,vml:nb,inlineSvg:tb,mac:ib,linux:rb},lm=X.msPointer?"MSPointerDown":"pointerdown",um=X.msPointer?"MSPointerMove":"pointermove",cm=X.msPointer?"MSPointerUp":"pointerup",dm=X.msPointer?"MSPointerCancel":"pointercancel",Ju={touchstart:lm,touchmove:um,touchend:cm,touchcancel:dm},fm={touchstart:cb,touchmove:Zo,touchend:Zo,touchcancel:Zo},hr={},hm=!1;function sb(s,a,c){return a==="touchstart"&&ub(),fm[a]?(c=fm[a].bind(this,c),s.addEventListener(Ju[a],c,!1),c):(console.warn("wrong event specified:",a),g)}function ob(s,a,c){if(!Ju[a]){console.warn("wrong event specified:",a);return}s.removeEventListener(Ju[a],c,!1)}function ab(s){hr[s.pointerId]=s}function lb(s){hr[s.pointerId]&&(hr[s.pointerId]=s)}function pm(s){delete hr[s.pointerId]}function ub(){hm||(document.addEventListener(lm,ab,!0),document.addEventListener(um,lb,!0),document.addEventListener(cm,pm,!0),document.addEventListener(dm,pm,!0),hm=!0)}function Zo(s,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in hr)a.touches.push(hr[c]);a.changedTouches=[a],s(a)}}function cb(s,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ze(a),Zo(s,a)}function db(s){var a={},c,h;for(h in s)c=s[h],a[h]=c&&c.bind?c.bind(s):c;return s=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var fb=200;function hb(s,a){s.addEventListener("dblclick",a);var c=0,h;function m(S){if(S.detail!==1){h=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var I=ym(S);if(!(I.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})&&!I.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement}))){var R=Date.now();R-c<=fb?(h++,h===2&&a(db(S))):h=1,c=R}}}return s.addEventListener("click",m),{dblclick:a,simDblclick:m}}function pb(s,a){s.removeEventListener("dblclick",a.dblclick),s.removeEventListener("click",a.simDblclick)}var Yu=Xo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_s=Xo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),mm=_s==="webkitTransition"||_s==="OTransition"?_s+"End":"transitionend";function gm(s){return typeof s=="string"?document.getElementById(s):s}function ys(s,a){var c=s.style[a]||s.currentStyle&&s.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(s,null);c=h?h[a]:null}return c==="auto"?null:c}function fe(s,a,c){var h=document.createElement(s);return h.className=a||"",c&&c.appendChild(h),h}function Ce(s){var a=s.parentNode;a&&a.removeChild(s)}function qo(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function pr(s){var a=s.parentNode;a&&a.lastChild!==s&&a.appendChild(s)}function mr(s){var a=s.parentNode;a&&a.firstChild!==s&&a.insertBefore(s,a.firstChild)}function Qu(s,a){if(s.classList!==void 0)return s.classList.contains(a);var c=Ko(s);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function oe(s,a){if(s.classList!==void 0)for(var c=E(a),h=0,m=c.length;h<m;h++)s.classList.add(c[h]);else if(!Qu(s,a)){var S=Ko(s);ec(s,(S?S+" ":"")+a)}}function Re(s,a){s.classList!==void 0?s.classList.remove(a):ec(s,w((" "+Ko(s)+" ").replace(" "+a+" "," ")))}function ec(s,a){s.className.baseVal===void 0?s.className=a:s.className.baseVal=a}function Ko(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Lt(s,a){"opacity"in s.style?s.style.opacity=a:"filter"in s.style&&mb(s,a)}function mb(s,a){var c=!1,h="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(h)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):s.style.filter+=" progid:"+h+"(opacity="+a+")"}function Xo(s){for(var a=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in a)return s[c];return!1}function Ri(s,a,c){var h=a||new U(0,0);s.style[Yu]=(X.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(c?" scale("+c+")":"")}function De(s,a){s._leaflet_pos=a,X.any3d?Ri(s,a):(s.style.left=a.x+"px",s.style.top=a.y+"px")}function Ai(s){return s._leaflet_pos||new U(0,0)}var ws,xs,tc;if("onselectstart"in document)ws=function(){re(window,"selectstart",Ze)},xs=function(){we(window,"selectstart",Ze)};else{var Ss=Xo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ws=function(){if(Ss){var s=document.documentElement.style;tc=s[Ss],s[Ss]="none"}},xs=function(){Ss&&(document.documentElement.style[Ss]=tc,tc=void 0)}}function nc(){re(window,"dragstart",Ze)}function ic(){we(window,"dragstart",Ze)}var Jo,rc;function sc(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Yo(),Jo=s,rc=s.style.outlineStyle,s.style.outlineStyle="none",re(window,"keydown",Yo))}function Yo(){Jo&&(Jo.style.outlineStyle=rc,Jo=void 0,rc=void 0,we(window,"keydown",Yo))}function vm(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function oc(s){var a=s.getBoundingClientRect();return{x:a.width/s.offsetWidth||1,y:a.height/s.offsetHeight||1,boundingClientRect:a}}var gb={__proto__:null,TRANSFORM:Yu,TRANSITION:_s,TRANSITION_END:mm,get:gm,getStyle:ys,create:fe,remove:Ce,empty:qo,toFront:pr,toBack:mr,hasClass:Qu,addClass:oe,removeClass:Re,setClass:ec,getClass:Ko,setOpacity:Lt,testProp:Xo,setTransform:Ri,setPosition:De,getPosition:Ai,get disableTextSelection(){return ws},get enableTextSelection(){return xs},disableImageDrag:nc,enableImageDrag:ic,preventOutline:sc,restoreOutline:Yo,getSizedParentNode:vm,getScale:oc};function re(s,a,c,h){if(a&&typeof a=="object")for(var m in a)lc(s,m,a[m],c);else{a=E(a);for(var S=0,I=a.length;S<I;S++)lc(s,a[S],c,h)}return this}var Qt="_leaflet_events";function we(s,a,c,h){if(arguments.length===1)_m(s),delete s[Qt];else if(a&&typeof a=="object")for(var m in a)uc(s,m,a[m],c);else if(a=E(a),arguments.length===2)_m(s,function(R){return P(a,R)!==-1});else for(var S=0,I=a.length;S<I;S++)uc(s,a[S],c,h);return this}function _m(s,a){for(var c in s[Qt]){var h=c.split(/\d/)[0];(!a||a(h))&&uc(s,h,null,null,c)}}var ac={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function lc(s,a,c,h){var m=a+u(c)+(h?"_"+u(h):"");if(s[Qt]&&s[Qt][m])return this;var S=function(R){return c.call(h||s,R||window.event)},I=S;!X.touchNative&&X.pointer&&a.indexOf("touch")===0?S=sb(s,a,S):X.touch&&a==="dblclick"?S=hb(s,S):"addEventListener"in s?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?s.addEventListener(ac[a]||a,S,X.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(S=function(R){R=R||window.event,dc(s,R)&&I(R)},s.addEventListener(ac[a],S,!1)):s.addEventListener(a,I,!1):s.attachEvent("on"+a,S),s[Qt]=s[Qt]||{},s[Qt][m]=S}function uc(s,a,c,h,m){m=m||a+u(c)+(h?"_"+u(h):"");var S=s[Qt]&&s[Qt][m];if(!S)return this;!X.touchNative&&X.pointer&&a.indexOf("touch")===0?ob(s,a,S):X.touch&&a==="dblclick"?pb(s,S):"removeEventListener"in s?s.removeEventListener(ac[a]||a,S,!1):s.detachEvent("on"+a,S),s[Qt][m]=null}function Mi(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function cc(s){return lc(s,"wheel",Mi),this}function bs(s){return re(s,"mousedown touchstart dblclick contextmenu",Mi),s._leaflet_disable_click=!0,this}function Ze(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Di(s){return Ze(s),Mi(s),this}function ym(s){if(s.composedPath)return s.composedPath();for(var a=[],c=s.target;c;)a.push(c),c=c.parentNode;return a}function wm(s,a){if(!a)return new U(s.clientX,s.clientY);var c=oc(a),h=c.boundingClientRect;return new U((s.clientX-h.left)/c.x-a.clientLeft,(s.clientY-h.top)/c.y-a.clientTop)}var vb=X.linux&&X.chrome?window.devicePixelRatio:X.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xm(s){return X.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/vb:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function dc(s,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var _b={__proto__:null,on:re,off:we,stopPropagation:Mi,disableScrollPropagation:cc,disableClickPropagation:bs,preventDefault:Ze,stop:Di,getPropagationPath:ym,getMousePosition:wm,getWheelDelta:xm,isExternalTarget:dc,addListener:re,removeListener:we},Sm=rt.extend({run:function(s,a,c,h){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=Ai(s),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(s){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,a){var c=this._startPos.add(this._offset.multiplyBy(s));a&&c._round(),De(this._el,c),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),ue=rt.extend({options:{crs:Vu,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,a){a=b(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ee(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=_s&&X.any3d&&!X.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),re(this._proxy,mm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),s=this._limitCenter(ee(s),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var h=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,a,c.zoom):this._tryAnimatedPan(s,c.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(s,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,a){return this._loaded?this.setView(this.getCenter(),s,{zoom:a}):(this._zoom=s,this)},zoomIn:function(s,a){return s=s||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,a)},zoomOut:function(s,a){return s=s||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,a)},setZoomAround:function(s,a,c){var h=this.getZoomScale(a),m=this.getSize().divideBy(2),S=s instanceof U?s:this.latLngToContainerPoint(s),I=S.subtract(m).multiplyBy(1-1/h),R=this.containerPointToLatLng(m.add(I));return this.setView(R,a,{zoom:c})},_getBoundsCenterZoom:function(s,a){a=a||{},s=s.getBounds?s.getBounds():ie(s);var c=W(a.paddingTopLeft||a.padding||[0,0]),h=W(a.paddingBottomRight||a.padding||[0,0]),m=this.getBoundsZoom(s,!1,c.add(h));if(m=typeof a.maxZoom=="number"?Math.min(a.maxZoom,m):m,m===1/0)return{center:s.getCenter(),zoom:m};var S=h.subtract(c).divideBy(2),I=this.project(s.getSouthWest(),m),R=this.project(s.getNorthEast(),m),D=this.unproject(I.add(R).divideBy(2).add(S),m);return{center:D,zoom:m}},fitBounds:function(s,a){if(s=ie(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,a){return this.setView(s,this._zoom,{pan:a})},panBy:function(s,a){if(s=W(s).round(),a=a||{},!s.x&&!s.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Sm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){oe(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,a,c){if(c=c||{},c.animate===!1||!X.any3d)return this.setView(s,a,c);this._stop();var h=this.project(this.getCenter()),m=this.project(s),S=this.getSize(),I=this._zoom;s=ee(s),a=a===void 0?I:a;var R=Math.max(S.x,S.y),D=R*this.getZoomScale(I,a),F=m.distanceTo(h)||1,Z=1.42,Y=Z*Z;function ae(ze){var ca=ze?-1:1,o1=ze?D:R,a1=D*D-R*R+ca*Y*Y*F*F,l1=2*o1*Y*F,Sc=a1/l1,ng=Math.sqrt(Sc*Sc+1)-Sc,u1=ng<1e-9?-18:Math.log(ng);return u1}function st(ze){return(Math.exp(ze)-Math.exp(-ze))/2}function $e(ze){return(Math.exp(ze)+Math.exp(-ze))/2}function Ot(ze){return st(ze)/$e(ze)}var dt=ae(0);function xr(ze){return R*($e(dt)/$e(dt+Z*ze))}function n1(ze){return R*($e(dt)*Ot(dt+Z*ze)-st(dt))/Y}function i1(ze){return 1-Math.pow(1-ze,1.5)}var r1=Date.now(),eg=(ae(1)-dt)/Z,s1=c.duration?1e3*c.duration:1e3*eg*.8;function tg(){var ze=(Date.now()-r1)/s1,ca=i1(ze)*eg;ze<=1?(this._flyToFrame=j(tg,this),this._move(this.unproject(h.add(m.subtract(h).multiplyBy(n1(ca)/F)),I),this.getScaleZoom(R/xr(ca),I),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),tg.call(this),this},flyToBounds:function(s,a){var c=this._getBoundsCenterZoom(s,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(s){return s=ie(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var a=this.options.minZoom;return this.options.minZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var a=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,a){this._enforcingBounds=!0;var c=this.getCenter(),h=this._limitCenter(c,this._zoom,ie(s));return c.equals(h)||this.panTo(h,a),this._enforcingBounds=!1,this},panInside:function(s,a){a=a||{};var c=W(a.paddingTopLeft||a.padding||[0,0]),h=W(a.paddingBottomRight||a.padding||[0,0]),m=this.project(this.getCenter()),S=this.project(s),I=this.getPixelBounds(),R=H([I.min.add(c),I.max.subtract(h)]),D=R.getSize();if(!R.contains(S)){this._enforcingBounds=!0;var F=S.subtract(R.getCenter()),Z=R.extend(S).getSize().subtract(D);m.x+=F.x<0?-Z.x:Z.x,m.y+=F.y<0?-Z.y:Z.y,this.panTo(this.unproject(m),a),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),h=a.divideBy(2).round(),m=c.divideBy(2).round(),S=h.subtract(m);return!S.x&&!S.y?this:(s.animate&&s.pan?this.panBy(S):(s.pan&&this._rawPanBy(S),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,s):navigator.geolocation.getCurrentPosition(a,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var a=s.code,c=s.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var a=s.coords.latitude,c=s.coords.longitude,h=new se(a,c),m=h.toBounds(s.coords.accuracy*2),S=this._locateOptions;if(S.setView){var I=this.getBoundsZoom(m);this.setView(h,S.maxZoom?Math.min(I,S.maxZoom):I)}var R={latlng:h,bounds:m,timestamp:s.timestamp};for(var D in s.coords)typeof s.coords[D]=="number"&&(R[D]=s.coords[D]);this.fire("locationfound",R)}},addHandler:function(s,a){if(!a)return this;var c=this[s]=new a(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Ce(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,a){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),h=fe("div",c,a||this._mapPane);return s&&(this._panes[s]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),a=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new ne(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,a,c){s=ie(s),c=W(c||[0,0]);var h=this.getZoom()||0,m=this.getMinZoom(),S=this.getMaxZoom(),I=s.getNorthWest(),R=s.getSouthEast(),D=this.getSize().subtract(c),F=H(this.project(R,h),this.project(I,h)).getSize(),Z=X.any3d?this.options.zoomSnap:1,Y=D.x/F.x,ae=D.y/F.y,st=a?Math.max(Y,ae):Math.min(Y,ae);return h=this.getScaleZoom(st,h),Z&&(h=Math.round(h/(Z/100))*(Z/100),h=a?Math.ceil(h/Z)*Z:Math.floor(h/Z)*Z),Math.max(m,Math.min(S,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,a){var c=this._getTopLeftPoint(s,a);return new J(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(s)/c.scale(a)},getScaleZoom:function(s,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var h=c.zoom(s*c.scale(a));return isNaN(h)?1/0:h},project:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ee(s),a)},unproject:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(W(s),a)},layerPointToLatLng:function(s){var a=W(s).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(s){var a=this.project(ee(s))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ee(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ie(s))},distance:function(s,a){return this.options.crs.distance(ee(s),ee(a))},containerPointToLayerPoint:function(s){return W(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return W(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var a=this.containerPointToLayerPoint(W(s));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ee(s)))},mouseEventToContainerPoint:function(s){return wm(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var a=this._container=gm(s);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");re(a,"scroll",this._onScroll,this),this._containerId=u(a)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&X.any3d,oe(s,"leaflet-container"+(X.touch?" leaflet-touch":"")+(X.retina?" leaflet-retina":"")+(X.ielt9?" leaflet-oldie":"")+(X.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=ys(s,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),De(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(oe(s.markerPane,"leaflet-zoom-hide"),oe(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,a,c){De(this._mapPane,new U(0,0));var h=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var m=this._zoom!==a;this._moveStart(m,c)._move(s,a)._moveEnd(m),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(s,a){return s&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(s,a,c,h){a===void 0&&(a=this._zoom);var m=this._zoom!==a;return this._zoom=a,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),h?c&&c.pinch&&this.fire("zoom",c):((m||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){De(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[u(this._container)]=this;var a=s?we:re;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),X.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,a){for(var c=[],h,m=a==="mouseout"||a==="mouseover",S=s.target||s.srcElement,I=!1;S;){if(h=this._targets[u(S)],h&&(a==="click"||a==="preclick")&&this._draggableMoved(h)){I=!0;break}if(h&&h.listens(a,!0)&&(m&&!dc(S,s)||(c.push(h),m))||S===this._container)break;S=S.parentNode}return!c.length&&!I&&!m&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var a=s.target||s.srcElement;if(!(!this._loaded||a._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(a))){var c=s.type;c==="mousedown"&&sc(a),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,a,c){if(s.type==="click"){var h=r({},s);h.type="preclick",this._fireDOMEvent(h,h.type,c)}var m=this._findEventTargets(s,a);if(c){for(var S=[],I=0;I<c.length;I++)c[I].listens(a,!0)&&S.push(c[I]);m=S.concat(m)}if(m.length){a==="contextmenu"&&Ze(s);var R=m[0],D={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var F=R.getLatLng&&(!R._radius||R._radius<=10);D.containerPoint=F?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(s),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=F?R.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(I=0;I<m.length;I++)if(m[I].fire(a,D,!0),D.originalEvent._stopped||m[I].options.bubblingMouseEvents===!1&&P(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,a=this._handlers.length;s<a;s++)this._handlers[s].disable()},whenReady:function(s,a){return this._loaded?s.call(a||this,{target:this}):this.on("load",s,a),this},_getMapPanePos:function(){return Ai(this._mapPane)||new U(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,a){var c=s&&a!==void 0?this._getNewPixelOrigin(s,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,a){var c=this.getSize()._divideBy(2);return this.project(s,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,a,c){var h=this._getNewPixelOrigin(c,a);return this.project(s,a)._subtract(h)},_latLngBoundsToNewLayerBounds:function(s,a,c){var h=this._getNewPixelOrigin(c,a);return H([this.project(s.getSouthWest(),a)._subtract(h),this.project(s.getNorthWest(),a)._subtract(h),this.project(s.getSouthEast(),a)._subtract(h),this.project(s.getNorthEast(),a)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,a,c){if(!c)return s;var h=this.project(s,a),m=this.getSize().divideBy(2),S=new J(h.subtract(m),h.add(m)),I=this._getBoundsOffset(S,c,a);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?s:this.unproject(h.add(I),a)},_limitOffset:function(s,a){if(!a)return s;var c=this.getPixelBounds(),h=new J(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(h,a))},_getBoundsOffset:function(s,a,c){var h=H(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),m=h.min.subtract(s.min),S=h.max.subtract(s.max),I=this._rebound(m.x,-S.x),R=this._rebound(m.y,-S.y);return new U(I,R)},_rebound:function(s,a){return s+a>0?Math.round(s-a)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(a))},_limitZoom:function(s){var a=this.getMinZoom(),c=this.getMaxZoom(),h=X.any3d?this.options.zoomSnap:1;return h&&(s=Math.round(s/h)*h),Math.max(a,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Re(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,a){var c=this._getCenterOffset(s)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var s=this._proxy=fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(a){var c=Yu,h=this._proxy.style[c];Ri(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),h===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),a=this.getZoom();Ri(this._proxy,this.project(s,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(a),m=this._getCenterOffset(s)._divideBy(1-1/h);return c.animate!==!0&&!this.getSize().contains(m)?!1:(j(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(s,a,!0)},this),!0)},_animateZoom:function(s,a,c,h){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=a,oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:a,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Re(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function yb(s,a){return new ue(s,a)}var Bt=ce.extend({options:{position:"topright"},initialize:function(s){b(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var a=this._map;return a&&a.removeControl(this),this.options.position=s,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var a=this._container=this.onAdd(s),c=this.getPosition(),h=s._controlCorners[c];return oe(a,"leaflet-control"),c.indexOf("bottom")!==-1?h.insertBefore(a,h.firstChild):h.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ts=function(s){return new Bt(s)};ue.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},a="leaflet-",c=this._controlContainer=fe("div",a+"control-container",this._container);function h(m,S){var I=a+m+" "+a+S;s[m+S]=fe("div",I,c)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Ce(this._controlCorners[s]);Ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bm=Bt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,a,c,h){return c<h?-1:h<c?1:0}},initialize:function(s,a,c){b(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in s)this._addLayer(s[h],h);for(h in a)this._addLayer(a[h],h,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Bt.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,a){return this._addLayer(s,a),this._map?this._update():this},addOverlay:function(s,a){return this._addLayer(s,a,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var a=this._getLayer(u(s));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Re(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Re(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",a=this._container=fe("div",s),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),bs(a),cc(a);var h=this._section=fe("section",s+"-list");c&&(this._map.on("click",this.collapse,this),re(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=fe("a",s+"-toggle",a);m.href="#",m.title="Layers",m.setAttribute("role","button"),re(m,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){Ze(S),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=fe("div",s+"-base",h),this._separator=fe("div",s+"-separator",h),this._overlaysList=fe("div",s+"-overlays",h),a.appendChild(h)},_getLayer:function(s){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&u(this._layers[a].layer)===s)return this._layers[a]},_addLayer:function(s,a,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(h,m){return this.options.sortFunction(h.layer,m.layer,h.name,m.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qo(this._baseLayersList),qo(this._overlaysList),this._layerControlInputs=[];var s,a,c,h,m=0;for(c=0;c<this._layers.length;c++)h=this._layers[c],this._addItem(h),a=a||h.overlay,s=s||!h.overlay,m+=h.overlay?0:1;return this.options.hideSingleBase&&(s=s&&m>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=a&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var a=this._getLayer(u(s.target)),c=a.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(s,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(a?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=c,h.firstChild},_addItem:function(s){var a=document.createElement("label"),c=this._map.hasLayer(s.layer),h;s.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=c):h=this._createRadioElement("leaflet-base-layers_"+u(this),c),this._layerControlInputs.push(h),h.layerId=u(s.layer),re(h,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+s.name;var S=document.createElement("span");a.appendChild(S),S.appendChild(h),S.appendChild(m);var I=s.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,a,c,h=[],m=[];this._handlingClick=!0;for(var S=s.length-1;S>=0;S--)a=s[S],c=this._getLayer(a.layerId).layer,a.checked?h.push(c):a.checked||m.push(c);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])&&this._map.removeLayer(m[S]);for(S=0;S<h.length;S++)this._map.hasLayer(h[S])||this._map.addLayer(h[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,a,c,h=this._map.getZoom(),m=s.length-1;m>=0;m--)a=s[m],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&h<c.options.minZoom||c.options.maxZoom!==void 0&&h>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,re(s,"click",Ze),this.expand();var a=this;setTimeout(function(){we(s,"click",Ze),a._preventClick=!1})}}),wb=function(s,a,c){return new bm(s,a,c)},fc=Bt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var a="leaflet-control-zoom",c=fe("div",a+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,a,c,h,m){var S=fe("a",c,h);return S.innerHTML=s,S.href="#",S.title=a,S.setAttribute("role","button"),S.setAttribute("aria-label",a),bs(S),re(S,"click",Di),re(S,"click",m,this),re(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var s=this._map,a="leaflet-disabled";Re(this._zoomInButton,a),Re(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(oe(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(oe(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});ue.mergeOptions({zoomControl:!0}),ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fc,this.addControl(this.zoomControl))});var xb=function(s){return new fc(s)},Tm=Bt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var a="leaflet-control-scale",c=fe("div",a),h=this.options;return this._addScales(h,a+"-line",c),s.on(h.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,a,c){s.metric&&(this._mScale=fe("div",a,c)),s.imperial&&(this._iScale=fe("div",a,c))},_update:function(){var s=this._map,a=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,a]),s.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var a=this._getRoundNum(s),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/s)},_updateImperial:function(s){var a=s*3.2808399,c,h,m;a>5280?(c=a/5280,h=this._getRoundNum(c),this._updateScale(this._iScale,h+" mi",h/c)):(m=this._getRoundNum(a),this._updateScale(this._iScale,m+" ft",m/a))},_updateScale:function(s,a,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=a},_getRoundNum:function(s){var a=Math.pow(10,(Math.floor(s)+"").length-1),c=s/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),Sb=function(s){return new Tm(s)},bb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hc=Bt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(X.inlineSvg?bb+" ":"")+"Leaflet</a>"},initialize:function(s){b(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=fe("div","leaflet-control-attribution"),bs(this._container);for(var a in s._layers)s._layers[a].getAttribution&&this.addAttribution(s._layers[a].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var a in this._attributions)this._attributions[a]&&s.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});ue.mergeOptions({attributionControl:!0}),ue.addInitHook(function(){this.options.attributionControl&&new hc().addTo(this)});var Tb=function(s){return new hc(s)};Bt.Layers=bm,Bt.Zoom=fc,Bt.Scale=Tm,Bt.Attribution=hc,Ts.layers=wb,Ts.zoom=xb,Ts.scale=Sb,Ts.attribution=Tb;var en=ce.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(s,a){return s.addHandler(a,this),this};var Eb={Events:ye},Em=X.touch?"touchstart mousedown":"mousedown",Vn=rt.extend({options:{clickTolerance:3},initialize:function(s,a,c,h){b(this,h),this._element=s,this._dragStartTarget=a||s,this._preventOutline=c},enable:function(){this._enabled||(re(this._dragStartTarget,Em,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Vn._dragging===this&&this.finishDrag(!0),we(this._dragStartTarget,Em,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Qu(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Vn._dragging===this&&this.finishDrag();return}if(!(Vn._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Vn._dragging=this,this._preventOutline&&sc(this._element),nc(),ws(),!this._moving)){this.fire("down");var a=s.touches?s.touches[0]:s,c=vm(this._element);this._startPoint=new U(a.clientX,a.clientY),this._startPos=Ai(this._element),this._parentScale=oc(c);var h=s.type==="mousedown";re(document,h?"mousemove":"touchmove",this._onMove,this),re(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var a=s.touches&&s.touches.length===1?s.touches[0]:s,c=new U(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Ze(s),this._moved||(this.fire("dragstart"),this._moved=!0,oe(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),De(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Re(document.body,"leaflet-dragging"),this._lastTarget&&(Re(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),we(document,"mousemove touchmove",this._onMove,this),we(document,"mouseup touchend touchcancel",this._onUp,this),ic(),xs();var a=this._moved&&this._moving;this._moving=!1,Vn._dragging=!1,a&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Pm(s,a,c){var h,m=[1,4,2,8],S,I,R,D,F,Z,Y,ae;for(S=0,Z=s.length;S<Z;S++)s[S]._code=zi(s[S],a);for(R=0;R<4;R++){for(Y=m[R],h=[],S=0,Z=s.length,I=Z-1;S<Z;I=S++)D=s[S],F=s[I],D._code&Y?F._code&Y||(ae=Qo(F,D,Y,a,c),ae._code=zi(ae,a),h.push(ae)):(F._code&Y&&(ae=Qo(F,D,Y,a,c),ae._code=zi(ae,a),h.push(ae)),h.push(D));s=h}return s}function Cm(s,a){var c,h,m,S,I,R,D,F,Z;if(!s||s.length===0)throw new Error("latlngs not passed");kt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Y=ee([0,0]),ae=ie(s),st=ae.getNorthWest().distanceTo(ae.getSouthWest())*ae.getNorthEast().distanceTo(ae.getNorthWest());st<1700&&(Y=pc(s));var $e=s.length,Ot=[];for(c=0;c<$e;c++){var dt=ee(s[c]);Ot.push(a.project(ee([dt.lat-Y.lat,dt.lng-Y.lng])))}for(R=D=F=0,c=0,h=$e-1;c<$e;h=c++)m=Ot[c],S=Ot[h],I=m.y*S.x-S.y*m.x,D+=(m.x+S.x)*I,F+=(m.y+S.y)*I,R+=I*3;R===0?Z=Ot[0]:Z=[D/R,F/R];var xr=a.unproject(W(Z));return ee([xr.lat+Y.lat,xr.lng+Y.lng])}function pc(s){for(var a=0,c=0,h=0,m=0;m<s.length;m++){var S=ee(s[m]);a+=S.lat,c+=S.lng,h++}return ee([a/h,c/h])}var Pb={__proto__:null,clipPolygon:Pm,polygonCenter:Cm,centroid:pc};function Im(s,a){if(!a||!s.length)return s.slice();var c=a*a;return s=Lb(s,c),s=Ib(s,c),s}function Lm(s,a,c){return Math.sqrt(Es(s,a,c,!0))}function Cb(s,a,c){return Es(s,a,c)}function Ib(s,a){var c=s.length,h=typeof Uint8Array!=void 0+""?Uint8Array:Array,m=new h(c);m[0]=m[c-1]=1,mc(s,m,a,0,c-1);var S,I=[];for(S=0;S<c;S++)m[S]&&I.push(s[S]);return I}function mc(s,a,c,h,m){var S=0,I,R,D;for(R=h+1;R<=m-1;R++)D=Es(s[R],s[h],s[m],!0),D>S&&(I=R,S=D);S>c&&(a[I]=1,mc(s,a,c,h,I),mc(s,a,c,I,m))}function Lb(s,a){for(var c=[s[0]],h=1,m=0,S=s.length;h<S;h++)kb(s[h],s[m])>a&&(c.push(s[h]),m=h);return m<S-1&&c.push(s[S-1]),c}var km;function Om(s,a,c,h,m){var S=h?km:zi(s,c),I=zi(a,c),R,D,F;for(km=I;;){if(!(S|I))return[s,a];if(S&I)return!1;R=S||I,D=Qo(s,a,R,c,m),F=zi(D,c),R===S?(s=D,S=F):(a=D,I=F)}}function Qo(s,a,c,h,m){var S=a.x-s.x,I=a.y-s.y,R=h.min,D=h.max,F,Z;return c&8?(F=s.x+S*(D.y-s.y)/I,Z=D.y):c&4?(F=s.x+S*(R.y-s.y)/I,Z=R.y):c&2?(F=D.x,Z=s.y+I*(D.x-s.x)/S):c&1&&(F=R.x,Z=s.y+I*(R.x-s.x)/S),new U(F,Z,m)}function zi(s,a){var c=0;return s.x<a.min.x?c|=1:s.x>a.max.x&&(c|=2),s.y<a.min.y?c|=4:s.y>a.max.y&&(c|=8),c}function kb(s,a){var c=a.x-s.x,h=a.y-s.y;return c*c+h*h}function Es(s,a,c,h){var m=a.x,S=a.y,I=c.x-m,R=c.y-S,D=I*I+R*R,F;return D>0&&(F=((s.x-m)*I+(s.y-S)*R)/D,F>1?(m=c.x,S=c.y):F>0&&(m+=I*F,S+=R*F)),I=s.x-m,R=s.y-S,h?I*I+R*R:new U(m,S)}function kt(s){return!T(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Nm(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),kt(s)}function Rm(s,a){var c,h,m,S,I,R,D,F;if(!s||s.length===0)throw new Error("latlngs not passed");kt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Z=ee([0,0]),Y=ie(s),ae=Y.getNorthWest().distanceTo(Y.getSouthWest())*Y.getNorthEast().distanceTo(Y.getNorthWest());ae<1700&&(Z=pc(s));var st=s.length,$e=[];for(c=0;c<st;c++){var Ot=ee(s[c]);$e.push(a.project(ee([Ot.lat-Z.lat,Ot.lng-Z.lng])))}for(c=0,h=0;c<st-1;c++)h+=$e[c].distanceTo($e[c+1])/2;if(h===0)F=$e[0];else for(c=0,S=0;c<st-1;c++)if(I=$e[c],R=$e[c+1],m=I.distanceTo(R),S+=m,S>h){D=(S-h)/m,F=[R.x-D*(R.x-I.x),R.y-D*(R.y-I.y)];break}var dt=a.unproject(W(F));return ee([dt.lat+Z.lat,dt.lng+Z.lng])}var Ob={__proto__:null,simplify:Im,pointToSegmentDistance:Lm,closestPointOnSegment:Cb,clipSegment:Om,_getEdgeIntersection:Qo,_getBitCode:zi,_sqClosestPointOnSegment:Es,isFlat:kt,_flat:Nm,polylineCenter:Rm},gc={project:function(s){return new U(s.lng,s.lat)},unproject:function(s){return new se(s.y,s.x)},bounds:new J([-180,-90],[180,90])},vc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var a=Math.PI/180,c=this.R,h=s.lat*a,m=this.R_MINOR/c,S=Math.sqrt(1-m*m),I=S*Math.sin(h),R=Math.tan(Math.PI/4-h/2)/Math.pow((1-I)/(1+I),S/2);return h=-c*Math.log(Math.max(R,1e-10)),new U(s.lng*a*c,h)},unproject:function(s){for(var a=180/Math.PI,c=this.R,h=this.R_MINOR/c,m=Math.sqrt(1-h*h),S=Math.exp(-s.y/c),I=Math.PI/2-2*Math.atan(S),R=0,D=.1,F;R<15&&Math.abs(D)>1e-7;R++)F=m*Math.sin(I),F=Math.pow((1-F)/(1+F),m/2),D=Math.PI/2-2*Math.atan(S*F)-I,I+=D;return new se(I*a,s.x*a/c)}},Nb={__proto__:null,LonLat:gc,Mercator:vc,SphericalMercator:ms},Rb=r({},Ut,{code:"EPSG:3395",projection:vc,transformation:function(){var s=.5/(Math.PI*vc.R);return gs(s,.5,-s,.5)}()}),Am=r({},Ut,{code:"EPSG:4326",projection:gc,transformation:gs(1/180,1,-1/180,.5)}),Ab=r({},Je,{projection:gc,transformation:gs(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,a){var c=a.lng-s.lng,h=a.lat-s.lat;return Math.sqrt(c*c+h*h)},infinite:!0});Je.Earth=Ut,Je.EPSG3395=Rb,Je.EPSG3857=Vu,Je.EPSG900913=BS,Je.EPSG4326=Am,Je.Simple=Ab;var Ft=rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[u(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[u(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var a=s.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});ue.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var a=u(s);return this._layers[a]?this:(this._layers[a]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var a=u(s);return this._layers[a]?(this._loaded&&s.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return u(s)in this._layers},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},_addLayers:function(s){s=s?T(s)?s:[s]:[];for(var a=0,c=s.length;a<c;a++)this.addLayer(s[a])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[u(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var a=u(s);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,a=-1/0,c=this._getZoomSpan();for(var h in this._zoomBoundLayers){var m=this._zoomBoundLayers[h].options;s=m.minZoom===void 0?s:Math.min(s,m.minZoom),a=m.maxZoom===void 0?a:Math.max(a,m.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var gr=Ft.extend({initialize:function(s,a){b(this,a),this._layers={};var c,h;if(s)for(c=0,h=s.length;c<h;c++)this.addLayer(s[c])},addLayer:function(s){var a=this.getLayerId(s);return this._layers[a]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var a=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(s){var a=typeof s=="number"?s:this.getLayerId(s);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var a=Array.prototype.slice.call(arguments,1),c,h;for(c in this._layers)h=this._layers[c],h[s]&&h[s].apply(h,a);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return u(s)}}),Mb=function(s,a){return new gr(s,a)},gn=gr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),gr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),gr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ne;for(var a in this._layers){var c=this._layers[a];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),Db=function(s,a){return new gn(s,a)},vr=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){b(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,a){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(h,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(s,a){var c=this.options,h=c[a+"Size"];typeof h=="number"&&(h=[h,h]);var m=W(h),S=W(a==="shadow"&&c.shadowAnchor||c.iconAnchor||m&&m.divideBy(2,!0));s.className="leaflet-marker-"+a+" "+(c.className||""),S&&(s.style.marginLeft=-S.x+"px",s.style.marginTop=-S.y+"px"),m&&(s.style.width=m.x+"px",s.style.height=m.y+"px")},_createImg:function(s,a){return a=a||document.createElement("img"),a.src=s,a},_getIconUrl:function(s){return X.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function zb(s){return new vr(s)}var Ps=vr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Ps.imagePath!="string"&&(Ps.imagePath=this._detectIconPath()),(this.options.imagePath||Ps.imagePath)+vr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var a=function(c,h,m){var S=h.exec(c);return S&&S[m]};return s=a(s,/^url\((['"])?(.+)\1\)$/,2),s&&a(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=fe("div","leaflet-default-icon-path",document.body),a=ys(s,"background-image")||ys(s,"backgroundImage");if(document.body.removeChild(s),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Mm=en.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Vn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),oe(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Re(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var a=this._marker,c=a._map,h=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,S=Ai(a._icon),I=c.getPixelBounds(),R=c.getPixelOrigin(),D=H(I.min._subtract(R).add(m),I.max._subtract(R).subtract(m));if(!D.contains(S)){var F=W((Math.max(D.max.x,S.x)-D.max.x)/(I.max.x-D.max.x)-(Math.min(D.min.x,S.x)-D.min.x)/(I.min.x-D.min.x),(Math.max(D.max.y,S.y)-D.max.y)/(I.max.y-D.max.y)-(Math.min(D.min.y,S.y)-D.min.y)/(I.min.y-D.min.y)).multiplyBy(h);c.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),De(a._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=j(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,s)))},_onDrag:function(s){var a=this._marker,c=a._shadow,h=Ai(a._icon),m=a._map.layerPointToLatLng(h);c&&De(c,h),a._latlng=m,s.latlng=m,s.oldLatLng=this._oldLatLng,a.fire("move",s).fire("drag",s)},_onDragEnd:function(s){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ea=Ft.extend({options:{icon:new Ps,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,a){b(this,a),this._latlng=ee(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var a=this._latlng;return this._latlng=ee(s),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),h=!1;c!==this._icon&&(this._icon&&this._removeIcon(),h=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),oe(c,a),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(c,"focus",this._panOnFocus,this);var m=s.icon.createShadow(this._shadow),S=!1;m!==this._shadow&&(this._removeShadow(),S=!0),m&&(oe(m,a),m.alt=""),this._shadow=m,s.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&S&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&we(this._icon,"focus",this._panOnFocus,this),Ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ce(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&De(this._icon,s),this._shadow&&De(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mm)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mm(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Lt(this._icon,s),this._shadow&&Lt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var a=this.options.icon.options,c=a.iconSize?W(a.iconSize):W(0,0),h=a.iconAnchor?W(a.iconAnchor):W(0,0);s.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:c.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function jb(s,a){return new ea(s,a)}var Gn=Ft.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return b(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ta=Gn.extend({options:{fill:!0,radius:10},initialize:function(s,a){b(this,a),this._latlng=ee(s),this._radius=this.options.radius},setLatLng:function(s){var a=this._latlng;return this._latlng=ee(s),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var a=s&&s.radius||this._radius;return Gn.prototype.setStyle.call(this,s),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,a=this._radiusY||s,c=this._clickTolerance(),h=[s+c,a+c];this._pxBounds=new J(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ub(s,a){return new ta(s,a)}var _c=ta.extend({initialize:function(s,a,c){if(typeof a=="number"&&(a=r({},c,{radius:a})),b(this,a),this._latlng=ee(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ne(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Gn.prototype.setStyle,_project:function(){var s=this._latlng.lng,a=this._latlng.lat,c=this._map,h=c.options.crs;if(h.distance===Ut.distance){var m=Math.PI/180,S=this._mRadius/Ut.R/m,I=c.project([a+S,s]),R=c.project([a-S,s]),D=I.add(R).divideBy(2),F=c.unproject(D).lat,Z=Math.acos((Math.cos(S*m)-Math.sin(a*m)*Math.sin(F*m))/(Math.cos(a*m)*Math.cos(F*m)))/m;(isNaN(Z)||Z===0)&&(Z=S/Math.cos(Math.PI/180*a)),this._point=D.subtract(c.getPixelOrigin()),this._radius=isNaN(Z)?0:D.x-c.project([F,s-Z]).x,this._radiusY=D.y-I.y}else{var Y=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Y).x}this._updateBounds()}});function Bb(s,a,c){return new _c(s,a,c)}var vn=Gn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,a){b(this,a),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var a=1/0,c=null,h=Es,m,S,I=0,R=this._parts.length;I<R;I++)for(var D=this._parts[I],F=1,Z=D.length;F<Z;F++){m=D[F-1],S=D[F];var Y=h(s,m,S,!0);Y<a&&(a=Y,c=h(s,m,S))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rm(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,a){return a=a||this._defaultShape(),s=ee(s),a.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ne,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return kt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var a=[],c=kt(s),h=0,m=s.length;h<m;h++)c?(a[h]=ee(s[h]),this._bounds.extend(a[h])):a[h]=this._convertLatLngs(s[h]);return a},_project:function(){var s=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),a=new U(s,s);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(s,a,c){var h=s[0]instanceof se,m=s.length,S,I;if(h){for(I=[],S=0;S<m;S++)I[S]=this._map.latLngToLayerPoint(s[S]),c.extend(I[S]);a.push(I)}else for(S=0;S<m;S++)this._projectLatlngs(s[S],a,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,h,m,S,I,R,D;for(c=0,m=0,S=this._rings.length;c<S;c++)for(D=this._rings[c],h=0,I=D.length;h<I-1;h++)R=Om(D[h],D[h+1],s,h,!0),R&&(a[m]=a[m]||[],a[m].push(R[0]),(R[1]!==D[h+1]||h===I-2)&&(a[m].push(R[1]),m++))}},_simplifyPoints:function(){for(var s=this._parts,a=this.options.smoothFactor,c=0,h=s.length;c<h;c++)s[c]=Im(s[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,a){var c,h,m,S,I,R,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,S=this._parts.length;c<S;c++)for(R=this._parts[c],h=0,I=R.length,m=I-1;h<I;m=h++)if(!(!a&&h===0)&&Lm(s,R[m],R[h])<=D)return!0;return!1}});function Fb(s,a){return new vn(s,a)}vn._flat=Nm;var _r=vn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cm(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var a=vn.prototype._convertLatLngs.call(this,s),c=a.length;return c>=2&&a[0]instanceof se&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(s){vn.prototype._setLatLngs.call(this,s),kt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return kt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,a=this.options.weight,c=new U(a,a);if(s=new J(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,m=this._rings.length,S;h<m;h++)S=Pm(this._rings[h],s,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var a=!1,c,h,m,S,I,R,D,F;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(S=0,D=this._parts.length;S<D;S++)for(c=this._parts[S],I=0,F=c.length,R=F-1;I<F;R=I++)h=c[I],m=c[R],h.y>s.y!=m.y>s.y&&s.x<(m.x-h.x)*(s.y-h.y)/(m.y-h.y)+h.x&&(a=!a);return a||vn.prototype._containsPoint.call(this,s,!0)}});function $b(s,a){return new _r(s,a)}var _n=gn.extend({initialize:function(s,a){b(this,a),this._layers={},s&&this.addData(s)},addData:function(s){var a=T(s)?s:s.features,c,h,m;if(a){for(c=0,h=a.length;c<h;c++)m=a[c],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var S=this.options;if(S.filter&&!S.filter(s))return this;var I=na(s,S);return I?(I.feature=sa(s),I.defaultOptions=I.options,this.resetStyle(I),S.onEachFeature&&S.onEachFeature(s,I),this.addLayer(I)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(a){this._setLayerStyle(a,s)},this)},_setLayerStyle:function(s,a){s.setStyle&&(typeof a=="function"&&(a=a(s.feature)),s.setStyle(a))}});function na(s,a){var c=s.type==="Feature"?s.geometry:s,h=c?c.coordinates:null,m=[],S=a&&a.pointToLayer,I=a&&a.coordsToLatLng||yc,R,D,F,Z;if(!h&&!c)return null;switch(c.type){case"Point":return R=I(h),Dm(S,s,R,a);case"MultiPoint":for(F=0,Z=h.length;F<Z;F++)R=I(h[F]),m.push(Dm(S,s,R,a));return new gn(m);case"LineString":case"MultiLineString":return D=ia(h,c.type==="LineString"?0:1,I),new vn(D,a);case"Polygon":case"MultiPolygon":return D=ia(h,c.type==="Polygon"?1:2,I),new _r(D,a);case"GeometryCollection":for(F=0,Z=c.geometries.length;F<Z;F++){var Y=na({geometry:c.geometries[F],type:"Feature",properties:s.properties},a);Y&&m.push(Y)}return new gn(m);case"FeatureCollection":for(F=0,Z=c.features.length;F<Z;F++){var ae=na(c.features[F],a);ae&&m.push(ae)}return new gn(m);default:throw new Error("Invalid GeoJSON object.")}}function Dm(s,a,c,h){return s?s(a,c):new ea(c,h&&h.markersInheritOptions&&h)}function yc(s){return new se(s[1],s[0],s[2])}function ia(s,a,c){for(var h=[],m=0,S=s.length,I;m<S;m++)I=a?ia(s[m],a-1,c):(c||yc)(s[m]),h.push(I);return h}function wc(s,a){return s=ee(s),s.alt!==void 0?[v(s.lng,a),v(s.lat,a),v(s.alt,a)]:[v(s.lng,a),v(s.lat,a)]}function ra(s,a,c,h){for(var m=[],S=0,I=s.length;S<I;S++)m.push(a?ra(s[S],kt(s[S])?0:a-1,c,h):wc(s[S],h));return!a&&c&&m.length>0&&m.push(m[0].slice()),m}function yr(s,a){return s.feature?r({},s.feature,{geometry:a}):sa(a)}function sa(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var xc={toGeoJSON:function(s){return yr(this,{type:"Point",coordinates:wc(this.getLatLng(),s)})}};ea.include(xc),_c.include(xc),ta.include(xc),vn.include({toGeoJSON:function(s){var a=!kt(this._latlngs),c=ra(this._latlngs,a?1:0,!1,s);return yr(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),_r.include({toGeoJSON:function(s){var a=!kt(this._latlngs),c=a&&!kt(this._latlngs[0]),h=ra(this._latlngs,c?2:a?1:0,!0,s);return a||(h=[h]),yr(this,{type:(c?"Multi":"")+"Polygon",coordinates:h})}}),gr.include({toMultiPoint:function(s){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(s).geometry.coordinates)}),yr(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(s){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(s);var c=a==="GeometryCollection",h=[];return this.eachLayer(function(m){if(m.toGeoJSON){var S=m.toGeoJSON(s);if(c)h.push(S.geometry);else{var I=sa(S);I.type==="FeatureCollection"?h.push.apply(h,I.features):h.push(I)}}}),c?yr(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function zm(s,a){return new _n(s,a)}var Hb=zm,oa=Ft.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,a,c){this._url=s,this._bounds=ie(a),b(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&pr(this._image),this},bringToBack:function(){return this._map&&mr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ie(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",a=this._image=s?this._url:fe("img");if(oe(a,"leaflet-image-layer"),this._zoomAnimated&&oe(a,"leaflet-zoom-animated"),this.options.className&&oe(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(s){var a=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ri(this._image,c,a)},_reset:function(){var s=this._image,a=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();De(s,a.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){Lt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Wb=function(s,a,c){return new oa(s,a,c)},jm=oa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",a=this._image=s?this._url:fe("video");if(oe(a,"leaflet-image-layer"),this._zoomAnimated&&oe(a,"leaflet-zoom-animated"),this.options.className&&oe(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onloadeddata=l(this.fire,this,"load"),s){for(var c=a.getElementsByTagName("source"),h=[],m=0;m<c.length;m++)h.push(c[m].src);this._url=c.length>0?h:[a.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var I=fe("source");I.src=this._url[S],a.appendChild(I)}}});function Vb(s,a,c){return new jm(s,a,c)}var Um=oa.extend({_initImage:function(){var s=this._image=this._url;oe(s,"leaflet-image-layer"),this._zoomAnimated&&oe(s,"leaflet-zoom-animated"),this.options.className&&oe(s,this.options.className),s.onselectstart=g,s.onmousemove=g}});function Gb(s,a,c){return new Um(s,a,c)}var tn=Ft.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,a){s&&(s instanceof se||T(s))?(this._latlng=ee(s),b(this,a)):(b(this,s),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Lt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Lt(this._container,1),this.bringToFront(),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Lt(this._container,0),this._removeTimeout=setTimeout(l(Ce,void 0,this._container),200)):Ce(this._container),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ee(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pr(this._container),this},bringToBack:function(){return this._map&&mr(this._container),this},_prepareOpen:function(s){var a=this._source;if(!a._map)return!1;if(a instanceof gn){a=null;var c=this._source._layers;for(var h in c)if(c[h]._map){a=c[h];break}if(!a)return!1;this._source=a}if(!s)if(a.getCenter)s=a.getCenter();else if(a.getLatLng)s=a.getLatLng();else if(a.getBounds)s=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")s.innerHTML=a;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),a=W(this.options.offset),c=this._getAnchor();this._zoomAnimated?De(this._container,s.add(c)):a=a.add(s).add(c);var h=this._containerBottom=-a.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=h+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});ue.include({_initOverlay:function(s,a,c,h){var m=a;return m instanceof s||(m=new s(h).setContent(a)),c&&m.setLatLng(c),m}}),Ft.include({_initOverlay:function(s,a,c,h){var m=c;return m instanceof s?(b(m,h),m._source=this):(m=a&&!h?a:new s(h,this),m.setContent(c)),m}});var aa=tn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,tn.prototype.openOn.call(this,s)},onAdd:function(s){tn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gn||this._source.on("preclick",Mi))},onRemove:function(s){tn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gn||this._source.off("preclick",Mi))},getEvents:function(){var s=tn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",a=this._container=fe("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=fe("div",s+"-content-wrapper",a);if(this._contentNode=fe("div",s+"-content",c),bs(a),cc(this._contentNode),re(a,"contextmenu",Mi),this._tipContainer=fe("div",s+"-tip-container",a),this._tip=fe("div",s+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=fe("a",s+"-close-button",a);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',re(h,"click",function(m){Ze(m),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,a=s.style;a.width="",a.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var h=s.offsetHeight,m=this.options.maxHeight,S="leaflet-popup-scrolled";m&&h>m?(a.height=m+"px",oe(s,S)):Re(s,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();De(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,a=parseInt(ys(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,h=this._containerWidth,m=new U(this._containerLeft,-c-this._containerBottom);m._add(Ai(this._container));var S=s.layerPointToContainerPoint(m),I=W(this.options.autoPanPadding),R=W(this.options.autoPanPaddingTopLeft||I),D=W(this.options.autoPanPaddingBottomRight||I),F=s.getSize(),Z=0,Y=0;S.x+h+D.x>F.x&&(Z=S.x+h-F.x+D.x),S.x-Z-R.x<0&&(Z=S.x-R.x),S.y+c+D.y>F.y&&(Y=S.y+c-F.y+D.y),S.y-Y-R.y<0&&(Y=S.y-R.y),(Z||Y)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Z,Y]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Zb=function(s,a){return new aa(s,a)};ue.mergeOptions({closePopupOnClick:!0}),ue.include({openPopup:function(s,a,c){return this._initOverlay(aa,s,a,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Ft.include({bindPopup:function(s,a){return this._popup=this._initOverlay(aa,this._popup,s,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof gn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Di(s);var a=s.layer||s.target;if(this._popup._source===a&&!(a instanceof Gn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=a,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var la=tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){tn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){tn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=tn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",a=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=fe("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var a,c,h=this._map,m=this._container,S=h.latLngToContainerPoint(h.getCenter()),I=h.layerPointToContainerPoint(s),R=this.options.direction,D=m.offsetWidth,F=m.offsetHeight,Z=W(this.options.offset),Y=this._getAnchor();R==="top"?(a=D/2,c=F):R==="bottom"?(a=D/2,c=0):R==="center"?(a=D/2,c=F/2):R==="right"?(a=0,c=F/2):R==="left"?(a=D,c=F/2):I.x<S.x?(R="right",a=0,c=F/2):(R="left",a=D+(Z.x+Y.x)*2,c=F/2),s=s.subtract(W(a,c,!0)).add(Z).add(Y),Re(m,"leaflet-tooltip-right"),Re(m,"leaflet-tooltip-left"),Re(m,"leaflet-tooltip-top"),Re(m,"leaflet-tooltip-bottom"),oe(m,"leaflet-tooltip-"+R),De(m,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Lt(this._container,s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(a)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),qb=function(s,a){return new la(s,a)};ue.include({openTooltip:function(s,a,c){return this._initOverlay(la,s,a,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Ft.include({bindTooltip:function(s,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(la,this._tooltip,s,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var a=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof gn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&(re(a,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),re(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var a=s.latlng,c,h;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),h=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(a)}});var Bm=vr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var a=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(qo(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var h=W(c.bgPos);a.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Kb(s){return new Bm(s)}vr.Default=Ps;var Cs=Ft.extend({options:{tileSize:256,opacity:1,updateWhenIdle:X.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){b(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Ce(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(pr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(mr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof U?s:new U(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var a=this.getPane().children,c=-s(-1/0,1/0),h=0,m=a.length,S;h<m;h++)S=a[h].style.zIndex,a[h]!==this._container&&S&&(c=s(c,+S));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!X.ielt9){Lt(this._container,this.options.opacity);var s=+new Date,a=!1,c=!1;for(var h in this._tiles){var m=this._tiles[h];if(!(!m.current||!m.loaded)){var S=Math.min(1,(s-m.loaded)/200);Lt(m.el,S),S<1?a=!0:(m.active?c=!0:this._onOpaqueTile(m),m.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(G(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,a=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=a-Math.abs(s-c),this._onUpdateLevel(c)):(Ce(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var h=this._levels[s],m=this._map;return h||(h=this._levels[s]={},h.el=fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=a,h.origin=m.project(m.unproject(m.getPixelOrigin()),s).round(),h.zoom=s,this._setZoomTransform(h,m.getCenter(),m.getZoom()),g(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var s,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)a=this._tiles[s],a.retain=a.current;for(s in this._tiles)if(a=this._tiles[s],a.current&&!a.active){var h=a.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var a in this._tiles)this._tiles[a].coords.z===s&&this._removeTile(a)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Ce(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,a,c,h){var m=Math.floor(s/2),S=Math.floor(a/2),I=c-1,R=new U(+m,+S);R.z=+I;var D=this._tileCoordsToKey(R),F=this._tiles[D];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),I>h?this._retainParent(m,S,I,h):!1)},_retainChildren:function(s,a,c,h){for(var m=2*s;m<2*s+2;m++)for(var S=2*a;S<2*a+2;S++){var I=new U(m,S);I.z=c+1;var R=this._tileCoordsToKey(I),D=this._tiles[R];if(D&&D.active){D.retain=!0;continue}else D&&D.loaded&&(D.retain=!0);c+1<h&&this._retainChildren(m,S,c+1,h)}},_resetView:function(s){var a=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var a=this.options;return a.minNativeZoom!==void 0&&s<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<s?a.maxNativeZoom:s},_setView:function(s,a,c,h){var m=Math.round(a);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var S=this.options.updateWhenZooming&&m!==this._tileZoom;(!h||S)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,a)},_setZoomTransforms:function(s,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,a)},_setZoomTransform:function(s,a,c){var h=this._map.getZoomScale(c,s.zoom),m=s.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(a,c)).round();X.any3d?Ri(s.el,m,h):De(s.el,m)},_resetGrid:function(){var s=this._map,a=s.options.crs,c=this._tileSize=this.getTileSize(),h=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,a.wrapLng[0]],h).x/c.x),Math.ceil(s.project([0,a.wrapLng[1]],h).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([a.wrapLat[0],0],h).y/c.x),Math.ceil(s.project([a.wrapLat[1],0],h).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),h=a.getZoomScale(c,this._tileZoom),m=a.project(s,this._tileZoom).floor(),S=a.getSize().divideBy(h*2);return new J(m.subtract(S),m.add(S))},_update:function(s){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(s===void 0&&(s=a.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(s),m=this._pxBoundsToTileRange(h),S=m.getCenter(),I=[],R=this.options.keepBuffer,D=new J(m.getBottomLeft().subtract([R,-R]),m.getTopRight().add([R,-R]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var Z=this._tiles[F].coords;(Z.z!==this._tileZoom||!D.contains(new U(Z.x,Z.y)))&&(this._tiles[F].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var Y=m.min.y;Y<=m.max.y;Y++)for(var ae=m.min.x;ae<=m.max.x;ae++){var st=new U(ae,Y);if(st.z=this._tileZoom,!!this._isValidTile(st)){var $e=this._tiles[this._tileCoordsToKey(st)];$e?$e.current=!0:I.push(st)}}if(I.sort(function(dt,xr){return dt.distanceTo(S)-xr.distanceTo(S)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ot=document.createDocumentFragment();for(ae=0;ae<I.length;ae++)this._addTile(I[ae],Ot);this._level.el.appendChild(Ot)}}}},_isValidTile:function(s){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!a.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(s);return ie(this.options.bounds).overlaps(h)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var a=this._map,c=this.getTileSize(),h=s.scaleBy(c),m=h.add(c),S=a.unproject(h,s.z),I=a.unproject(m,s.z);return[S,I]},_tileCoordsToBounds:function(s){var a=this._tileCoordsToNwSe(s),c=new ne(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var a=s.split(":"),c=new U(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(s){var a=this._tiles[s];a&&(Ce(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){oe(s,"leaflet-tile");var a=this.getTileSize();s.style.width=a.x+"px",s.style.height=a.y+"px",s.onselectstart=g,s.onmousemove=g,X.ielt9&&this.options.opacity<1&&Lt(s,this.options.opacity)},_addTile:function(s,a){var c=this._getTilePos(s),h=this._tileCoordsToKey(s),m=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(m),this.createTile.length<2&&j(l(this._tileReady,this,s,null,m)),De(m,c),this._tiles[h]={el:m,coords:s,current:!0},a.appendChild(m),this.fire("tileloadstart",{tile:m,coords:s})},_tileReady:function(s,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:s});var h=this._tileCoordsToKey(s);c=this._tiles[h],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Lt(c.el,0),G(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(oe(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),X.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var a=new U(this._wrapX?p(s.x,this._wrapX):s.x,this._wrapY?p(s.y,this._wrapY):s.y);return a.z=s.z,a},_pxBoundsToTileRange:function(s){var a=this.getTileSize();return new J(s.min.unscaleBy(a).floor(),s.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Xb(s){return new Cs(s)}var wr=Cs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,a){this._url=s,a=b(this,a),a.detectRetina&&X.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,a){return this._url===s&&a===void 0&&(a=!0),this._url=s,a||this.redraw(),this},createTile:function(s,a){var c=document.createElement("img");return re(c,"load",l(this._tileOnLoad,this,a,c)),re(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var a={r:X.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(a.y=c),a["-y"]=c}return y(this._url,r(a,this.options))},_tileOnLoad:function(s,a){X.ielt9?setTimeout(l(s,this,null,a),0):s(null,a)},_tileOnError:function(s,a,c){var h=this.options.errorTileUrl;h&&a.getAttribute("src")!==h&&(a.src=h),s(c,a)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,h=this.options.zoomOffset;return c&&(s=a-s),s+h},_getSubdomain:function(s){var a=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var s,a;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(a=this._tiles[s].el,a.onload=g,a.onerror=g,!a.complete)){a.src=N;var c=this._tiles[s].coords;Ce(a),delete this._tiles[s],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(s){var a=this._tiles[s];if(a)return a.el.setAttribute("src",N),Cs.prototype._removeTile.call(this,s)},_tileReady:function(s,a,c){if(!(!this._map||c&&c.getAttribute("src")===N))return Cs.prototype._tileReady.call(this,s,a,c)}});function Fm(s,a){return new wr(s,a)}var $m=wr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,a){this._url=s;var c=r({},this.defaultWmsParams);for(var h in a)h in this.options||(c[h]=a[h]);a=b(this,a);var m=a.detectRetina&&X.retina?2:1,S=this.getTileSize();c.width=S.x*m,c.height=S.y*m,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,wr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var a=this._tileCoordsToNwSe(s),c=this._crs,h=H(c.project(a[0]),c.project(a[1])),m=h.min,S=h.max,I=(this._wmsVersion>=1.3&&this._crs===Am?[m.y,m.x,S.y,S.x]:[m.x,m.y,S.x,S.y]).join(","),R=wr.prototype.getTileUrl.call(this,s);return R+C(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(s,a){return r(this.wmsParams,s),a||this.redraw(),this}});function Jb(s,a){return new $m(s,a)}wr.WMS=$m,Fm.wms=Jb;var yn=Ft.extend({options:{padding:.1},initialize:function(s){b(this,s),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,a){var c=this._map.getZoomScale(a,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,a),S=h.multiplyBy(-c).add(m).subtract(this._map._getNewPixelOrigin(s,a));X.any3d?Ri(this._container,S,c):De(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-s)).round();this._bounds=new J(c,c.add(a.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hm=yn.extend({options:{tolerance:0},getEvents:function(){var s=yn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");re(s,"mousemove",this._onMouseMove,this),re(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),re(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Ce(this._container),we(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var a in this._layers)s=this._layers[a],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yn.prototype._update.call(this);var s=this._bounds,a=this._container,c=s.getSize(),h=X.retina?2:1;De(a,s.min),a.width=h*c.x,a.height=h*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",X.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){yn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[u(s)]=s;var a=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var a=s._order,c=a.next,h=a.prev;c?c.prev=h:this._drawLast=h,h?h.next=c:this._drawFirst=c,delete s._order,delete this._layers[u(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var a=s.options.dashArray.split(/[, ]+/),c=[],h,m;for(m=0;m<a.length;m++){if(h=Number(a[m]),isNaN(h))return;c.push(h)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var a=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(s._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(s._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var a=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)s=h.layer,(!a||s._pxBounds&&s._pxBounds.intersects(a))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,a){if(this._drawing){var c,h,m,S,I=s._parts,R=I.length,D=this._ctx;if(R){for(D.beginPath(),c=0;c<R;c++){for(h=0,m=I[c].length;h<m;h++)S=I[c][h],D[h?"lineTo":"moveTo"](S.x,S.y);a&&D.closePath()}this._fillStroke(D,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var a=s._point,c=this._ctx,h=Math.max(Math.round(s._radius),1),m=(Math.max(Math.round(s._radiusY),1)||h)/h;m!==1&&(c.save(),c.scale(1,m)),c.beginPath(),c.arc(a.x,a.y/m,h,0,Math.PI*2,!1),m!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,a){var c=a.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(a.options&&a.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var a=this._map.mouseEventToLayerPoint(s),c,h,m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(a)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(h=c);this._fireEvent(h?[h]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,a)}},_handleMouseOut:function(s){var a=this._hoveredLayer;a&&(Re(this._container,"leaflet-interactive"),this._fireEvent([a],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,a){if(!this._mouseHoverThrottled){for(var c,h,m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(a)&&(h=c);h!==this._hoveredLayer&&(this._handleMouseOut(s),h&&(oe(this._container,"leaflet-interactive"),this._fireEvent([h],s,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,a,c){this._map._fireDOMEvent(a,c||a.type,s)},_bringToFront:function(s){var a=s._order;if(a){var c=a.next,h=a.prev;if(c)c.prev=h;else return;h?h.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(s)}},_bringToBack:function(s){var a=s._order;if(a){var c=a.next,h=a.prev;if(h)h.next=c;else return;c?c.prev=h:h&&(this._drawLast=h),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(s)}}});function Wm(s){return X.canvas?new Hm(s):null}var Is=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Yb={_initContainer:function(){this._container=fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var a=s._container=Is("shape");oe(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",s._path=Is("path"),a.appendChild(s._path),this._updateStyle(s),this._layers[u(s)]=s},_addPath:function(s){var a=s._container;this._container.appendChild(a),s.options.interactive&&s.addInteractiveTarget(a)},_removePath:function(s){var a=s._container;Ce(a),s.removeInteractiveTarget(a),delete this._layers[u(s)]},_updateStyle:function(s){var a=s._stroke,c=s._fill,h=s.options,m=s._container;m.stroked=!!h.stroke,m.filled=!!h.fill,h.stroke?(a||(a=s._stroke=Is("stroke")),m.appendChild(a),a.weight=h.weight+"px",a.color=h.color,a.opacity=h.opacity,h.dashArray?a.dashStyle=T(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=h.lineCap.replace("butt","flat"),a.joinstyle=h.lineJoin):a&&(m.removeChild(a),s._stroke=null),h.fill?(c||(c=s._fill=Is("fill")),m.appendChild(c),c.color=h.fillColor||h.color,c.opacity=h.fillOpacity):c&&(m.removeChild(c),s._fill=null)},_updateCircle:function(s){var a=s._point.round(),c=Math.round(s._radius),h=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+h+" 0,"+65535*360)},_setPath:function(s,a){s._path.v=a},_bringToFront:function(s){pr(s._container)},_bringToBack:function(s){mr(s._container)}},ua=X.vml?Is:qp,Ls=yn.extend({_initContainer:function(){this._container=ua("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ua("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ce(this._container),we(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yn.prototype._update.call(this);var s=this._bounds,a=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),De(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(s){var a=s._path=ua("path");s.options.className&&oe(a,s.options.className),s.options.interactive&&oe(a,"leaflet-interactive"),this._updateStyle(s),this._layers[u(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Ce(s._path),s.removeInteractiveTarget(s._path),delete this._layers[u(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var a=s._path,c=s.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(s,a){this._setPath(s,Kp(s._parts,a))},_updateCircle:function(s){var a=s._point,c=Math.max(Math.round(s._radius),1),h=Math.max(Math.round(s._radiusY),1)||c,m="a"+c+","+h+" 0 1,0 ",S=s._empty()?"M0 0":"M"+(a.x-c)+","+a.y+m+c*2+",0 "+m+-c*2+",0 ";this._setPath(s,S)},_setPath:function(s,a){s._path.setAttribute("d",a)},_bringToFront:function(s){pr(s._path)},_bringToBack:function(s){mr(s._path)}});X.vml&&Ls.include(Yb);function Vm(s){return X.svg||X.vml?new Ls(s):null}ue.include({getRenderer:function(s){var a=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var a=this._paneRenderers[s];return a===void 0&&(a=this._createRenderer({pane:s}),this._paneRenderers[s]=a),a},_createRenderer:function(s){return this.options.preferCanvas&&Wm(s)||Vm(s)}});var Gm=_r.extend({initialize:function(s,a){_r.prototype.initialize.call(this,this._boundsToLatLngs(s),a)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ie(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Qb(s,a){return new Gm(s,a)}Ls.create=ua,Ls.pointsToPath=Kp,_n.geometryToLayer=na,_n.coordsToLatLng=yc,_n.coordsToLatLngs=ia,_n.latLngToCoords=wc,_n.latLngsToCoords=ra,_n.getFeature=yr,_n.asFeature=sa,ue.mergeOptions({boxZoom:!0});var Zm=en.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){we(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ws(),nc(),this._startPoint=this._map.mouseEventToContainerPoint(s),re(document,{contextmenu:Di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=fe("div","leaflet-zoom-box",this._container),oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var a=new J(this._point,this._startPoint),c=a.getSize();De(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Ce(this._box),Re(this._container,"leaflet-crosshair")),xs(),ic(),we(document,{contextmenu:Di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ue.addInitHook("addHandler","boxZoom",Zm),ue.mergeOptions({doubleClickZoom:!0});var qm=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var a=this._map,c=a.getZoom(),h=a.options.zoomDelta,m=s.originalEvent.shiftKey?c-h:c+h;a.options.doubleClickZoom==="center"?a.setZoom(m):a.setZoomAround(s.containerPoint,m)}});ue.addInitHook("addHandler","doubleClickZoom",qm),ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Km=en.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Vn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Re(this._map._container,"leaflet-grab"),Re(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ie(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,a){return s-(s-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;s.x<a.min.x&&(s.x=this._viscousLimit(s.x,a.min.x)),s.y<a.min.y&&(s.y=this._viscousLimit(s.y,a.min.y)),s.x>a.max.x&&(s.x=this._viscousLimit(s.x,a.max.x)),s.y>a.max.y&&(s.y=this._viscousLimit(s.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,a=Math.round(s/2),c=this._initialWorldOffset,h=this._draggable._newPos.x,m=(h-a+c)%s+a-c,S=(h+a+c)%s-a-c,I=Math.abs(m+c)<Math.abs(S+c)?m:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(s){var a=this._map,c=a.options,h=!c.inertia||s.noInertia||this._times.length<2;if(a.fire("dragend",s),h)a.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,I=c.easeLinearity,R=m.multiplyBy(I/S),D=R.distanceTo([0,0]),F=Math.min(c.inertiaMaxSpeed,D),Z=R.multiplyBy(F/D),Y=F/(c.inertiaDeceleration*I),ae=Z.multiplyBy(-Y/2).round();!ae.x&&!ae.y?a.fire("moveend"):(ae=a._limitOffset(ae,a.options.maxBounds),j(function(){a.panBy(ae,{duration:Y,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});ue.addInitHook("addHandler","dragging",Km),ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Xm=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),re(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),we(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,a=document.documentElement,c=s.scrollTop||a.scrollTop,h=s.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(h,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var a=this._panKeys={},c=this.keyCodes,h,m;for(h=0,m=c.left.length;h<m;h++)a[c.left[h]]=[-1*s,0];for(h=0,m=c.right.length;h<m;h++)a[c.right[h]]=[s,0];for(h=0,m=c.down.length;h<m;h++)a[c.down[h]]=[0,s];for(h=0,m=c.up.length;h<m;h++)a[c.up[h]]=[0,-1*s]},_setZoomDelta:function(s){var a=this._zoomKeys={},c=this.keyCodes,h,m;for(h=0,m=c.zoomIn.length;h<m;h++)a[c.zoomIn[h]]=s;for(h=0,m=c.zoomOut.length;h<m;h++)a[c.zoomOut[h]]=-s},_addHooks:function(){re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){we(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var a=s.keyCode,c=this._map,h;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(h=this._panKeys[a],s.shiftKey&&(h=W(h).multiplyBy(3)),c.options.maxBounds&&(h=c._limitOffset(W(h),c.options.maxBounds)),c.options.worldCopyJump){var m=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(h)));c.panTo(m)}else c.panBy(h)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Di(s)}}});ue.addInitHook("addHandler","keyboard",Xm),ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Jm=en.extend({addHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){we(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var a=xm(s),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var h=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),h),Di(s)},_performZoom:function(){var s=this._map,a=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,S=c?Math.ceil(m/c)*c:m,I=s._limitZoom(a+(this._delta>0?S:-S))-a;this._delta=0,this._startTime=null,I&&(s.options.scrollWheelZoom==="center"?s.setZoom(a+I):s.setZoomAround(this._lastMousePos,a+I))}});ue.addInitHook("addHandler","scrollWheelZoom",Jm);var e1=600;ue.mergeOptions({tapHold:X.touchNative&&X.safari&&X.mobile,tapTolerance:15});var Ym=en.extend({addHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){we(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var a=s.touches[0];this._startPos=this._newPos=new U(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(re(document,"touchend",Ze),re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),e1),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){we(document,"touchend",Ze),we(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),we(document,"touchend touchcancel contextmenu",this._cancel,this),we(document,"touchmove",this._onMove,this)},_onMove:function(s){var a=s.touches[0];this._newPos=new U(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,a){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});ue.addInitHook("addHandler","tapHold",Ym),ue.mergeOptions({touchZoom:X.touch,bounceAtZoomLimits:!0});var Qm=en.extend({addHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),we(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var a=this._map;if(!(!s.touches||s.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(s.touches[0]),h=a.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(h)._divideBy(2))),this._startDist=c.distanceTo(h),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),Ze(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(s.touches[0]),h=a.mouseEventToContainerPoint(s.touches[1]),m=c.distanceTo(h)/this._startDist;if(this._zoom=a.getScaleZoom(m,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&m<1||this._zoom>a.getMaxZoom()&&m>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var S=c._add(h)._divideBy(2)._subtract(this._centerPoint);if(m===1&&S.x===0&&S.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var I=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(I,this,!0),Ze(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),we(document,"touchmove",this._onTouchMove,this),we(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ue.addInitHook("addHandler","touchZoom",Qm),ue.BoxZoom=Zm,ue.DoubleClickZoom=qm,ue.Drag=Km,ue.Keyboard=Xm,ue.ScrollWheelZoom=Jm,ue.TapHold=Ym,ue.TouchZoom=Qm,n.Bounds=J,n.Browser=X,n.CRS=Je,n.Canvas=Hm,n.Circle=_c,n.CircleMarker=ta,n.Class=ce,n.Control=Bt,n.DivIcon=Bm,n.DivOverlay=tn,n.DomEvent=_b,n.DomUtil=gb,n.Draggable=Vn,n.Evented=rt,n.FeatureGroup=gn,n.GeoJSON=_n,n.GridLayer=Cs,n.Handler=en,n.Icon=vr,n.ImageOverlay=oa,n.LatLng=se,n.LatLngBounds=ne,n.Layer=Ft,n.LayerGroup=gr,n.LineUtil=Ob,n.Map=ue,n.Marker=ea,n.Mixin=Eb,n.Path=Gn,n.Point=U,n.PolyUtil=Pb,n.Polygon=_r,n.Polyline=vn,n.Popup=aa,n.PosAnimation=Sm,n.Projection=Nb,n.Rectangle=Gm,n.Renderer=yn,n.SVG=Ls,n.SVGOverlay=Um,n.TileLayer=wr,n.Tooltip=la,n.Transformation=Wu,n.Util=Q,n.VideoOverlay=jm,n.bind=l,n.bounds=H,n.canvas=Wm,n.circle=Bb,n.circleMarker=Ub,n.control=Ts,n.divIcon=Kb,n.extend=r,n.featureGroup=Db,n.geoJSON=zm,n.geoJson=Hb,n.gridLayer=Xb,n.icon=zb,n.imageOverlay=Wb,n.latLng=ee,n.latLngBounds=ie,n.layerGroup=Mb,n.map=yb,n.marker=jb,n.point=W,n.polygon=$b,n.polyline=Fb,n.popup=Zb,n.rectangle=Qb,n.setOptions=b,n.stamp=u,n.svg=Vm,n.svgOverlay=Gb,n.tileLayer=Fm,n.tooltip=qb,n.transformation=gs,n.version=i,n.videoOverlay=Vb;var t1=window.L;n.noConflict=function(){return window.L=t1,this},window.L=n})})(Df,Df.exports);var O=Df.exports;const sS=Zf(O);function Dp(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function zp(e,t){return t==null?function(i,r){const o=k.useRef();return o.current||(o.current=e(i,r)),o}:function(i,r){const o=k.useRef();o.current||(o.current=e(i,r));const l=k.useRef(i),{instance:d}=o.current;return k.useEffect(function(){l.current!==i&&(t(d,i,l.current),l.current=i)},[d,i,r]),o}}function vM(e,t){k.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function oS(e){return function(n){const i=Ap(),r=e(Mp(n,i),i);return tS(i.map,n.attribution),rS(r.current,n.eventHandlers),vM(r.current,i),r}}function _M(e,t){const n=zp(e,t),i=oS(n);return hM(i)}function yM(e,t){const n=zp(e),i=gM(n,t);return pM(i)}function wM(e,t){const n=zp(e,t),i=oS(n);return mM(i)}function xM(e,t,n){const{opacity:i,zIndex:r}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),r!=null&&r!==n.zIndex&&e.setZIndex(r)}function SM(){return Ap().map}function zf(){return zf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zf.apply(this,arguments)}function bM({bounds:e,boundsOptions:t,center:n,children:i,className:r,id:o,placeholder:l,style:d,whenReady:u,zoom:f,...p},g){const[v]=k.useState({className:r,id:o,style:d}),[w,E]=k.useState(null);k.useImperativeHandle(g,()=>(w==null?void 0:w.map)??null,[w]);const b=k.useCallback(x=>{if(x!==null&&w===null){const y=new O.Map(x,p);n!=null&&f!=null?y.setView(n,f):e!=null&&y.fitBounds(e,t),u!=null&&y.whenReady(u),E(dM(y))}},[]);k.useEffect(()=>()=>{w==null||w.map.remove()},[w]);const C=w?he.createElement(iS,{value:w},i):l??null;return he.createElement("div",zf({},v,{ref:b}),C)}const TM=k.forwardRef(bM),EM=_M(function({position:t,...n},i){const r=new O.Marker(t,n);return Dp(r,fM(i,{overlayContainer:r}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),PM=yM(function(t,n){const i=new O.Popup(t,n.overlayContainer);return Dp(i,n)},function(t,n,{position:i},r){k.useEffect(function(){const{instance:l}=t;function d(f){f.popup===l&&(l.update(),r(!0))}function u(f){f.popup===l&&r(!1)}return n.map.on({popupopen:d,popupclose:u}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var p;n.map.off({popupopen:d,popupclose:u}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(l)}},[t,n,r,i])}),CM=wM(function({url:t,...n},i){const r=new O.TileLayer(t,Mp(n,i));return Dp(r,i)},function(t,n,i){xM(t,n,i);const{url:r}=n;r!=null&&r!==i.url&&t.setUrl(r)});var aS={exports:{}},IM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LM=IM,kM=LM;function lS(){}function uS(){}uS.resetWarningCache=lS;var OM=function(){function e(i,r,o,l,d,u){if(u!==kM){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:uS,resetWarningCache:lS};return n.PropTypes=n,n};aS.exports=OM();var NM=aS.exports;const cS=Zf(NM);const RM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",AM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";var Uu=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,Kn=document.documentElement.style.pointerEvents==="",$i={cors:Uu,pointerEvents:Kn},MM={attributionWidthOffset:55},C_=0;function Bu(e){var t="";e.f=e.f||"json";for(var n in e)if(e.hasOwnProperty(n)){var i=e[n],r=Object.prototype.toString.call(i),o;t.length&&(t+="&"),r==="[object Array]"?o=Object.prototype.toString.call(i[0])==="[object Object]"?JSON.stringify(i):i.join(","):r==="[object Object]"?o=JSON.stringify(i):r==="[object Date]"?o=i.valueOf():o=i,t+=encodeURIComponent(n)+"="+encodeURIComponent(o)}return t}function jp(e,t){var n=new window.XMLHttpRequest;return n.onerror=function(i){n.onreadystatechange=O.Util.falseFn,e.call(t,{error:{code:500,message:"XMLHttpRequest error"}},null)},n.onreadystatechange=function(){var i,r;if(n.readyState===4){try{i=JSON.parse(n.responseText)}catch{i=null,r={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!r&&i.error&&(r=i.error,i=null),n.onerror=O.Util.falseFn,e.call(t,r,i)}},n.ontimeout=function(){this.onerror()},n}function DM(e,t,n,i){var r=jp(n,i);return r.open("POST",e),typeof i<"u"&&i!==null&&typeof i.options<"u"&&(r.timeout=i.options.timeout),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.send(Bu(t)),r}function dS(e,t,n,i){var r=jp(n,i);return r.open("GET",e+"?"+Bu(t),!0),typeof i<"u"&&i!==null&&typeof i.options<"u"&&(r.timeout=i.options.timeout,i.options.withCredentials&&(r.withCredentials=!0)),r.send(null),r}function fS(e,t,n,i){var r=Bu(t),o=jp(n,i),l=(e+"?"+r).length;if(l<=2e3&&$i.cors?o.open("GET",e+"?"+r):l>2e3&&$i.cors&&(o.open("POST",e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),typeof i<"u"&&i!==null&&typeof i.options<"u"&&(o.timeout=i.options.timeout,i.options.withCredentials&&(o.withCredentials=!0)),l<=2e3&&$i.cors)o.send(null);else if(l>2e3&&$i.cors)o.send(r);else{if(l<=2e3&&!$i.cors)return Up(e,t,n,i);Ii("a request to "+e+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy http://esri.github.io/esri-leaflet/api-reference/request.html");return}return o}function Up(e,t,n,i){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var r="c"+C_;t.callback="window._EsriLeafletCallbacks."+r,window._EsriLeafletCallbacks[r]=function(l){if(window._EsriLeafletCallbacks[r]!==!0){var d,u=Object.prototype.toString.call(l);u==="[object Object]"||u==="[object Array]"||(d={error:{code:500,message:"Expected array or object as JSONP response"}},l=null),!d&&l.error&&(d=l,l=null),n.call(i,d,l),window._EsriLeafletCallbacks[r]=!0}};var o=O.DomUtil.create("script",null,document.body);return o.type="text/javascript",o.src=e+"?"+Bu(t),o.id=r,o.onerror=function(l){if(l&&window._EsriLeafletCallbacks[r]!==!0){var d={error:{code:500,message:"An unknown error occurred"}};n.call(i,d),window._EsriLeafletCallbacks[r]=!0}},O.DomUtil.addClass(o,"esri-leaflet-jsonp"),C_++,{id:r,url:o.src,abort:function(){window._EsriLeafletCallbacks._callback[r]({code:0,message:"Request aborted."})}}}var Bp=$i.cors?dS:Up;Bp.CORS=dS;Bp.JSONP=Up;function Ii(){console&&console.warn&&console.warn.apply(console,arguments)}var Vl={request:fS,get:Bp,post:DM};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var zM=function(t,n,i,r){var o=(r[0]-i[0])*(t[1]-i[1])-(r[1]-i[1])*(t[0]-i[0]),l=(n[0]-t[0])*(t[1]-i[1])-(n[1]-t[1])*(t[0]-i[0]),d=(r[1]-i[1])*(n[0]-t[0])-(r[0]-i[0])*(n[1]-t[1]);if(d!==0){var u=o/d,f=l/d;if(u>=0&&u<=1&&f>=0&&f<=1)return!0}return!1},jM=function(t,n){for(var i=!1,r=-1,o=t.length,l=o-1;++r<o;l=r)(t[r][1]<=n[1]&&n[1]<t[l][1]||t[l][1]<=n[1]&&n[1]<t[r][1])&&n[0]<(t[l][0]-t[r][0])*(n[1]-t[r][1])/(t[l][1]-t[r][1])+t[r][0]&&(i=!i);return i},UM=function(t,n){for(var i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0},hS=function(t,n){for(var i=0;i<t.length-1;i++)for(var r=0;r<n.length-1;r++)if(zM(t[i],t[i+1],n[r],n[r+1]))return!0;return!1},jf=function(t){return UM(t[0],t[t.length-1])||t.push(t[0]),t},Uf=function(t){var n=0,i=0,r=t.length,o=t[i],l;for(i;i<r-1;i++)l=t[i+1],n+=(l[0]-o[0])*(l[1]+o[1]),o=l;return n>=0},pS=function(t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},BM=function(t,n){var i=hS(t,n),r=jM(t,n[0]);return!!(!i&&r)},FM=function(t){for(var n=[],i=[],r,o,l,d=0;d<t.length;d++){var u=jf(t[d].slice(0));if(!(u.length<4))if(Uf(u)){var f=[u.slice().reverse()];n.push(f)}else i.push(u.slice().reverse())}for(var p=[];i.length;){l=i.pop();var g=!1;for(r=n.length-1;r>=0;r--)if(o=n[r][0],BM(o,l)){n[r].push(l),g=!0;break}g||p.push(l)}for(;p.length;){l=p.pop();var v=!1;for(r=n.length-1;r>=0;r--)if(o=n[r][0],hS(o,l)){n[r].push(l),v=!0;break}v||n.push([l.reverse()])}return n.length===1?{type:"Polygon",coordinates:n[0]}:{type:"MultiPolygon",coordinates:n}},$M=function(t,n){for(var i=n?[n,"OBJECTID","FID"]:["OBJECTID","FID"],r=0;r<i.length;r++){var o=i[r];if(o in t&&(typeof t[o]=="string"||typeof t[o]=="number"))return t[o]}throw Error("No valid id attribute found")},HM=function e(t,n){var i={};if(t.features){i.type="FeatureCollection",i.features=[];for(var r=0;r<t.features.length;r++)i.features.push(e(t.features[r],n))}if(typeof t.x=="number"&&typeof t.y=="number"&&(i.type="Point",i.coordinates=[t.x,t.y],typeof t.z=="number"&&i.coordinates.push(t.z)),t.points&&(i.type="MultiPoint",i.coordinates=t.points.slice(0)),t.paths&&(t.paths.length===1?(i.type="LineString",i.coordinates=t.paths[0].slice(0)):(i.type="MultiLineString",i.coordinates=t.paths.slice(0))),t.rings&&(i=FM(t.rings.slice(0))),typeof t.xmin=="number"&&typeof t.ymin=="number"&&typeof t.xmax=="number"&&typeof t.ymax=="number"&&(i.type="Polygon",i.coordinates=[[[t.xmax,t.ymax],[t.xmin,t.ymax],[t.xmin,t.ymin],[t.xmax,t.ymin],[t.xmax,t.ymax]]]),(t.geometry||t.attributes)&&(i.type="Feature",i.geometry=t.geometry?e(t.geometry):null,i.properties=t.attributes?pS(t.attributes):null,t.attributes))try{i.id=$M(t.attributes,n)}catch{}return JSON.stringify(i.geometry)===JSON.stringify({})&&(i.geometry=null),t.spatialReference&&t.spatialReference.wkid&&t.spatialReference.wkid!==4326&&console.warn("Object converted in non-standard crs - "+JSON.stringify(t.spatialReference)),i},mS=function(t){var n=[],i=t.slice(0),r=jf(i.shift().slice(0));if(r.length>=4){Uf(r)||r.reverse(),n.push(r);for(var o=0;o<i.length;o++){var l=jf(i[o].slice(0));l.length>=4&&(Uf(l)&&l.reverse(),n.push(l))}}return n},WM=function(t){for(var n=[],i=0;i<t.length;i++)for(var r=mS(t[i]),o=r.length-1;o>=0;o--){var l=r[o].slice(0);n.push(l)}return n},VM=function e(t,n){n=n||"OBJECTID";var i={wkid:4326},r={},o;switch(t.type){case"Point":r.x=t.coordinates[0],r.y=t.coordinates[1],t.coordinates[2]!=null&&(r.z=t.coordinates[2]),r.spatialReference=i;break;case"MultiPoint":r.points=t.coordinates.slice(0),t.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"LineString":r.paths=[t.coordinates.slice(0)],t.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"MultiLineString":r.paths=t.coordinates.slice(0),t.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"Polygon":r.rings=mS(t.coordinates.slice(0)),t.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"MultiPolygon":r.rings=WM(t.coordinates.slice(0)),t.coordinates[0][0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"Feature":t.geometry&&(r.geometry=e(t.geometry,n)),r.attributes=t.properties?pS(t.properties):{},t.id&&(r.attributes[n]=t.id);break;case"FeatureCollection":for(r=[],o=0;o<t.features.length;o++)r.push(e(t.features[o],n));break;case"GeometryCollection":for(r=[],o=0;o<t.geometries.length;o++)r.push(e(t.geometries[o],n));break}return r},gS='<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>',GM='Powered by <a href="https://www.esri.com">Esri</a>';function Io(e,t){return VM(e,t)}function vS(e,t){return HM(e,t)}function Bf(e){if(e.xmin!=="NaN"&&e.ymin!=="NaN"&&e.xmax!=="NaN"&&e.ymax!=="NaN"){var t=O.latLng(e.ymin,e.xmin),n=O.latLng(e.ymax,e.xmax);return O.latLngBounds(t,n)}else return null}function Fp(e){return e=O.latLngBounds(e),{xmin:e.getSouthWest().lng,ymin:e.getSouthWest().lat,xmax:e.getNorthEast().lng,ymax:e.getNorthEast().lat,spatialReference:{wkid:4326}}}var _S=/^(OBJECTID|FID|OID|ID)$/i;function yS(e){var t;if(e.objectIdFieldName)t=e.objectIdFieldName;else if(e.fields){for(var n=0;n<=e.fields.length-1;n++)if(e.fields[n].type==="esriFieldTypeOID"){t=e.fields[n].name;break}if(!t){for(n=0;n<=e.fields.length-1;n++)if(e.fields[n].name.match(_S)){t=e.fields[n].name;break}}}return t}function wS(e){for(var t in e.attributes)if(t.match(_S))return t}function Ho(e,t){var n,i=e.features||e.results,r=i&&i.length;t?n=t:n=yS(e);var o={type:"FeatureCollection",features:[]};if(r)for(var l=i.length-1;l>=0;l--){var d=vS(i[l],n||wS(i[l]));o.features.push(d)}return o}function Fu(e){return e=O.Util.trim(e),e[e.length-1]!=="/"&&(e+="/"),e}function Wo(e){if(e.url.indexOf("?")!==-1){e.requestParams=e.requestParams||{};var t=e.url.substring(e.url.indexOf("?")+1);e.url=e.url.split("?")[0],e.requestParams=JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return e.url=Fu(e.url.split("?")[0]),e}function xS(e){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(e)}function Ff(e){var t;switch(e){case"Point":t="esriGeometryPoint";break;case"MultiPoint":t="esriGeometryMultipoint";break;case"LineString":t="esriGeometryPolyline";break;case"MultiLineString":t="esriGeometryPolyline";break;case"Polygon":t="esriGeometryPolygon";break;case"MultiPolygon":t="esriGeometryPolygon";break}return t}function Gl(e){return e.getSize().x-MM.attributionWidthOffset+"px"}function Vo(e){if(e.attributionControl){if(e.attributionControl._esriAttributionLayerCount||(e.attributionControl._esriAttributionLayerCount=0),e.attributionControl._esriAttributionLayerCount===0){if(!e.attributionControl._esriAttributionAddedOnce){var t=document.createElement("style");t.type="text/css",t.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(t);var n=document.createElement("style");n.type="text/css",n.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+Gl(e)+";}",document.getElementsByTagName("head")[0].appendChild(n),e.on("resize",function(i){e.attributionControl&&(e.attributionControl._container.style.maxWidth=Gl(i.target))}),e.attributionControl._esriAttributionAddedOnce=!0}e.attributionControl.setPrefix(gS+" | "+GM),O.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution:hover"),O.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution")}e.attributionControl._esriAttributionLayerCount=e.attributionControl._esriAttributionLayerCount+1}}function $u(e){e.attributionControl&&(e.attributionControl._esriAttributionLayerCount&&e.attributionControl._esriAttributionLayerCount===1&&(e.attributionControl.setPrefix(gS),O.DomUtil.removeClass(e.attributionControl._container,"esri-truncated-attribution:hover"),O.DomUtil.removeClass(e.attributionControl._container,"esri-truncated-attribution")),e.attributionControl._esriAttributionLayerCount=e.attributionControl._esriAttributionLayerCount-1)}function $p(e){var t={geometry:null,geometryType:null};if(e instanceof O.LatLngBounds)return t.geometry=Fp(e),t.geometryType="esriGeometryEnvelope",t;if(e.getLatLng&&(e=e.getLatLng()),e instanceof O.LatLng&&(e={type:"Point",coordinates:[e.lng,e.lat]}),e instanceof O.GeoJSON&&(e=e.getLayers()[0].feature.geometry,t.geometry=Io(e),t.geometryType=Ff(e.type)),e.toGeoJSON&&(e=e.toGeoJSON()),e.type==="Feature"&&(e=e.geometry),e.type==="Point"||e.type==="LineString"||e.type==="Polygon"||e.type==="MultiPolygon")return t.geometry=Io(e),t.geometryType=Ff(e.type),t;Ii("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object")}function SS(e,t){$i.cors&&fS(e,{},O.Util.bind(function(n,i){if(!n){t._esriAttributions=[];for(var r=0;r<i.contributors.length;r++)for(var o=i.contributors[r],l=0;l<o.coverageAreas.length;l++){var d=o.coverageAreas[l],u=O.latLng(d.bbox[0],d.bbox[1]),f=O.latLng(d.bbox[2],d.bbox[3]);t._esriAttributions.push({attribution:o.attribution,score:d.score,bounds:O.latLngBounds(u,f),minZoom:d.zoomMin,maxZoom:d.zoomMax})}t._esriAttributions.sort(function(g,v){return v.score-g.score});var p={target:t};Zl(p)}},this))}function Zl(e){var t=e.target,n=t._esriAttributions;if(!(!t||!t.attributionControl)){var i=t.attributionControl._container.querySelector(".esri-dynamic-attribution");if(i&&n){for(var r="",o=t.getBounds(),l=O.latLngBounds(o.getSouthWest().wrap(),o.getNorthEast().wrap()),d=t.getZoom(),u=0;u<n.length;u++){var f=n[u],p=f.attribution;!r.match(p)&&f.bounds.intersects(l)&&d>=f.minZoom&&d<=f.maxZoom&&(r+=", "+p)}r=r.substr(2),i.innerHTML=r,i.style.maxWidth=Gl(t),t.fire("attributionupdated",{attribution:r})}}}var ql={warn:Ii,cleanUrl:Fu,getUrlParams:Wo,isArcgisOnline:xS,geojsonTypeToArcGIS:Ff,responseToFeatureCollection:Ho,geojsonToArcGIS:Io,arcgisToGeoJSON:vS,boundsToExtent:Fp,extentToBounds:Bf,calcAttributionWidth:Gl,setEsriAttribution:Vo,_setGeometry:$p,_getAttributionData:SS,_updateMapAttribution:Zl,_findIdAttributeFromFeature:wS,_findIdAttributeFromResponse:yS},Bn=O.Class.extend({options:{proxy:!1,useCors:Uu},generateSetter:function(e,t){return O.Util.bind(function(n){return this.params[e]=n,this},t)},initialize:function(e){if(e.request&&e.options?(this._service=e,O.Util.setOptions(this,e.options)):(O.Util.setOptions(this,e),this.options.url=Fu(e.url)),this.params=O.Util.extend({},this.params||{}),this.setters)for(var t in this.setters){var n=this.setters[t];this[t]=this.generateSetter(n,this)}},token:function(e){return this._service?this._service.authenticate(e):this.params.token=e,this},format:function(e){return this.params.returnUnformattedValues=!e,this},request:function(e,t){return this.options.requestParams&&O.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,e,t):this._request("request",this.path,this.params,e,t)},_request:function(e,t,n,i,r){var o=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t;return(e==="get"||e==="request")&&!this.options.useCors?Vl.get.JSONP(o,n,i,r):Vl[e](o,n,i,r)}}),ZM=Bn.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(e,t){return e=O.latLng(e),this.params.geometry=[e.lng,e.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=t,this.params.inSR=4326,this},where:function(e){return this.params.where=e,this},between:function(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},orderBy:function(e,t){return t=t||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[e,t].join(" "),this},run:function(e,t){return this._cleanParams(),this.options.isModern||xS(this.options.url)&&this.options.isModern===void 0?(this.params.f="geojson",this.request(function(n,i){this._trapSQLerrors(n),e.call(t,n,i,i)},this)):this.request(function(n,i){this._trapSQLerrors(n),e.call(t,n,i&&Ho(i),i)},this)},count:function(e,t){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(n,i){e.call(this,n,i&&i.count,i)},t)},ids:function(e,t){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(n,i){e.call(this,n,i&&i.objectIds,i)},t)},bounds:function(e,t){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request(function(n,i){i&&i.extent&&Bf(i.extent)?e.call(t,n,Bf(i.extent),i):(n={message:"Invalid Bounds"},e.call(t,n,null,i))},t)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(e){var t=O.point(e);return this.params.pixelSize=[t.x,t.y],this},layer:function(e){return this.path=e+"/query",this},_trapSQLerrors:function(e){e&&e.code==="400"&&Ii("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(e){this.params.inSR=4326;var t=$p(e);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}});function Hp(e){return new ZM(e)}var qM=Bn.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(e,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[e,t].join(":"),this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},run:function(e,t){return this.request(function(n,i){e.call(t,n,i&&Ho(i),i)},t)}});function KM(e){return new qM(e)}var bS=Bn.extend({path:"identify",between:function(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this}}),XM=bS.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(e){var t=Fp(e.getBounds()),n=e.getSize();return this.params.imageDisplay=[n.x,n.y,96],this.params.mapExtent=[t.xmin,t.ymin,t.xmax,t.ymax],this},at:function(e){return e.length===2&&(e=O.latLng(e)),this._setGeometryParams(e),this},layerDef:function(e,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[e,t].join(":"),this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},run:function(e,t){return this.request(function(n,i){if(n){e.call(t,n,void 0,i);return}else{var r=Ho(i);i.results=i.results.reverse();for(var o=0;o<r.features.length;o++){var l=r.features[o];l.layerId=i.results[o].layerId}e.call(t,void 0,r,i)}})},_setGeometryParams:function(e){var t=$p(e);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}});function JM(e){return new XM(e)}var YM=bS.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(e){return e=O.latLng(e),this.params.geometry=JSON.stringify({x:e.lng,y:e.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(e,t){return this.request(function(n,i){e.call(t,n,i&&this._responseToGeoJSON(i),i)},this)},_responseToGeoJSON:function(e){var t=e.location,n=e.catalogItems,i=e.catalogItemVisibilities,r={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[t.x,t.y]},crs:{type:"EPSG",properties:{code:t.spatialReference.wkid}},properties:{OBJECTID:e.objectId,name:e.name,value:e.value},id:e.objectId}};if(e.properties&&e.properties.Values&&(r.pixel.properties.values=e.properties.Values),n&&n.features&&(r.catalogItems=Ho(n),i&&i.length===r.catalogItems.features.length))for(var o=i.length-1;o>=0;o--)r.catalogItems.features[o].properties.catalogItemVisibility=i[o];return r}});function QM(e){return new YM(e)}var qr=O.Evented.extend({options:{proxy:!1,useCors:Uu,timeout:0},initialize:function(e){e=e||{},this._requestQueue=[],this._authenticating=!1,O.Util.setOptions(this,e),this.options.url=Fu(this.options.url)},get:function(e,t,n,i){return this._request("get",e,t,n,i)},post:function(e,t,n,i){return this._request("post",e,t,n,i)},request:function(e,t,n,i){return this._request("request",e,t,n,i)},metadata:function(e,t){return this._request("get","",{},e,t)},authenticate:function(e){return this._authenticating=!1,this.options.token=e,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(e){this.options.timeout=e},_request:function(e,t,n,i,r){this.fire("requeststart",{url:this.options.url+t,params:n,method:e},!0);var o=this._createServiceCallback(e,t,n,i,r);if(this.options.token&&(n.token=this.options.token),this.options.requestParams&&O.Util.extend(n,this.options.requestParams),this._authenticating){this._requestQueue.push([e,t,n,i,r]);return}else{var l=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t;return(e==="get"||e==="request")&&!this.options.useCors?Vl.get.JSONP(l,n,o,r):Vl[e](l,n,o,r)}},_createServiceCallback:function(e,t,n,i,r){return O.Util.bind(function(o,l){o&&(o.code===499||o.code===498)&&(this._authenticating=!0,this._requestQueue.push([e,t,n,i,r]),this.fire("authenticationrequired",{authenticate:O.Util.bind(this.authenticate,this)},!0),o.authenticate=O.Util.bind(this.authenticate,this)),i.call(r,o,l),o?this.fire("requesterror",{url:this.options.url+t,params:n,message:o.message,code:o.code,method:e},!0):this.fire("requestsuccess",{url:this.options.url+t,params:n,response:l,method:e},!0),this.fire("requestend",{url:this.options.url+t,params:n,method:e},!0)},this)},_runQueue:function(){for(var e=this._requestQueue.length-1;e>=0;e--){var t=this._requestQueue[e],n=t.shift();this[n].apply(this,t)}this._requestQueue=[]}}),$f=qr.extend({identify:function(){return JM(this)},find:function(){return KM(this)},query:function(){return Hp(this)}});function TS(e){return new $f(e)}var e2=qr.extend({query:function(){return Hp(this)},identify:function(){return QM(this)}});function t2(e){return new e2(e)}var Hf=qr.extend({options:{idAttribute:"OBJECTID"},query:function(){return Hp(this)},addFeature:function(e,t,n){this.addFeatures(e,t,n)},addFeatures:function(e,t,n){for(var i=e.features?e.features:[e],r=i.length-1;r>=0;r--)delete i[r].id;return e=Io(e),e=i.length>1?e:[e],this.post("addFeatures",{features:e},function(o,l){var d=l&&l.addResults?l.addResults.length>1?l.addResults:l.addResults[0]:void 0;t&&t.call(n,o||l.addResults[0].error,d)},n)},updateFeature:function(e,t,n){this.updateFeatures(e,t,n)},updateFeatures:function(e,t,n){var i=e.features?e.features:[e];return e=Io(e,this.options.idAttribute),e=i.length>1?e:[e],this.post("updateFeatures",{features:e},function(r,o){var l=o&&o.updateResults?o.updateResults.length>1?o.updateResults:o.updateResults[0]:void 0;t&&t.call(n,r||o.updateResults[0].error,l)},n)},deleteFeature:function(e,t,n){this.deleteFeatures(e,t,n)},deleteFeatures:function(e,t,n){return this.post("deleteFeatures",{objectIds:e},function(i,r){var o=r&&r.deleteResults?r.deleteResults.length>1?r.deleteResults:r.deleteResults[0]:void 0;t&&t.call(n,i||r.deleteResults[0].error,o)},n)}});function n2(e){return new Hf(e)}var je=window.location.protocol!=="https:"?"http:":"https:",I_=O.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:je+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:je+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Kn?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Kn?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Kn?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:Kn?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:Kn?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:Kn?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:Kn?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:je+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:je+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:je+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:je+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(e,t){var n;if(typeof e=="object"&&e.urlTemplate&&e.options)n=e;else if(typeof e=="string"&&I_.TILES[e])n=I_.TILES[e];else throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');var i=O.Util.extend(n.options,t);O.Util.setOptions(this,i),this.options.token&&n.urlTemplate.indexOf("token=")===-1&&(n.urlTemplate+="?token="+this.options.token),this.options.proxy&&(n.urlTemplate=this.options.proxy+"?"+n.urlTemplate),O.TileLayer.prototype.initialize.call(this,n.urlTemplate,i)},onAdd:function(e){Vo(e),this.options.pane==="esri-labels"&&this._initPane(),this.options.attributionUrl&&SS((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,e),e.on("moveend",Zl),O.TileLayer.prototype.onAdd.call(this,e)},onRemove:function(e){$u(e),e.off("moveend",Zl),O.TileLayer.prototype.onRemove.call(this,e)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var e=this._map.createPane(this.options.pane);e.style.pointerEvents="none",e.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var e='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return e}}),i2=O.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(e){e=O.Util.setOptions(this,e),e=Wo(e),this.tileUrl=(e.proxy?e.proxy+"?":"")+e.url+"tile/{z}/{y}/{x}"+(e.requestParams&&Object.keys(e.requestParams).length>0?O.Util.getParamString(e.requestParams):""),e.url.indexOf("{s}")!==-1&&e.subdomains&&(e.url=e.url.replace("{s}",e.subdomains[0])),this.service=TS(e),this.service.addEventParent(this);var t=new RegExp(/tiles.arcgis(online)?\.com/g);t.test(e.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),e.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),O.TileLayer.prototype.initialize.call(this,this.tileUrl,e)},getTileUrl:function(e){var t=this._getZoomForUrl();return O.Util.template(this.tileUrl,O.Util.extend({s:this._getSubdomain(e),x:e.x,y:e.y,z:this._lodMap&&this._lodMap[t]?this._lodMap[t]:t},this.options))},createTile:function(e,t){var n=document.createElement("img");return O.DomEvent.on(n,"load",O.Util.bind(this._tileOnLoad,this,t,n)),O.DomEvent.on(n,"error",O.Util.bind(this._tileOnError,this,t,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?n.src=this.getTileUrl(e):this.once("lodmap",function(){n.src=this.getTileUrl(e)},this),n},onAdd:function(e){Vo(e),this._lodMap||this.metadata(function(t,n){if(!t&&n.spatialReference){var i=n.spatialReference.latestWkid||n.spatialReference.wkid;if(!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution())),e.options.crs===O.CRS.EPSG3857&&(i===102100||i===3857)){this._lodMap={};for(var r=n.tileInfo.lods,o=i2.MercatorZoomLevels,l=0;l<r.length;l++){var d=r[l];for(var u in o){var f=o[u];if(this._withinPercentage(d.resolution,f,this.options.zoomOffsetAllowance)){this._lodMap[u]=d.level;break}}}this.fire("lodmap")}else e.options.crs&&e.options.crs.code&&e.options.crs.code.indexOf(i)>-1||Ii("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet http://esri.github.io/esri-leaflet/examples/non-mercator-projection.html")}},this),O.TileLayer.prototype.onAdd.call(this,e)},onRemove:function(e){$u(e)},metadata:function(e,t){return this.service.metadata(e,t),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(e){var t="?token="+e;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,t):this.tileUrl+t,this.options.token=e,this.service.authenticate(e),this},_withinPercentage:function(e,t,n){var i=Math.abs(e/t-1);return i<n}}),r2=O.ImageOverlay.extend({onAdd:function(e){this._topLeft=e.getPixelBounds().min,O.ImageOverlay.prototype.onAdd.call(this,e)},_reset:function(){this._map.options.crs===O.CRS.EPSG3857?O.ImageOverlay.prototype._reset.call(this):O.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),ES=O.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:Uu,attribution:null,interactive:!1,alt:""},onAdd:function(e){Vo(e),this.options.zIndex&&(this.options.position=null),this._update=O.Util.throttle(this._update,this.options.updateInterval,this),e.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?e.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(t,n){!t&&!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove:function(e){$u(e),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(e,t){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=O.popup(t),this._popupFunction=e,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(e){return this.options.zIndex=e,this._currentImage&&this._currentImage.setZIndex(e),this},_setAutoZIndex:function(e){if(this._currentImage){for(var t=this._currentImage.getPane().children,n=-e(-1/0,1/0),i=0,r=t.length,o;i<r;i++)o=t[i].style.zIndex,t[i]!==this._currentImage._image&&o&&(n=e(n,+o));isFinite(n)&&(this.options.zIndex=n+e(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(e){return this.options.opacity=e,this._currentImage&&this._currentImage.setOpacity(e),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,t){return this.options.from=e,this.options.to=t,this._update(),this},metadata:function(e,t){return this.service.metadata(e,t),this},authenticate:function(e){return this.service.authenticate(e),this},redraw:function(){this._update()},_renderImage:function(e,t,n){if(this._map){if(n&&(e="data:"+n+";base64,"+e),!e)return;var i=new r2(e,t,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),r=function(){this._map.removeLayer(i),this.fire("error"),i.off("load",o,this)},o=function(l){if(i.off("error",o,this),this._map){var d=l.target,u=this._currentImage;d._bounds.equals(t)&&d._bounds.equals(this._map.getBounds())?(this._currentImage=d,this.options.position==="front"?this.bringToFront():this.options.position==="back"&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),u&&this._map&&this._map.removeLayer(u),u&&u._map&&u._map.removeLayer(u)):this._map.removeLayer(d)}this.fire("load",{bounds:t})};i.once("error",r,this),i.once("load",o,this)}},_update:function(){if(this._map){var e=this._map.getZoom(),t=this._map.getBounds();if(!this._animatingZoom&&!(this._map._panTransition&&this._map._panTransition._inProgress)){if(e>this.options.maxZoom||e<this.options.minZoom){this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);return}var n=this._buildExportParams();O.Util.extend(n,this.options.requestParams),n?(this._requestExport(n,t),this.fire("loading",{bounds:t})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_renderPopup:function(e,t,n,i){if(e=O.latLng(e),this._shouldRenderPopup&&this._lastClick.equals(e)){var r=this._popupFunction(t,n,i);r&&this._popup.setLatLng(e).setContent(r).openOn(this._map)}},_resetPopupState:function(e){this._shouldRenderPopup=!1,this._lastClick=e.latlng},_calculateBbox:function(){var e=this._map.getPixelBounds(),t=this._map.unproject(e.getBottomLeft()),n=this._map.unproject(e.getTopRight()),i=this._map.options.crs.project(n),r=this._map.options.crs.project(t),o=O.bounds(i,r);return[o.getBottomLeft().x,o.getBottomLeft().y,o.getTopRight().x,o.getTopRight().y].join(",")},_calculateImageSize:function(){var e=this._map.getPixelBounds(),t=this._map.getSize(),n=this._map.unproject(e.getBottomLeft()),i=this._map.unproject(e.getTopRight()),r=this._map.latLngToLayerPoint(i).y,o=this._map.latLngToLayerPoint(n).y;return(r>0||o<t.y)&&(t.y=o-r),t.x+","+t.y}});ES.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(e){e=Wo(e),this.service=t2(e),this.service.addEventParent(this),O.Util.setOptions(this,e)},setPixelType:function(e){return this.options.pixelType=e,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(e){return O.Util.isArray(e)?this.options.bandIds=e.join(","):this.options.bandIds=e.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(e,t){return O.Util.isArray(e)?this.options.noData=e.join(","):this.options.noData=e.toString(),t&&(this.options.noDataInterpretation=t),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(e){this.options.renderingRule=e,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(e){this.options.mosaicRule=e,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(e){var t=O.Util.bind(function(i,r,o){i||setTimeout(O.Util.bind(function(){this._renderPopup(e.latlng,i,r,o)},this),300)},this),n=this.identify().at(e.latlng);this.options.mosaicRule&&n.setMosaicRule(this.options.mosaicRule),n.run(t),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams:function(){var e=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:e,imageSR:e};return this.options.from&&this.options.to&&(t.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(t.pixelType=this.options.pixelType),this.options.interpolation&&(t.interpolation=this.options.interpolation),this.options.compressionQuality&&(t.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(t.bandIds=this.options.bandIds),(this.options.noData===0||this.options.noData)&&(t.noData=this.options.noData),this.options.noDataInterpretation&&(t.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(t.token=this.service.options.token),this.options.renderingRule&&(t.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(t.mosaicRule=JSON.stringify(this.options.mosaicRule)),t},_requestExport:function(e,t){if(this.options.f==="json")this.service.request("exportImage",e,function(i,r){i||(this.options.token&&(r.href+="?token="+this.options.token),this.options.proxy&&(r.href=this.options.proxy+"?"+r.href),this._renderImage(r.href,t))},this);else{e.f="image";var n=this.options.url+"exportImage"+O.Util.getParamString(e);this.options.proxy&&(n=this.options.proxy+"?"+n),this._renderImage(n,t)}}});ES.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize:function(e){e=Wo(e),this.service=TS(e),this.service.addEventParent(this),O.Util.setOptions(this,e)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(e){return this.options.dynamicLayers=e,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(e){return this.options.layers=e,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(e){return this.options.layerDefs=e,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(e){return this.options.timeOptions=e,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(e){var t=O.Util.bind(function(r,o,l){r||setTimeout(O.Util.bind(function(){this._renderPopup(e.latlng,r,o,l)},this),300)},this),n;if(this.options.popup?n=this.options.popup.on(this._map).at(e.latlng):n=this.identify().on(this._map).at(e.latlng),n.params.maxAllowableOffset||n.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||(this.options.layers?n.layers("visible:"+this.options.layers.join(",")):n.layers("visible")),this.options.layerDefs&&typeof this.options.layerDefs!="string"&&!n.params.layerDefs)for(var i in this.options.layerDefs)this.options.layerDefs.hasOwnProperty(i)&&n.layerDef(i,this.options.layerDefs[i]);n.run(t),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams:function(){var e=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:e,imageSR:e};if(this.options.dynamicLayers&&(t.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(this.options.layers.length===0)return;t.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(t.layerDefs=typeof this.options.layerDefs=="string"?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(t.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(t.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(t.token=this.service.options.token),this.options.proxy&&(t.proxy=this.options.proxy),this.options.disableCache&&(t._ts=Date.now()),t},_requestExport:function(e,t){if(this.options.f==="json")this.service.request("export",e,function(i,r){i||(this.options.token&&r.href&&(r.href+="?token="+this.options.token),this.options.proxy&&r.href&&(r.href=this.options.proxy+"?"+r.href),r.href?this._renderImage(r.href,t):this._renderImage(r.imageData,t,r.contentType))},this);else{e.f="image";var n=this.options.url+"export"+O.Util.getParamString(e);this.options.proxy&&(n=this.options.proxy+"?"+n),this._renderImage(n,t)}}});var Aa=O.Layer.extend({options:{cellSize:512,updateWhenIdle:O.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize:function(e){O.Util.setOptions(this,e)},onAdd:function(e){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove:function(e){this._removeAllCells(),this._cellZoom=void 0},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=O.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),e},createCell:function(){return document.createElement("div")},removeCell:function(){},reuseCell:function(){},cellLeave:function(){},cellEnter:function(){},getCellSize:function(){var e=this.options.cellSize;return e instanceof O.Point?e:new O.Point(e,e)},_pruneCells:function(){if(this._map){var e,t;for(e in this._cells)t=this._cells[e],t.retain=t.current;for(e in this._cells)if(t=this._cells[e],t.current&&!t.active){var n=t.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(e in this._cells)this._cells[e].retain||this._removeCell(e)}},_removeAllCells:function(){for(var e in this._cells)this._removeCell(e)},_invalidateAll:function(){this._removeAllCells(),this._cellZoom=void 0},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),o=Math.floor(t/2),l=n-1,d=new O.Point(+r,+o);d.z=+l;var u=this._cellCoordsToKey(d),f=this._cells[u];return f&&f.active?(f.retain=!0,!0):(f&&f.loaded&&(f.retain=!0),l>i?this._retainParent(r,o,l,i):!1)},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var o=2*t;o<2*t+2;o++){var l=new O.Point(r,o);l.z=n+1;var d=this._cellCoordsToKey(l),u=this._cells[d];if(u&&u.active){u.retain=!0;continue}else u&&u.loaded&&(u.retain=!0);n+1<i&&this._retainChildren(r,o,n+1,i)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);t||this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_setView:function(e,t,n,i){var r=Math.round(t);i||(this._cellZoom=r,this._abortLoading&&this._abortLoading(),this._resetGrid(),r!==void 0&&this._update(e),n||this._pruneCells(),this._noPrune=!!n)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._cellSize=this.getCellSize(),i=this._cellZoom,r=this._map.getPixelWorldBounds(this._cellZoom);r&&(this._globalCellRange=this._pxBoundsToCellRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(e){var t=e&&(e.pinch||e.flyTo);t||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._cellZoom),r=t.project(e,this._cellZoom).floor(),o=t.getSize().divideBy(i*2);return new O.Bounds(r.subtract(o),r.add(o))},_update:function(e){var t=this._map;if(t){var n=Math.round(t.getZoom());e===void 0&&(e=t.getCenter());var i=this._getCelldPixelBounds(e),r=this._pxBoundsToCellRange(i),o=r.getCenter(),l=[],d=this.options.keepBuffer,u=new O.Bounds(r.getBottomLeft().subtract([d,-d]),r.getTopRight().add([d,-d]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of cells");for(var f in this._cells){var p=this._cells[f].coords;(p.z!==this._cellZoom||!u.contains(new O.Point(p.x,p.y)))&&(this._cells[f].current=!1)}if(Math.abs(n-this._cellZoom)>1){this._setView(e,n);return}for(var g=r.min.y;g<=r.max.y;g++)for(var v=r.min.x;v<=r.max.x;v++){var w=new O.Point(v,g);if(w.z=this._cellZoom,!!this._isValidCell(w)){var E=this._cells[this._cellCoordsToKey(w)];E?E.current=!0:l.push(w)}}if(l.sort(function(x,y){return x.distanceTo(o)-y.distanceTo(o)}),l.length!==0)for(this._loading||(this._loading=!0),v=0;v<l.length;v++){var b=this._cellCoordsToKey(l[v]),C=this._keyToCellCoords(b);this._activeCells[C]?this._reuseCell(l[v]):this._createCell(l[v])}}},_isValidCell:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalCellRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._cellCoordsToBounds(e);return O.toLatLngBounds(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._cellCoordsToBounds(this._keyToCellCoords(e))},_cellCoordsToNwSe:function(e){var t=this._map,n=this.getCellSize(),i=e.scaleBy(n),r=i.add(n),o=t.unproject(i,e.z),l=t.unproject(r,e.z);return[o,l]},_cellCoordsToBounds:function(e){var t=this._cellCoordsToNwSe(e),n=new O.LatLngBounds(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_cellCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToCellCoords:function(e){var t=e.split(":"),n=new O.Point(+t[0],+t[1]);return n.z=+t[2],n},_removeCell:function(e){var t=this._cells[e];if(t){var n=this._keyToCellCoords(e),i=this._wrapCoords(n),r=this._cellCoordsToBounds(this._wrapCoords(n));t.current=!1,delete this._cells[e],this._activeCells[e]=t,this.cellLeave(r,i,e),this.fire("cellleave",{key:e,coords:i,bounds:r})}},_reuseCell:function(e){var t=this._cellCoordsToKey(e);this._cells[t]=this._activeCells[t],this._cells[t].current=!0;var n=this._wrapCoords(e),i=this._cellCoordsToBounds(this._wrapCoords(e));this.cellEnter(i,n,t),this.fire("cellenter",{key:t,coords:n,bounds:i})},_createCell:function(e){var t=this._cellCoordsToKey(e),n=this._wrapCoords(e),i=this._cellCoordsToBounds(this._wrapCoords(e));this.createCell(i,n,t),this.fire("cellcreate",{key:t,coords:n,bounds:i}),this._cells[t]={coords:e,current:!0},O.Util.requestAnimFrame(this._pruneCells,this)},_cellReady:function(e,t,n){var i=this._cellCoordsToKey(e);n=this._cells[i],n&&(n.loaded=+new Date,n.active=!0)},_getCellPos:function(e){return e.scaleBy(this.getCellSize())},_wrapCoords:function(e){var t=new O.Point(this._wrapX?O.Util.wrapNum(e.x,this._wrapX):e.x,this._wrapY?O.Util.wrapNum(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToCellRange:function(e){var t=this.getCellSize();return new O.Bounds(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))}});function Rn(e){this.values=[].concat(e||[])}Rn.prototype.query=function(e){var t=this.getIndex(e);return this.values[t]};Rn.prototype.getIndex=function(t){this.dirty&&this.sort();for(var n=0,i=this.values.length-1,r,o;n<=i;)if(r=(n+i)/2|0,o=this.values[Math.round(r)],+o.value<+t)n=r+1;else if(+o.value>+t)i=r-1;else return r;return Math.abs(~i)};Rn.prototype.between=function(t,n){var i=this.getIndex(t),r=this.getIndex(n);if(i===0&&r===0)return[];for(;this.values[i-1]&&this.values[i-1].value===t;)i--;for(;this.values[r+1]&&this.values[r+1].value===n;)r++;return this.values[r]&&this.values[r].value===n&&this.values[r+1]&&r++,this.values.slice(i,r)};Rn.prototype.insert=function(t){return this.values.splice(this.getIndex(t.value),0,t),this};Rn.prototype.bulkAdd=function(t,n){return this.values=this.values.concat([].concat(t||[])),n?this.sort():this.dirty=!0,this};Rn.prototype.sort=function(){return this.values.sort(function(t,n){return+n.value-+t.value}).reverse(),this.dirty=!1,this};var wd=Aa.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize:function(e){if(Aa.prototype.initialize.call(this,e),e=Wo(e),e=O.Util.setOptions(this,e),this.service=n2(e),this.service.addEventParent(this),this.options.fields[0]!=="*"){for(var t=!1,n=0;n<this.options.fields.length;n++)this.options.fields[n].match(/^(OBJECTID|FID|OID|ID)$/i)&&(t=!0);t===!1&&Ii("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Rn,this._endTimeIndex=new Rn):this.options.timeField&&(this._timeIndex=new Rn),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(e){return Vo(e),this.service.metadata(function(t,n){if(!t){var i=n.supportedQueryFormats,r=!1;(this.service.options.isModern===!1||this.options.fetchAllFeatures)&&(r=!0),!r&&i&&i.indexOf("geoJSON")!==-1&&(this.service.options.isModern=!0),n.objectIdField&&(this.service.options.idAttribute=n.objectIdField),!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))}},this),e.on("zoomend",this._handleZoomChange,this),Aa.prototype.onAdd.call(this,e)},onRemove:function(e){return $u(e),e.off("zoomend",this._handleZoomChange,this),Aa.prototype.onRemove.call(this,e)},getAttribution:function(){return this.options.attribution},createCell:function(e,t){this._visibleZoom()&&this._requestFeatures(e,t)},_requestFeatures:function(e,t,n,i){this._activeRequests++,i=i||0;var r=this.options.where;return this._activeRequests===1&&this.fire("loading",{bounds:e},!0),this._buildQuery(e,i).run(function(o,l,d){d&&d.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===r&&(!o&&l&&l.features.length&&O.Util.requestAnimFrame(O.Util.bind(function(){this._addFeatures(l.features,t),this._postProcessFeatures(e)},this)),!o&&l&&!l.features.length&&this._postProcessFeatures(e),o&&this._postProcessFeatures(e),n&&n.call(this,o,l),d&&(d.exceededTransferLimit||d.properties&&d.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(e,t,n,i+l.features.length))},this)},_postProcessFeatures:function(e){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:e})},_cacheKey:function(e){return e.z+":"+e.x+":"+e.y},_addFeatures:function(e,t){if(t){var n=this._cacheKey(t);this._cache[n]=this._cache[n]||[]}for(var i=e.length-1;i>=0;i--){var r=e[i].id;this._currentSnapshot.indexOf(r)===-1&&this._currentSnapshot.push(r),typeof n<"u"&&this._cache[n].indexOf(r)===-1&&this._cache[n].push(r)}this.options.timeField&&this._buildTimeIndexes(e),this.createLayers(e)},_buildQuery:function(e,t){var n=this.service.query().intersects(e).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(t))&&(n=n.offset(t)),n.params.resultType="tile",this.options.requestParams&&O.Util.extend(n.params,this.options.requestParams),this.options.simplifyFactor&&n.simplify(this._map,this.options.simplifyFactor),this.options.timeFilterMode==="server"&&this.options.from&&this.options.to&&n.between(this.options.from,this.options.to),n},setWhere:function(e,t,n){this.options.where=e&&e.length?e:"1=1";for(var i=[],r=[],o=0,l=null,d=O.Util.bind(function(v,w){if(v&&(l=v),w)for(var E=w.features.length-1;E>=0;E--)r.push(w.features[E].id);o--,o<=0&&this._visibleZoom()&&e===this.options.where&&(this._currentSnapshot=r,O.Util.requestAnimFrame(O.Util.bind(function(){this.removeLayers(i),this.addLayers(r),t&&t.call(n,l)},this)))},this),u=this._currentSnapshot.length-1;u>=0;u--)i.push(this._currentSnapshot[u]);this._cache={};for(var f in this._cells){o++;var p=this._keyToCellCoords(f),g=this._cellCoordsToBounds(p);this._requestFeatures(g,p,d)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,t,n,i){var r=this.options.from,o=this.options.to,l=0,d=null,u=O.Util.bind(function(v){v&&(d=v),this._filterExistingFeatures(r,o,e,t),l--,n&&l<=0&&n.call(i,d)},this);if(this.options.from=e,this.options.to=t,this._filterExistingFeatures(r,o,e,t),this.options.timeFilterMode==="server")for(var f in this._cells){l++;var p=this._keyToCellCoords(f),g=this._cellCoordsToBounds(p);this._requestFeatures(g,p,u)}return this},refresh:function(){this.setWhere(this.options.where)},_filterExistingFeatures:function(e,t,n,i){var r=e&&t?this._getFeaturesInTimeRange(e,t):this._currentSnapshot,o=this._getFeaturesInTimeRange(n,i);if(o.indexOf)for(var l=0;l<o.length;l++){var d=r.indexOf(o[l]);d>=0&&r.splice(d,1)}O.Util.requestAnimFrame(O.Util.bind(function(){this.removeLayers(r),this.addLayers(o)},this))},_getFeaturesInTimeRange:function(e,t){var n=[],i;if(this.options.timeField.start&&this.options.timeField.end){var r=this._startTimeIndex.between(e,t),o=this._endTimeIndex.between(e,t);i=r.concat(o)}else if(this._timeIndex)i=this._timeIndex.between(e,t);else return Ii("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];for(var l=i.length-1;l>=0;l--)n.push(i[l].id);return n},_buildTimeIndexes:function(e){var t,n;if(this.options.timeField.start&&this.options.timeField.end){var i=[],r=[];for(t=e.length-1;t>=0;t--)n=e[t],i.push({id:n.id,value:new Date(n.properties[this.options.timeField.start])}),r.push({id:n.id,value:new Date(n.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(i),this._endTimeIndex.bulkAdd(r)}else{var o=[];for(t=e.length-1;t>=0;t--)n=e[t],o.push({id:n.id,value:new Date(n.properties[this.options.timeField])});this._timeIndex.bulkAdd(o)}},_featureWithinTimeRange:function(e){if(!this.options.from||!this.options.to)return!0;var t=+this.options.from.valueOf(),n=+this.options.to.valueOf();if(typeof this.options.timeField=="string"){var i=+e.properties[this.options.timeField];return i>=t&&i<=n}if(this.options.timeField.start&&this.options.timeField.end){var r=+e.properties[this.options.timeField.start],o=+e.properties[this.options.timeField.end];return r>=t&&r<=n||o>=t&&o<=n||r<=t&&o>=n}},_visibleZoom:function(){if(!this._map)return!1;var e=this._map.getZoom();return!(e>this.options.maxZoom||e<this.options.minZoom)},_handleZoomChange:function(){if(!this._visibleZoom())this.removeLayers(this._currentSnapshot);else for(var e in this._cells){var t=this._cells[e].coords,n=this._cacheKey(t);this._cache[n]&&this.addLayers(this._cache[n])}},authenticate:function(e){return this.service.authenticate(e),this},metadata:function(e,t){return this.service.metadata(e,t),this},query:function(){return this.service.query()},_getMetadata:function(e){if(this._metadata){var t;e(t,this._metadata)}else this.metadata(O.Util.bind(function(n,i){this._metadata=i,e(n,this._metadata)},this))},addFeature:function(e,t,n){this.addFeatures(e,t,n)},addFeatures:function(e,t,n){this._getMetadata(O.Util.bind(function(i,r){if(i){t&&t.call(this,i,null);return}var o=e.features?e.features:[e];this.service.addFeatures(e,O.Util.bind(function(l,d){if(!l){for(var u=o.length-1;u>=0;u--)o[u].properties[r.objectIdField]=o.length>1?d[u].objectId:d.objectId,o[u].id=o.length>1?d[u].objectId:d.objectId;this._addFeatures(o)}t&&t.call(n,l,d)},this))},this))},updateFeature:function(e,t,n){this.updateFeatures(e,t,n)},updateFeatures:function(e,t,n){var i=e.features?e.features:[e];this.service.updateFeatures(e,function(r,o){if(!r){for(var l=i.length-1;l>=0;l--)this.removeLayers([i[l].id],!0);this._addFeatures(i)}t&&t.call(n,r,o)},this)},deleteFeature:function(e,t,n){this.deleteFeatures(e,t,n)},deleteFeatures:function(e,t,n){return this.service.deleteFeatures(e,function(i,r){var o=r.length?r:[r];if(!i&&o.length>0)for(var l=o.length-1;l>=0;l--)this.removeLayers([o[l].objectId],!0);t&&t.call(n,i,r)},this)}});wd.extend({options:{cacheLayers:!0},initialize:function(e){wd.prototype.initialize.call(this,e),this._originalStyle=this.options.style,this._layers={}},onRemove:function(e){for(var t in this._layers)e.removeLayer(this._layers[t]),this.fire("removefeature",{feature:this._layers[t].feature,permanent:!1},!0);return wd.prototype.onRemove.call(this,e)},createNewLayer:function(e){var t=O.GeoJSON.geometryToLayer(e,this.options);return t&&(t.defaultOptions=t.options),t},_updateLayer:function(e,t){var n=[],i=this.options.coordsToLatLng||O.GeoJSON.coordsToLatLng;switch(t.properties&&(e.feature.properties=t.properties),t.geometry.type){case"Point":n=O.GeoJSON.coordsToLatLng(t.geometry.coordinates),e.setLatLng(n);break;case"LineString":n=O.GeoJSON.coordsToLatLngs(t.geometry.coordinates,0,i),e.setLatLngs(n);break;case"MultiLineString":n=O.GeoJSON.coordsToLatLngs(t.geometry.coordinates,1,i),e.setLatLngs(n);break;case"Polygon":n=O.GeoJSON.coordsToLatLngs(t.geometry.coordinates,1,i),e.setLatLngs(n);break;case"MultiPolygon":n=O.GeoJSON.coordsToLatLngs(t.geometry.coordinates,2,i),e.setLatLngs(n);break}},createLayers:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],i=this._layers[n.id],r;this._visibleZoom()&&i&&!this._map.hasLayer(i)&&(!this.options.timeField||this._featureWithinTimeRange(n))&&(this._map.addLayer(i),this.fire("addfeature",{feature:i.feature},!0)),i&&this.options.simplifyFactor>0&&(i.setLatLngs||i.setLatLng)&&this._updateLayer(i,n),i||(r=this.createNewLayer(n),r?(r.feature=n,r.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(r.feature,r),this._layers[r.feature.id]=r,this.setFeatureStyle(r.feature.id,this.options.style),this.fire("createfeature",{feature:r.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(n))&&this._map.addLayer(r)):Ii("invalid GeoJSON encountered"))}},addLayers:function(e){for(var t=e.length-1;t>=0;t--){var n=this._layers[e[t]];n&&(!this.options.timeField||this._featureWithinTimeRange(n.feature))&&this._map.addLayer(n)}},removeLayers:function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n],r=this._layers[i];r&&(this.fire("removefeature",{feature:r.feature,permanent:t},!0),this._map.removeLayer(r)),r&&t&&delete this._layers[i]}},cellEnter:function(e,t){this._visibleZoom()&&!this._zooming&&this._map&&O.Util.requestAnimFrame(O.Util.bind(function(){var n=this._cacheKey(t),i=this._cellCoordsToKey(t),r=this._cache[n];this._activeCells[i]&&r&&this.addLayers(r)},this))},cellLeave:function(e,t){this._zooming||O.Util.requestAnimFrame(O.Util.bind(function(){if(this._map){var n=this._cacheKey(t),i=this._cellCoordsToKey(t),r=this._cache[n],o=this._map.getBounds();if(!this._activeCells[i]&&r){for(var l=!0,d=0;d<r.length;d++){var u=this._layers[r[d]];u&&u.getBounds&&o.intersects(u.getBounds())&&(l=!1)}l&&this.removeLayers(r,!this.options.cacheLayers),!this.options.cacheLayers&&l&&(delete this._cache[n],delete this._cells[i],delete this._activeCells[i])}}},this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature(function(e){this.resetFeatureStyle(e.feature.id)},this),this},setStyle:function(e){return this.options.style=e,this.eachFeature(function(t){this.setFeatureStyle(t.feature.id,e)},this),this},resetFeatureStyle:function(e){var t=this._layers[e],n=this._originalStyle||O.Path.prototype.options;return t&&(O.Util.extend(t.options,t.defaultOptions),this.setFeatureStyle(e,n)),this},setFeatureStyle:function(e,t){var n=this._layers[e];return typeof t=="function"&&(t=t(n.feature)),n.setStyle&&n.setStyle(t),this},eachActiveFeature:function(e,t){if(this._map){var n=this._map.getBounds();for(var i in this._layers)this._currentSnapshot.indexOf(this._layers[i].feature.id)!==-1&&(typeof this._layers[i].getLatLng=="function"&&n.contains(this._layers[i].getLatLng())?e.call(t,this._layers[i]):typeof this._layers[i].getBounds=="function"&&n.intersects(this._layers[i].getBounds())&&e.call(t,this._layers[i]))}return this},eachFeature:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getFeature:function(e){return this._layers[e]},bringToBack:function(){this.eachFeature(function(e){e.bringToBack&&e.bringToBack()})},bringToFront:function(){this.eachFeature(function(e){e.bringToFront&&e.bringToFront()})},redraw:function(e){return e&&this._redraw(e),this},_redraw:function(e){var t=this._layers[e],n=t.feature;if(t&&t.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var i=this.options.pointToLayer(n,O.latLng(n.geometry.coordinates[1],n.geometry.coordinates[0])),r=i.options.icon;t.setIcon(r)}if(t&&t.setStyle&&this.options.pointToLayer){var o=this.options.pointToLayer(n,O.latLng(n.geometry.coordinates[1],n.geometry.coordinates[0])),l=o.options;this.setFeatureStyle(n.id,l)}t&&t.setStyle&&this.options.style&&this.resetStyle(n.id)}});var Hu="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/",s2=Bn.extend({path:"findAddressCandidates",params:{outSr:4326,forStorage:!1,outFields:"*",maxLocations:20},setters:{address:"address",neighborhood:"neighborhood",city:"city",subregion:"subregion",region:"region",postal:"postal",country:"country",text:"singleLine",category:"category",token:"token",key:"magicKey",fields:"outFields",forStorage:"forStorage",maxLocations:"maxLocations",countries:"sourceCountry"},initialize:function(e){e=e||{},e.url=e.url||Hu,Bn.prototype.initialize.call(this,e)},within:function(e){return e=O.latLngBounds(e),this.params.searchExtent=ql.boundsToExtent(e),this},nearby:function(e,t){var n=O.latLng(e);return this.params.location=n.lng+","+n.lat,this.params.distance=Math.min(Math.max(t,2e3),5e4),this},run:function(e,t){return this.options.customParam&&(this.params[this.options.customParam]=this.params.singleLine,delete this.params.singleLine),this.request(function(n,i){var r=this._processGeocoderResponse,o=n?void 0:r(i);e.call(t,n,{results:o},i)},this)},_processGeocoderResponse:function(e){for(var t=[],n=0;n<e.candidates.length;n++){var i=e.candidates[n];if(i.extent)var r=ql.extentToBounds(i.extent);t.push({text:i.address,bounds:r,score:i.score,latlng:O.latLng(i.location.y,i.location.x),properties:i.attributes})}return t}});function PS(e){return new s2(e)}var o2=Bn.extend({path:"reverseGeocode",params:{outSR:4326,returnIntersection:!1},setters:{distance:"distance",language:"langCode",intersection:"returnIntersection"},initialize:function(e){e=e||{},e.url=e.url||Hu,Bn.prototype.initialize.call(this,e)},latlng:function(e){var t=O.latLng(e);return this.params.location=t.lng+","+t.lat,this},run:function(e,t){return this.request(function(n,i){var r;n?r=void 0:r={latlng:O.latLng(i.location.y,i.location.x),address:i.address},e.call(t,n,r,i)},this)}});function a2(e){return new o2(e)}var l2=Bn.extend({path:"suggest",params:{},setters:{text:"text",category:"category",countries:"countryCode",maxSuggestions:"maxSuggestions"},initialize:function(e){e=e||{},e.url||(e.url=Hu,e.supportsSuggest=!0),Bn.prototype.initialize.call(this,e)},within:function(e){e=O.latLngBounds(e),e=e.pad(.5);var t=e.getCenter(),n=e.getNorthWest();return this.params.location=t.lng+","+t.lat,this.params.distance=Math.min(Math.max(t.distanceTo(n),2e3),5e4),this.params.searchExtent=ql.boundsToExtent(e),this},nearby:function(e,t){var n=O.latLng(e);return this.params.location=n.lng+","+n.lat,this.params.distance=Math.min(Math.max(t,2e3),5e4),this},run:function(e,t){if(this.options.supportsSuggest)return this.request(function(n,i){e.call(t,n,i,i)},this);console.warn("this geocoding service does not support asking for suggestions")}});function u2(e){return new l2(e)}var CS=qr.extend({initialize:function(e){e=e||{},e.url?(qr.prototype.initialize.call(this,e),this._confirmSuggestSupport()):(e.url=Hu,e.supportsSuggest=!0,qr.prototype.initialize.call(this,e))},geocode:function(){return PS(this)},reverse:function(){return a2(this)},suggest:function(){return u2(this)},_confirmSuggestSupport:function(){this.metadata(function(e,t){e||(t.capabilities?t.capabilities.indexOf("Suggest")>-1?this.options.supportsSuggest=!0:this.options.supportsSuggest=!1:this.options.supportsSuggest=!1,this.options.customParam=t.singleLineAddressField.name)},this)}}),c2=O.Evented.extend({options:{zoomToResult:!0,useMapBounds:12,searchBounds:null},initialize:function(e,t){if(O.Util.setOptions(this,t),this._control=e,!t||!t.providers||!t.providers.length)throw new Error("You must specify at least one provider");this._providers=t.providers},_geocode:function(e,t,n){var i=0,r=[],o,l=O.Util.bind(function(u,f){i--,!u&&(f&&(r=r.concat(f)),i<=0&&(o=this._boundsFromResults(r),this.fire("results",{results:r,bounds:o,latlng:o?o.getCenter():void 0,text:e},!0),this.options.zoomToResult&&o&&this._control._map.fitBounds(o),this.fire("load")))},this);if(t)i++,n.results(e,t,this._searchBounds(),l);else for(var d=0;d<this._providers.length;d++)i++,this._providers[d].results(e,t,this._searchBounds(),l)},_suggest:function(e){var t=this._providers.length,n=0,i=O.Util.bind(function(d,u){return O.Util.bind(function(f,p){if(t=t-1,n+=p.length,f){this._control._clearProviderSuggestions(u),this._control._finalizeSuggestions(t,n);return}if(p.length)for(var g=0;g<p.length;g++)p[g].provider=u;else this._control._renderSuggestions(p);u._lastRender!==d&&this._control._clearProviderSuggestions(u),p.length&&this._control._input.value===d&&(u._lastRender=d,this._control._renderSuggestions(p)),this._control._finalizeSuggestions(t,n)},this)},this);this._pendingSuggestions=[];for(var r=0;r<this._providers.length;r++){var o=this._providers[r],l=o.suggestions(e,this._searchBounds(),i(e,o));this._pendingSuggestions.push(l)}},_searchBounds:function(){return this.options.searchBounds!==null?this.options.searchBounds:this.options.useMapBounds===!1?null:this.options.useMapBounds===!0?this._control._map.getBounds():this.options.useMapBounds<=this._control._map.getZoom()?this._control._map.getBounds():null},_boundsFromResults:function(e){if(e.length){for(var t=O.latLngBounds([0,0],[0,0]),n=[],i=[],r=e.length-1;r>=0;r--){var o=e[r];i.push(o.latlng),o.bounds&&o.bounds.isValid()&&!o.bounds.equals(t)&&n.push(o.bounds)}for(var l=O.latLngBounds(i),d=0;d<n.length;d++)l.extend(n[d]);return l}},_getAttribution:function(){for(var e=[],t=this._providers,n=0;n<t.length;n++)t[n].options.attribution&&e.push(t[n].options.attribution);return e.join(", ")}});function d2(e,t){return new c2(e,t)}var f2=CS.extend({options:{label:"Places and Addresses",maxResults:5},suggestions:function(e,t,n){var i=this.suggest().text(e);return t&&i.within(t),this.options.countries&&i.countries(this.options.countries),this.options.categories&&i.category(this.options.categories),i.maxSuggestions(this.options.maxResults),i.run(function(r,o,l){var d=[];if(!r)for(;l.suggestions.length&&d.length<=this.options.maxResults-1;){var u=l.suggestions.shift();u.isCollection||d.push({text:u.text,unformattedText:u.text,magicKey:u.magicKey})}n(r,d)},this)},results:function(e,t,n,i){var r=this.geocode().text(e);return t&&r.key(t),r.maxLocations(this.options.maxResults),n&&r.within(n),this.options.forStorage&&r.forStorage(!0),this.options.countries&&r.countries(this.options.countries),this.options.categories&&r.category(this.options.categories),r.run(function(o,l){i(o,l.results)},this)}});function h2(e){return new f2(e)}O.Control.extend({includes:O.Evented.prototype,options:{position:"topleft",collapseAfterResult:!0,expanded:!1,allowMultipleResults:!0,placeholder:"Search for places or addresses",title:"Location Search"},initialize:function(e){O.Util.setOptions(this,e),(!e||!e.providers||!e.providers.length)&&(e||(e={}),e.providers=[h2()]),this._geosearchCore=d2(this,e),this._geosearchCore._providers=e.providers,this._geosearchCore.addEventParent(this);for(var t=0;t<this._geosearchCore._providers.length;t++)this._geosearchCore._providers[t].addEventParent(this);this._geosearchCore._pendingSuggestions=[],O.Control.prototype.initialize.call(this,e)},_renderSuggestions:function(e){var t;e.length>0&&(this._suggestions.style.display="block");for(var n,i,r=[],o=0;o<e.length;o++){var l=e[o];if(!i&&this._geosearchCore._providers.length>1&&t!==l.provider.options.label&&(i=O.DomUtil.create("div","geocoder-control-header",l.provider._contentsElement),i.textContent=l.provider.options.label,i.innerText=l.provider.options.label,t=l.provider.options.label),n||(n=O.DomUtil.create("ul","geocoder-control-list",l.provider._contentsElement)),r.indexOf(l.text)===-1){var d=O.DomUtil.create("li","geocoder-control-suggestion",n);d.innerHTML=l.text,d.provider=l.provider,d["data-magic-key"]=l.magicKey,d.unformattedText=l.unformattedText}else for(var u=0;u<n.childNodes.length;u++)n.childNodes[u].innerHTML===l.text&&(n.childNodes[u]["data-magic-key"]+=","+l.magicKey);r.push(l.text)}this.getPosition().indexOf("top")>-1&&(this._suggestions.style.maxHeight=this._map.getSize().y-this._suggestions.offsetTop-this._wrapper.offsetTop-10+"px"),this.getPosition().indexOf("bottom")>-1&&this._setSuggestionsBottomPosition()},_setSuggestionsBottomPosition:function(){this._suggestions.style.maxHeight=this._map.getSize().y-this._map._controlCorners[this.getPosition()].offsetHeight-this._wrapper.offsetHeight+"px",this._suggestions.style.top=-this._suggestions.offsetHeight-this._wrapper.offsetHeight+20+"px"},_boundsFromResults:function(e){if(e.length){for(var t=O.latLngBounds([0,0],[0,0]),n=[],i=[],r=e.length-1;r>=0;r--){var o=e[r];i.push(o.latlng),o.bounds&&o.bounds.isValid()&&!o.bounds.equals(t)&&n.push(o.bounds)}for(var l=O.latLngBounds(i),d=0;d<n.length;d++)l.extend(n[d]);return l}},clear:function(){this._clearAllSuggestions(),this.options.collapseAfterResult&&(this._input.value="",this._lastValue="",this._input.placeholder="",O.DomUtil.removeClass(this._wrapper,"geocoder-control-expanded")),!this._map.scrollWheelZoom.enabled()&&this._map.options.scrollWheelZoom&&this._map.scrollWheelZoom.enable()},_clearAllSuggestions:function(){this._suggestions.style.display="none";for(var e=0;e<this.options.providers.length;e++)this._clearProviderSuggestions(this.options.providers[e])},_clearProviderSuggestions:function(e){e._contentsElement.innerHTML=""},_finalizeSuggestions:function(e,t){e||(O.DomUtil.removeClass(this._input,"geocoder-control-loading"),this.getPosition().indexOf("bottom")>-1&&this._setSuggestionsBottomPosition(),t||this._clearAllSuggestions())},_setupClick:function(){O.DomUtil.addClass(this._wrapper,"geocoder-control-expanded"),this._input.focus()},disable:function(){this._input.disabled=!0,O.DomUtil.addClass(this._input,"geocoder-control-input-disabled"),O.DomEvent.removeListener(this._wrapper,"click",this._setupClick,this)},enable:function(){this._input.disabled=!1,O.DomUtil.removeClass(this._input,"geocoder-control-input-disabled"),O.DomEvent.addListener(this._wrapper,"click",this._setupClick,this)},getAttribution:function(){for(var e=[],t=0;t<this._providers.length;t++)this._providers[t].options.attribution&&e.push(this._providers[t].options.attribution);return e.join(", ")},geocodeSuggestion:function(e){var t=e.target||e.srcElement;t.classList.contains("geocoder-control-suggestions")||t.classList.contains("geocoder-control-header")||(t.classList.length<1&&(t=t.parentNode),this._geosearchCore._geocode(t.unformattedText,t["data-magic-key"],t.provider),this.clear())},onAdd:function(e){ql.setEsriAttribution(e),this._map=e,this._wrapper=O.DomUtil.create("div","geocoder-control"),this._input=O.DomUtil.create("input","geocoder-control-input leaflet-bar",this._wrapper),this._input.title=this.options.title,this.options.expanded&&(O.DomUtil.addClass(this._wrapper,"geocoder-control-expanded"),this._input.placeholder=this.options.placeholder),this._suggestions=O.DomUtil.create("div","geocoder-control-suggestions leaflet-bar",this._wrapper);for(var t=0;t<this.options.providers.length;t++)this.options.providers[t]._contentsElement=O.DomUtil.create("div",null,this._suggestions);var n=this._geosearchCore._getAttribution();return e.attributionControl&&e.attributionControl.addAttribution(n),O.DomEvent.addListener(this._input,"focus",function(i){this._input.placeholder=this.options.placeholder,O.DomUtil.addClass(this._wrapper,"geocoder-control-expanded")},this),O.DomEvent.addListener(this._wrapper,"click",this._setupClick,this),O.DomEvent.addListener(this._suggestions,"mousedown",this.geocodeSuggestion,this),O.DomEvent.addListener(this._input,"blur",function(i){this.clear()},this),O.DomEvent.addListener(this._input,"keydown",function(i){var r=(i.target||i.srcElement).value;O.DomUtil.addClass(this._wrapper,"geocoder-control-expanded");for(var o=this._suggestions.querySelectorAll(".geocoder-control-suggestion"),l=this._suggestions.querySelectorAll(".geocoder-control-selected")[0],d,u=0;u<o.length;u++)if(o[u]===l){d=u;break}switch(i.keyCode){case 13:l?(this._input.value=l.innerText,this._geosearchCore._geocode(l.unformattedText,l["data-magic-key"],l.provider),this.clear()):this.options.allowMultipleResults&&r.length>=2?(this._geosearchCore._geocode(this._input.value,void 0),this.clear()):o.length===1?(O.DomUtil.addClass(o[0],"geocoder-control-selected"),this._geosearchCore._geocode(o[0].innerHTML,o[0]["data-magic-key"],o[0].provider)):(this.clear(),this._input.blur()),O.DomEvent.preventDefault(i);break;case 38:l&&O.DomUtil.removeClass(l,"geocoder-control-selected");var f=o[d-1];l&&f?O.DomUtil.addClass(f,"geocoder-control-selected"):O.DomUtil.addClass(o[o.length-1],"geocoder-control-selected"),O.DomEvent.preventDefault(i);break;case 40:l&&O.DomUtil.removeClass(l,"geocoder-control-selected");var p=o[d+1];l&&p?O.DomUtil.addClass(p,"geocoder-control-selected"):O.DomUtil.addClass(o[0],"geocoder-control-selected"),O.DomEvent.preventDefault(i);break;default:for(var g=0;g<this._geosearchCore._pendingSuggestions.length;g++){var v=this._geosearchCore._pendingSuggestions[g];v&&v.abort&&!v.id&&v.abort()}break}},this),O.DomEvent.addListener(this._input,"keyup",O.Util.throttle(function(i){var r=i.which||i.keyCode,o=(i.target||i.srcElement).value;if(o.length<2){this._lastValue=this._input.value,this._clearAllSuggestions(),O.DomUtil.removeClass(this._input,"geocoder-control-loading");return}if(r===27){this._clearAllSuggestions();return}r!==13&&r!==38&&r!==40&&this._input.value!==this._lastValue&&(this._lastValue=this._input.value,O.DomUtil.addClass(this._input,"geocoder-control-loading"),this._geosearchCore._suggest(o))},50,this),this),O.DomEvent.disableClickPropagation(this._wrapper),O.DomEvent.addListener(this._suggestions,"mouseover",function(i){e.scrollWheelZoom.enabled()&&e.options.scrollWheelZoom&&e.scrollWheelZoom.disable()}),O.DomEvent.addListener(this._suggestions,"mouseout",function(i){!e.scrollWheelZoom.enabled()&&e.options.scrollWheelZoom&&e.scrollWheelZoom.enable()}),this._geosearchCore.on("load",function(i){O.DomUtil.removeClass(this._input,"geocoder-control-loading"),this.clear(),this._input.blur()},this),this._wrapper}});Hf.extend({options:{label:"Feature Layer",maxResults:5,bufferRadius:1e3,searchMode:"contain",formatSuggestion:function(e){return e.properties[this.options.searchFields[0]]}},initialize:function(e){Hf.prototype.initialize.call(this,e),typeof this.options.searchFields=="string"&&(this.options.searchFields=[this.options.searchFields]),this._suggestionsQuery=this.query(),this._resultsQuery=this.query()},suggestions:function(e,t,n){var i=this._suggestionsQuery.where(this._buildQuery(e)).returnGeometry(!1);t&&i.intersects(t),this.options.idField&&i.fields([this.options.idField].concat(this.options.searchFields));var r=i.run(function(o,l,d){if(o)n(o,[]);else{this.options.idField=d.objectIdFieldName;for(var u=[],f=l.features.length-1;f>=0;f--){var p=l.features[f];u.push({text:this.options.formatSuggestion.call(this,p),unformattedText:p.properties[this.options.searchFields[0]],magicKey:p.id})}n(o,u.slice(0,this.options.maxResults))}},this);return r},results:function(e,t,n,i){var r=this._resultsQuery;return t?(delete r.params.where,r.featureIds([t])):r.where(this._buildQuery(e)),n&&r.within(n),r.run(O.Util.bind(function(o,l){for(var d=[],u=0;u<l.features.length;u++){var f=l.features[u];if(f){var p=this._featureBounds(f),g={latlng:p.getCenter(),bounds:p,text:this.options.formatSuggestion.call(this,f),properties:f.properties,geojson:f};d.push(g),delete this._resultsQuery.params.objectIds}}i(o,d)},this))},orderBy:function(e,t){this._suggestionsQuery.orderBy(e,t)},_buildQuery:function(e){for(var t=[],n=this.options.searchFields.length-1;n>=0;n--){var i='upper("'+this.options.searchFields[n]+'")';if(this.options.searchMode==="contain")t.push(i+" LIKE upper('%"+e+"%')");else if(this.options.searchMode==="startWith")t.push(i+" LIKE upper('"+e+"%')");else if(this.options.searchMode==="endWith")t.push(i+" LIKE upper('%"+e+"')");else if(this.options.searchMode==="strict")t.push(i+" LIKE upper('"+e+"')");else throw new Error('L.esri.Geocoding.featureLayerProvider: Invalid parameter for "searchMode". Use one of "contain", "startWith", "endWith", or "strict"')}return this.options.where?this.options.where+" AND ("+t.join(" OR ")+")":t.join(" OR ")},_featureBounds:function(e){var t=O.geoJson(e);if(e.geometry.type==="Point"){var n=t.getBounds().getCenter(),i=this.options.bufferRadius/40075017*360/Math.cos(180/Math.PI*n.lat),r=this.options.bufferRadius/40075017*360;return O.latLngBounds([n.lat-r,n.lng-i],[n.lat+r,n.lng+i])}else return t.getBounds()}});$f.extend({options:{layers:[0],label:"Map Service",bufferRadius:1e3,maxResults:5,formatSuggestion:function(e){return e.properties[e.displayFieldName]+" <small>"+e.layerName+"</small>"}},initialize:function(e){$f.prototype.initialize.call(this,e),this._getIdFields()},suggestions:function(e,t,n){var i=this.find().text(e).fields(this.options.searchFields).returnGeometry(!1).layers(this.options.layers);return i.run(function(r,o,l){var d=[];if(!r){var u=Math.min(this.options.maxResults,o.features.length);l.results=l.results.reverse();for(var f=0;f<u;f++){var p=o.features[f],g=l.results[f],v=g.layerId,w=this._idFields[v];p.layerId=v,p.layerName=this._layerNames[v],p.displayFieldName=this._displayFields[v],w&&d.push({text:this.options.formatSuggestion.call(this,p),unformattedText:p.properties[p.displayFieldName],magicKey:g.attributes[w]+":"+v})}}n(r,d.reverse())},this)},results:function(e,t,n,i){var r=[],o;if(t){var l=t.split(":")[0],d=t.split(":")[1];o=this.query().layer(d).featureIds(l)}else o=this.find().text(e).fields(this.options.searchFields).layers(this.options.layers);return o.run(function(u,f,p){if(!u){p.results&&(p.results=p.results.reverse());for(var g=0;g<f.features.length;g++){var v=f.features[g];if(d=d||p.results[g].layerId,v&&d!==void 0){var w=this._featureBounds(v);v.layerId=d,v.layerName=this._layerNames[d],v.displayFieldName=this._displayFields[d];var E={latlng:w.getCenter(),bounds:w,text:this.options.formatSuggestion.call(this,v),properties:v.properties,geojson:v};r.push(E)}}}i(u,r.reverse())},this)},_featureBounds:function(e){var t=O.geoJson(e);if(e.geometry.type==="Point"){var n=t.getBounds().getCenter(),i=this.options.bufferRadius/40075017*360/Math.cos(180/Math.PI*n.lat),r=this.options.bufferRadius/40075017*360;return O.latLngBounds([n.lat-r,n.lng-i],[n.lat+r,n.lng+i])}else return t.getBounds()},_layerMetadataCallback:function(e){return O.Util.bind(function(t,n){if(!t){this._displayFields[e]=n.displayField,this._layerNames[e]=n.name;for(var i=0;i<n.fields.length;i++){var r=n.fields[i];if(r.type==="esriFieldTypeOID"){this._idFields[e]=r.name;break}}}},this)},_getIdFields:function(){this._idFields={},this._displayFields={},this._layerNames={};for(var e=0;e<this.options.layers.length;e++){var t=this.options.layers[e];this.get(t,{},this._layerMetadataCallback(t))}}});CS.extend({options:{label:"Geocode Server",maxResults:5},suggestions:function(e,t,n){if(this.options.supportsSuggest){var i=this.suggest().text(e);return t&&i.within(t),i.run(function(r,o,l){var d=[];if(!r)for(;l.suggestions.length&&d.length<=this.options.maxResults-1;){var u=l.suggestions.shift();u.isCollection||d.push({text:u.text,unformattedText:u.text,magicKey:u.magicKey})}n(r,d)},this)}else return n(void 0,[]),!1},results:function(e,t,n,i){var r=this.geocode().text(e);return t&&r.key(t),r.maxLocations(this.options.maxResults),n&&r.within(n),r.run(function(o,l){i(o,l.results)},this)}});let IS=sS.icon({iconUrl:RM,shadowUrl:AM});sS.Marker.prototype.options.icon=IS;const LS=({address:e})=>{const t=SM(),[n,i]=k.useState([60,19]);return k.useEffect(()=>{PS().text(e).run((r,o)=>{var l,d;if(((l=o==null?void 0:o.results)==null?void 0:l.length)>0){const{lat:u,lng:f}=((d=o==null?void 0:o.results[0])==null?void 0:d.latlng)??{};i([u,f]),t.flyTo([u,f],15)}})},[e,t]),_.jsx(EM,{position:n,icon:IS,children:_.jsx(PM,{})})};LS.propTypes={address:cS.string.isRequired};function kS({address:e}){return _.jsx(_.Fragment,{children:e&&_.jsxs(TM,{center:[53.35,18.8],zoom:1,scrollWheelZoom:!1,style:{height:"40vh",width:"100%",marginTop:"20px",zIndex:0},children:[_.jsx(CM,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),_.jsx(LS,{address:e})]})})}kS.propTypes={address:cS.string.isRequired};function p2(){Mo.use([mw]);const[e,t]=k.useState(null),[n,i]=k.useState(!1),[r,o]=k.useState(!1),[l,d]=k.useState(!1),[u,f]=k.useState(!1),[p,g]=k.useState([]),v=Y0(),{currentUser:w}=fr(E=>E.user);return k.useEffect(()=>{(async()=>{try{i(!0);const C=await(await fetch(`/api/listing/get/${v.listingSlug}`)).json();if(C.success===!1){o(!0),i(!1);return}t(C),i(!1),o(!1)}catch{o(!0),i(!0)}})()},[v.listingSlug]),k.useEffect(()=>{(async()=>{try{const C=await(await fetch("/api/listing/get")).json();if(C.success===!1){o(!0),i(!1);return}const x=e.address.split(", ").slice(-3).join(", "),y=C.filter(T=>T.address.includes(x)&&T.slug!==v.listingSlug);g(y)}catch{o(!0),i(!1)}})()},[e,v.listingSlug]),_.jsxs("main",{children:[n&&_.jsx("p",{className:"text-center my-7 text-2xl text-emerald-700",children:"Đang tải..."}),r&&_.jsx("p",{className:"text-center my-7 text-2xl text-rose-700",children:"Có lỗi xảy ra!"}),e&&!n&&!r&&_.jsxs("div",{children:[_.jsx(qh,{navigation:!0,children:e.imageUrls.map(E=>_.jsx(Kh,{children:_.jsx("div",{className:"h-[550px]",style:{background:`url(${E}) center no-repeat`,backgroundSize:"cover"}})},E))}),_.jsx("div",{className:"fixed top-[13%] right-[3%] z-10 border rounded-full w-12 h-12 flex justify-center items-center bg-emerald-100 cursor-pointer",children:_.jsx(SI,{className:"text-emerald-700",onClick:()=>{navigator.clipboard.writeText(window.location.href),d(!0),setTimeout(()=>{d(!1)},2e3)}})}),l&&_.jsx("p",{className:"fixed top-[23%] right-[5%] z-10 rounded-md bg-emerald-100 p-2",children:"Sao chép liên kết thành công!"}),_.jsxs("div",{className:"flex flex-col max-w-4xl mx-auto p-3 my-7 gap-4",children:[_.jsx("p",{className:"font-bold text-emerald-700 text-3xl",children:e.name}),_.jsxs("p",{className:"text-xl font-semibold text-emerald-900",children:[e.offer?e.discountPrice.toLocaleString("vi-VN"):e.regularPrice.toLocaleString("vi-VN")," ","đồng",e.type==="rent"&&"/tháng"]}),_.jsxs("p",{className:"flex items-center mt-4 gap-2 text-emerald-700  text-sm",children:[_.jsx(wI,{className:"text-green-700"}),e.address]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("p",{className:"bg-emerald-500 w-full max-w-[200px] text-white text-sm font-medium text-center p-1 rounded-md",children:e.type==="rent"?"Cho thuê":"Nhà bán"}),e.offer&&_.jsxs("p",{className:"bg-emerald-600 w-full max-w-[200px] text-white text-sm font-medium text-center p-1 rounded-md",children:["Giảm giá"," ",Math.ceil(100-e.discountPrice/e.regularPrice*100),"%"]})]}),_.jsxs("p",{className:"text-emerald-700",children:[_.jsx("span",{className:"font-semibold text-emerald-950",children:"Mô tả - "}),e.description]}),_.jsxs("ul",{className:"text-emerald-900 font-medium text-sm flex flex-wrap items-center gap-4 sm:gap-6",children:[_.jsxs("li",{className:"flex items-center gap-1 whitespace-nowrap ",children:[_.jsx(yw,{className:"text-lg"}),e.bedrooms&&`${e.bedrooms} phòng ngủ`]}),_.jsxs("li",{className:"flex items-center gap-1 whitespace-nowrap ",children:[_.jsx(_w,{className:"text-lg"}),e.bathrooms&&`${e.bathrooms} phòng tắm`]}),_.jsxs("li",{className:"flex items-center gap-1 whitespace-nowrap ",children:[_.jsx(xI,{className:"text-lg"}),e.parking?"Có bãi xe":"Không có bãi xe"]}),_.jsxs("li",{className:"flex items-center gap-1 whitespace-nowrap ",children:[_.jsx(yI,{className:"text-lg"}),e.furnished?"Có nội thất":"Không nội thất"]})]}),w&&e.userRef!==w._id&&!u&&_.jsx("button",{onClick:()=>f(!0),className:"bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 px-5 py-2 font-medium",children:"Liên hệ người đăng"}),u&&_.jsx(uM,{listing:e}),_.jsx(kS,{address:e.address})]}),p&&p.length>0&&_.jsxs("div",{className:"max-w-4xl mx-auto p-3 my-7",children:[_.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:["Xem thêm ",e.type==="rent"?"nhà thuê":"nhà bán"," tại khu vực này"]}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:p.slice(0,6).map(E=>_.jsx(eo,{listing:E},E.slug))})]})]})]})}function m2(){const e=$n(),[t,n]=k.useState({searchTerm:"",type:"all",parking:!1,furnished:!1,offer:!1,sort:"created_at",order:"desc"}),[i,r]=k.useState(!1),[o,l]=k.useState([]),[d,u]=k.useState(!1);k.useEffect(()=>{const v=new URLSearchParams(location.search),w=v.get("searchTerm"),E=v.get("type"),b=v.get("parking"),C=v.get("furnished"),x=v.get("offer"),y=v.get("sort"),T=v.get("order");(w||E||b||C||x||y||T)&&n({searchTerm:w||"",type:E||"all",parking:b==="true",furnished:C==="true",offer:x==="true",sort:y||"created_at",order:T||"desc"}),(async()=>{r(!0),u(!1);const N=v.toString(),M=await(await fetch(`/api/listing/get?${N}`)).json();M.length>8?u(!0):u(!1),l(M),r(!1)})()},[location.search]);const f=v=>{if((v.target.id==="all"||v.target.id==="rent"||v.target.id==="sale")&&n({...t,type:v.target.id}),v.target.id==="searchTerm"&&n({...t,searchTerm:v.target.value}),(v.target.id==="parking"||v.target.id==="furnished"||v.target.id==="offer")&&n({...t,[v.target.id]:!!(v.target.checked||v.target.checked==="true")}),v.target.id==="sort_order"){const w=v.target.value.split("_")[0]||"created_at",E=v.target.value.split("_")[1]||"desc";n({...t,sort:w,order:E})}},p=v=>{v.preventDefault();const w=new URLSearchParams;w.set("searchTerm",t.searchTerm),w.set("type",t.type),w.set("parking",t.parking),w.set("furnished",t.furnished),w.set("offer",t.offer),w.set("sort",t.sort),w.set("order",t.order);const E=w.toString();e(`/search?${E}`)},g=async()=>{const w=o.length,E=new URLSearchParams(location.search);E.set("startIndex",w);const b=E.toString(),x=await(await fetch(`/api/listing/get?${b}`)).json();x.length<9&&u(!1),l([...o,...x])};return _.jsxs("div",{className:"flex flex-col md:flex-row",children:[_.jsx("div",{className:"p-7  border-b-2 md:border-r-2 md:min-h-screen",children:_.jsxs("form",{onSubmit:p,className:"flex flex-col gap-8",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"whitespace-nowrap font-semibold text-emerald-700",children:"Tìm kiếm:"}),_.jsx("input",{type:"text",id:"searchTerm",placeholder:"Từ khóa...",className:"border rounded-lg px-5 py-2 w-full",value:t.searchTerm,onChange:f})]}),_.jsxs("div",{className:"flex gap-2 flex-wrap items-center text-emerald-900",children:[_.jsx("label",{className:"font-semibold text-emerald-700",children:"Loại:"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"all",className:"w-5",onChange:f,checked:t.type==="all"}),_.jsx("span",{children:"Bán & Thuê"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"rent",className:"w-5",onChange:f,checked:t.type==="rent"}),_.jsx("span",{children:"Thuê"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"sale",className:"w-5",onChange:f,checked:t.type==="sale"}),_.jsx("span",{children:"Bán"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"offer",className:"w-5",onChange:f,checked:t.offer}),_.jsx("span",{children:"Đề xuất"})]})]}),_.jsxs("div",{className:"flex gap-2 flex-wrap items-center text-emerald-900",children:[_.jsx("label",{className:"font-semibold text-emerald-700",children:"Tiện nghi:"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"parking",className:"w-5",onChange:f,checked:t.parking}),_.jsx("span",{children:"Bãi xe"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"checkbox",id:"furnished",className:"w-5",onChange:f,checked:t.furnished}),_.jsx("span",{children:"Nội thất"})]})]}),_.jsxs("div",{className:"flex items-center gap-2 text-emerald-900",children:[_.jsx("label",{className:"font-semibold text-emerald-700",children:"Sắp xếp:"}),_.jsxs("select",{onChange:f,defaultValue:"created_at_desc",id:"sort_order",className:"border rounded-lg p-3",children:[_.jsx("option",{value:"regularPrice_desc",children:"Giá cao đến thấp"}),_.jsx("option",{value:"regularPrice_asc",children:"Giá thấp đến cao"}),_.jsx("option",{value:"createdAt_desc",children:"Mới nhất"}),_.jsx("option",{value:"createdAt_asc",children:"Cũ nhất"})]})]}),_.jsx("button",{className:"bg-emerald-500 text-white px-5 py-2 font-medium rounded-lg hover:bg-emerald-600",children:"Tìm kiếm"})]})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h1",{className:"text-3xl font-semibold border-b p-3 text-emerald-700 mt-5",children:"Kết quả tìm kiếm:"}),_.jsxs("div",{className:"p-7 flex flex-wrap gap-4",children:[!i&&o.length===0&&_.jsx("p",{className:"text-xl text-emerald-700",children:"Không tìm thấy bài đăng!"}),i&&_.jsx("p",{className:"text-xl text-emerald-700 text-center w-full",children:"Đang tải..."}),!i&&o&&o.map(v=>_.jsx(eo,{listing:v},v.slug)),d&&_.jsx("button",{onClick:g,className:"text-emerald-700 hover:underline p-7 text-center w-full",children:"Show more"})]})]})]})}function g2(){return _.jsxs(zP,{children:[_.jsx(sM,{}),_.jsxs(kP,{children:[_.jsx(Ht,{path:"/",element:_.jsx(bI,{})}),_.jsx(Ht,{path:"/sign-in",element:_.jsx(FR,{})}),_.jsx(Ht,{path:"/sign-up",element:_.jsx($R,{})}),_.jsx(Ht,{path:"/about",element:_.jsx(HR,{})}),_.jsx(Ht,{path:"/search",element:_.jsx(m2,{})}),_.jsx(Ht,{path:"/listing/:listingSlug",element:_.jsx(p2,{})}),_.jsxs(Ht,{element:_.jsx(oM,{}),children:[_.jsx(Ht,{path:"/profile",element:_.jsx(tM,{})}),_.jsx(Ht,{path:"/create-listing",element:_.jsx(aM,{})}),_.jsx(Ht,{path:"/update-listing/:listingSlug",element:_.jsx(lM,{})})]})]})]})}var Wp="persist:",OS="persist/FLUSH",Vp="persist/REHYDRATE",NS="persist/PAUSE",RS="persist/PERSIST",AS="persist/PURGE",MS="persist/REGISTER",v2=-1;function Ya(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ya=function(n){return typeof n}:Ya=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ya(e)}function L_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function _2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L_(n,!0).forEach(function(i){y2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L_(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function y2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w2(e,t,n,i){i.debug;var r=_2({},n);return e&&Ya(e)==="object"&&Object.keys(e).forEach(function(o){o!=="_persist"&&t[o]===n[o]&&(r[o]=e[o])}),r}function x2(e){var t=e.blacklist||null,n=e.whitelist||null,i=e.transforms||[],r=e.throttle||0,o="".concat(e.keyPrefix!==void 0?e.keyPrefix:Wp).concat(e.key),l=e.storage,d;e.serialize===!1?d=function(N){return N}:typeof e.serialize=="function"?d=e.serialize:d=S2;var u=e.writeFailHandler||null,f={},p={},g=[],v=null,w=null,E=function(N){Object.keys(N).forEach(function(A){x(A)&&f[A]!==N[A]&&g.indexOf(A)===-1&&g.push(A)}),Object.keys(f).forEach(function(A){N[A]===void 0&&x(A)&&g.indexOf(A)===-1&&f[A]!==void 0&&g.push(A)}),v===null&&(v=setInterval(b,r)),f=N};function b(){if(g.length===0){v&&clearInterval(v),v=null;return}var P=g.shift(),N=i.reduce(function(A,M){return M.in(A,P,f)},f[P]);if(N!==void 0)try{p[P]=d(N)}catch(A){console.error("redux-persist/createPersistoid: error serializing state",A)}else delete p[P];g.length===0&&C()}function C(){Object.keys(p).forEach(function(P){f[P]===void 0&&delete p[P]}),w=l.setItem(o,d(p)).catch(y)}function x(P){return!(n&&n.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function y(P){u&&u(P)}var T=function(){for(;g.length!==0;)b();return w||Promise.resolve()};return{update:E,flush:T}}function S2(e){return JSON.stringify(e)}function b2(e){var t=e.transforms||[],n="".concat(e.keyPrefix!==void 0?e.keyPrefix:Wp).concat(e.key),i=e.storage;e.debug;var r;return e.deserialize===!1?r=function(l){return l}:typeof e.deserialize=="function"?r=e.deserialize:r=T2,i.getItem(n).then(function(o){if(o)try{var l={},d=r(o);return Object.keys(d).forEach(function(u){l[u]=t.reduceRight(function(f,p){return p.out(f,u,d)},r(d[u]))}),l}catch(u){throw u}else return})}function T2(e){return JSON.parse(e)}function E2(e){var t=e.storage,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:Wp).concat(e.key);return t.removeItem(n,P2)}function P2(e){}function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k_(n,!0).forEach(function(i){C2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function C2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I2(e,t){if(e==null)return{};var n=L2(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function L2(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var k2=5e3;function O2(e,t){var n=e.version!==void 0?e.version:v2;e.debug;var i=e.stateReconciler===void 0?w2:e.stateReconciler,r=e.getStoredState||b2,o=e.timeout!==void 0?e.timeout:k2,l=null,d=!1,u=!0,f=function(g){return g._persist.rehydrated&&l&&!u&&l.update(g),g};return function(p,g){var v=p||{},w=v._persist,E=I2(v,["_persist"]),b=E;if(g.type===RS){var C=!1,x=function(B,z){C||(g.rehydrate(e.key,B,z),C=!0)};if(o&&setTimeout(function(){!C&&x(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},o),u=!1,l||(l=x2(e)),w)return wn({},t(b,g),{_persist:w});if(typeof g.rehydrate!="function"||typeof g.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return g.register(e.key),r(e).then(function(M){var B=e.migrate||function(z,$){return Promise.resolve(z)};B(M,n).then(function(z){x(z)},function(z){x(void 0,z)})},function(M){x(void 0,M)}),wn({},t(b,g),{_persist:{version:n,rehydrated:!1}})}else{if(g.type===AS)return d=!0,g.result(E2(e)),wn({},t(b,g),{_persist:w});if(g.type===OS)return g.result(l&&l.flush()),wn({},t(b,g),{_persist:w});if(g.type===NS)u=!0;else if(g.type===Vp){if(d)return wn({},b,{_persist:wn({},w,{rehydrated:!0})});if(g.key===e.key){var y=t(b,g),T=g.payload,P=i!==!1&&T!==void 0?i(T,p,y,e):y,N=wn({},P,{_persist:wn({},w,{rehydrated:!0})});return f(N)}}}if(!w)return t(p,g);var A=t(b,g);return A===b?p:f(wn({},A,{_persist:w}))}}function O_(e){return A2(e)||R2(e)||N2()}function N2(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function R2(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function A2(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N_(n,!0).forEach(function(i){M2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function M2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DS={registry:[],bootstrapped:!1},D2=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:DS,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case MS:return Wf({},t,{registry:[].concat(O_(t.registry),[n.key])});case Vp:var i=t.registry.indexOf(n.key),r=O_(t.registry);return r.splice(i,1),Wf({},t,{registry:r,bootstrapped:r.length===0});default:return t}};function z2(e,t,n){var i=n||!1,r=up(D2,DS,t&&t.enhancer?t.enhancer:void 0),o=function(f){r.dispatch({type:MS,key:f})},l=function(f,p,g){var v={type:Vp,payload:p,err:g,key:f};e.dispatch(v),r.dispatch(v),i&&d.getState().bootstrapped&&(i(),i=!1)},d=Wf({},r,{purge:function(){var f=[];return e.dispatch({type:AS,result:function(g){f.push(g)}}),Promise.all(f)},flush:function(){var f=[];return e.dispatch({type:OS,result:function(g){f.push(g)}}),Promise.all(f)},pause:function(){e.dispatch({type:NS})},persist:function(){e.dispatch({type:RS,register:o,rehydrate:l})}});return t&&t.manualPersist||d.persist(),d}var Gp={},Zp={};Zp.__esModule=!0;Zp.default=B2;function Qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qa=function(n){return typeof n}:Qa=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qa(e)}function xd(){}var j2={getItem:xd,setItem:xd,removeItem:xd};function U2(e){if((typeof self>"u"?"undefined":Qa(self))!=="object"||!(e in self))return!1;try{var t=self[e],n="redux-persist ".concat(e," test");t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch{return!1}return!0}function B2(e){var t="".concat(e,"Storage");return U2(t)?self[t]:j2}Gp.__esModule=!0;Gp.default=H2;var F2=$2(Zp);function $2(e){return e&&e.__esModule?e:{default:e}}function H2(e){var t=(0,F2.default)(e);return{getItem:function(i){return new Promise(function(r,o){r(t.getItem(i))})},setItem:function(i,r){return new Promise(function(o,l){o(t.setItem(i,r))})},removeItem:function(i){return new Promise(function(r,o){r(t.removeItem(i))})}}}var zS=void 0,W2=V2(Gp);function V2(e){return e&&e.__esModule?e:{default:e}}var G2=(0,W2.default)("local");zS=G2;const Z2=jw({user:lk}),q2={key:"root",storage:zS,version:1},K2=O2(q2,Z2),jS=VL({reducer:K2,middleware:e=>e({serializableCheck:!1})}),X2=z2(jS);function el(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?el=function(n){return typeof n}:el=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},el(e)}function J2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Y2(e,t,n){return t&&R_(e.prototype,t),n&&R_(e,n),e}function Q2(e,t){return t&&(el(t)==="object"||typeof t=="function")?t:tl(e)}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vf(e)}function tl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gf(e,t)}function Gf(e,t){return Gf=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Gf(e,t)}function nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var US=function(e){eD(t,e);function t(){var n,i;J2(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return i=Q2(this,(n=Vf(t)).call.apply(n,[this].concat(o))),nl(tl(i),"state",{bootstrapped:!1}),nl(tl(i),"_unsubscribe",void 0),nl(tl(i),"handlePersistorState",function(){var d=i.props.persistor,u=d.getState(),f=u.bootstrapped;f&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return Y2(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(k.PureComponent);nl(US,"defaultProps",{children:null,loading:null});Sd.createRoot(document.getElementById("root")).render(_.jsx(dL,{store:jS,children:_.jsx(US,{loading:null,persistor:X2,children:_.jsx(g2,{})})}));
